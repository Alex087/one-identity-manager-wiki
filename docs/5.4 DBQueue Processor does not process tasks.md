**5.4 DBQueue Processor does not process tasks**

19 августа 2024 г.

15:36

 

- Title  
  DBQueue Processor does not process tasks

- Description  
  DBQueue Processor does not process tasks.  No new tasks appear and/or
  existing tasks are not processing.  
    
  What troubleshooting steps exist to resolve this issue?

- Resolution  
  ***Please note that the following steps apply to version 8.2.1 and
  below only.  ***
     
  **1. Execute the following steps in the database using a suitable
  query tool, e.g. SQL Management Studio:  
    **
  Stop all DBQueue Processor components.  
    
  exec QBM_PWatchDogPrepare 1  
    
  go  
    
  exec QBM_PDBQueuePrepare 1  
    
  go  
    
    
    
  **2. Check whether other database sessions are active:  
    **
  select \*  
    
  from sys.sysprocesses p  
    
  where dbid = DB_ID()  
    
  and spid \<\> @@SPID  
    
    
    
  If there are still sessions active, they must be closed first.  
    
    
    
  **3. Create a new ServiceBroker ID and enable message delivery:  
    **
  alter database \<database name\> set NEW_BROKER  
    
  go  
    
  alter database \<database name\> set enable_broker  
    
  go  
    
  Initializing the DBQueue Processor.  
    
  exec QBM_PDBQueuePrepare 0,1  
    
  go  
    
  exec QBM_PWatchDogPrepare  
    
  go

>  
>
> *From
> \<<https://support.oneidentity.com/identity-manager/kb/4349273/dbqueue-processor-does-not-process-tasks>\>*
