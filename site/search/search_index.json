{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u041e\u0433\u043b\u0430\u0432\u043b\u0435\u043d\u0438\u0435 Misc Sync \u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043a \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u0411\u0414 1IM \u0438\u0437 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430 Group Members One Identity Native DB Connector One Identity PoSh Connector Scripts \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e GUID \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0445\u0435\u0448\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e PDF \u0444\u0430\u0439\u043b\u0430 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 SQL \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 ObjectKey SQL \u0437\u0430\u043f\u0440\u043e\u0441 \u041f\u0440\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 Type list is not defined \u041d\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442 \u0438\u0437 \u0411\u0414 \u0421\u043b\u043e\u0432\u0430\u0440\u0438 (Dictionary) \u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 Visual Studio Attestation (Recertification) \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u043f\u0430\u043a\u0435\u0442 \u0441 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430\u043c\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u0412\u044b\u0431\u043e\u0440\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0440\u0443\u043f\u043f UNS \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u044b \u0441 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u043c\u0438 ITShop \u0438\u0437 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b-\u0432\u043e AttestationCases \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 Auxiliary routing for ATT_PAttestationHelperFillAll. Procedure simulates bulk mode Troubleshooting \u041f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f Single user mode \u0434\u043b\u044f \u0411\u0414 \u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0435 Schema extensions \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \u0438 \u0441\u0445\u0435\u043c\u0430 \u043d\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e Maintenance Mode DBQueue Processor does not process tasks \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 Membership of UNS user accounts in UNS group \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e Service Broker \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439 Rebuild Table Index How to Enable TRACE Logging Web Designer Timeout session Database queries ObjectWalker Translations \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0445 \u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0417\u0430\u0434\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 Single row \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0440\u043e\u043b\u044c System role \u0432 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0440\u043e\u043b\u044c \u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u043b\u0438\u0442\u043a\u0430 \u041c\u043e\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e Accordeon \u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 (Tab) \u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0432\u044b\u0432\u043e\u0434\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438 \u0432 VI_Common_ProperyViewer \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 CSS \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0441 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 IT Shop Web Portal Angular Install HTTP Error 404 Page Not Found \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u043e\u0438\u0441\u043a Debugging If Components Custom theme Troubleshooting Angular portal Imxclient \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0438 \u043f\u0440\u0430\u0432\u0430 IT Shop Deployment customizations Tiles Menu Visibilities pages Customizing portal XSRF token \u041e\u0448\u0438\u0431\u043a\u0430 Cookies \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c CSS Csharp Snippets \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 URL \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 md5 Notifications \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0441\u0435\u043c \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u043c \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u043c \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f Risk Index \u0421\u043a\u0440\u0438\u043f\u0442 \u043f\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 Logs Performance Issues Mail Template \u041d\u0430\u0448\u0430 \u0441\u043b\u0443\u0436\u0431\u0430 POST Processes AD Permissions Trust DC SSO Portal Exchange OneIM Course API SOAP Skype Oracle \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c BPM HR SAP \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f UnitOfWork Transfer Schema Extensions DbQueue \u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b Upgrade Communication Ports \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b Reports Xorigin CSV Transport Archive DB","title":"Home"},{"location":"#_1","text":"Misc Sync \u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043a \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u0411\u0414 1IM \u0438\u0437 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430 Group Members One Identity Native DB Connector One Identity PoSh Connector Scripts \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e GUID \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0445\u0435\u0448\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e PDF \u0444\u0430\u0439\u043b\u0430 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 SQL \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 ObjectKey SQL \u0437\u0430\u043f\u0440\u043e\u0441 \u041f\u0440\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 Type list is not defined \u041d\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442 \u0438\u0437 \u0411\u0414 \u0421\u043b\u043e\u0432\u0430\u0440\u0438 (Dictionary) \u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 Visual Studio Attestation (Recertification) \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u043f\u0430\u043a\u0435\u0442 \u0441 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430\u043c\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u0412\u044b\u0431\u043e\u0440\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0440\u0443\u043f\u043f UNS \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u044b \u0441 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u043c\u0438 ITShop \u0438\u0437 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b-\u0432\u043e AttestationCases \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 Auxiliary routing for ATT_PAttestationHelperFillAll. Procedure simulates bulk mode Troubleshooting \u041f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f Single user mode \u0434\u043b\u044f \u0411\u0414 \u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0435 Schema extensions \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \u0438 \u0441\u0445\u0435\u043c\u0430 \u043d\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e Maintenance Mode DBQueue Processor does not process tasks \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 Membership of UNS user accounts in UNS group \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e Service Broker \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439 Rebuild Table Index How to Enable TRACE Logging Web Designer Timeout session Database queries ObjectWalker Translations \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0445 \u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0417\u0430\u0434\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 Single row \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0440\u043e\u043b\u044c System role \u0432 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0440\u043e\u043b\u044c \u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u043b\u0438\u0442\u043a\u0430 \u041c\u043e\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e Accordeon \u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 (Tab) \u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0432\u044b\u0432\u043e\u0434\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438 \u0432 VI_Common_ProperyViewer \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 CSS \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0441 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 IT Shop Web Portal Angular Install HTTP Error 404 Page Not Found \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u043e\u0438\u0441\u043a Debugging If Components Custom theme Troubleshooting Angular portal Imxclient \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0438 \u043f\u0440\u0430\u0432\u0430 IT Shop Deployment customizations Tiles Menu Visibilities pages Customizing portal XSRF token \u041e\u0448\u0438\u0431\u043a\u0430 Cookies \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c CSS Csharp Snippets \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 URL \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 md5 Notifications \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0441\u0435\u043c \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u043c \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u043c \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f Risk Index \u0421\u043a\u0440\u0438\u043f\u0442 \u043f\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 Logs Performance Issues Mail Template \u041d\u0430\u0448\u0430 \u0441\u043b\u0443\u0436\u0431\u0430 POST Processes AD Permissions Trust DC SSO Portal Exchange OneIM Course API SOAP Skype Oracle \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c BPM HR SAP \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f UnitOfWork Transfer Schema Extensions DbQueue \u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b Upgrade Communication Ports \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b Reports Xorigin CSV Transport Archive DB","title":"\u041e\u0433\u043b\u0430\u0432\u043b\u0435\u043d\u0438\u0435"},{"location":"1.%20Misc/","text":"1. Misc 16 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2019 \u0433. 18:34 \u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0438\u043c\u0435\u043d\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 Mapping \u041f\u043e\u0447\u0438\u0442\u0430\u0442\u044c https://slourc.wordpress.com/2015/03/01/d1im-designer-deleguer-automatiquement-les-droits-de-responsable-sur-une-personne-a-un-assistant/ https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/73 Identity Manager 8.0.1 - Target System Synchronization Reference Guide (oneidentity.com) OneIdentity/IdentityManager.PoSh-Connector-Generator (github.com) SQL Server Collation SQL_Latin1_General_CP1_CI_AS \u041f\u043e\u0447\u0442\u0430 Postfix \u043d\u0430 WSL \u041f\u043e\u0440\u0442 2526 \u0420\u0435\u043a\u043e\u043d\u0441\u0438\u043b\u044f\u0446\u0438\u044f: \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0445\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 IDM, \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0432 \u0446\u0435\u043b\u0435\u0432\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445. \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043b\u044f\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445, \u0432\u044b\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u0439, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439. From \\< http://co-inform.ru/solutions/identity-and-access-management/glossary.php > \u0412\u0410\u0416\u041d\u041e! \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 - \u0435\u0441\u043b\u0438 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043e\u043f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 - \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u043c\u043f\u043e\u0440\u0442 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0441\u043a\u0440\u0438\u043f\u0442\u0435! Job Server \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c SQL Processing Server \u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043c\u0435\u043d\u044f\u0435\u043c \u0438 \u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 \u0438 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043d\u0430 \u0441\u0430\u043c\u043e\u043c Job Server \u0427\u0442\u043e\u0431\u044b JobServer \u043f\u043e\u044f\u0432\u0438\u043b\u0441\u044f \u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 - \u043d\u0430\u0434\u043e \u0435\u0433\u043e \u0441\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440 (\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c Template \u0438\u0437 \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u044e) ~~\u0415\u0441\u043b\u0438 \u0411\u0414, \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 JobServer \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435 - \u043d\u0430\u0434\u043e \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 JobServer \u0443\u043a\u0430\u0437\u0430\u0442\u044c Execution Server \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441 \u0411\u0414~~ 3) \u0414\u043b\u044f \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0432 Manager \u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c System User Password! 4) \u0427\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c, \u0432 \u043a\u0430\u043a\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 - \u0432 Manager \u2013 \u043e\u0442\u043a\u0440\u044b\u0442\u044c Employee - View \u2013 Show Field Definition --------------------------------------------------------------- 1) Password Policy \u0415\u0441\u043b\u0438 Initial Password \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c - \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0443\u043b\u0434\u0435\u0442 \u0433\u0435\u043d\u0435\u0440\u0438\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c! \u0421\u0446\u0435\u043f\u043b\u0435\u043d\u0438\u0435 Manager \u2013 Domain \u2013 Define search criteria for employee assignment PERSONNELNUMBER = EMPLOYEE UID (\u0441\u043c \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u0441\u043f\u0440\u0430\u0432\u0430) 2) Account Definition \u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439. \u041f\u043e\u043a\u0430 \u043e\u043d \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d - \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442. \u041c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u0434\u0432\u0443\u043c\u044f \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438 \u041d\u0430 \u0434\u043e\u043c\u0435\u043d \u041d\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 Manager \u2013 Employees \u2013 Active Directory - Basic Conf Data - Account Definitions Full Managed means that all predefined attributes are affected and Unmanaged means that only mandatory predefined attributes are affected. IT Operating Data - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0441\u0432\u044f\u0437\u0438 \u043c\u0435\u0436\u0434\u0443 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u043c \u0432 \u0431\u0430\u0437\u0435 \u0438 AD. \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 - Tasks \u2013 Edit It operating Data \u041f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0411\u0414, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u043b\u0441\u044f \u0432 AD \u043d\u0430\u0434\u043e \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043f\u043e \u043d\u0435\u043c\u0443 - Tasks \u2013 Assign Account Definitions \u0421\u0432\u044f\u0437\u044c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u0431\u0430\u0437\u0435 \u0438 OU \u0432 AD \u0414\u0435\u043b\u0430\u0435\u043c \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0443 \u0432 csv \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0417\u0430\u0442\u0435\u043c \u0434\u0435\u043b\u0430\u0435\u0442 Data Import \u044d\u0442\u043e\u0439 csv \u0432 \u0411\u0414, \u0447\u0442\u043e\u0431\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 TSBITData. ``` select newid() as uid_TSBITData, Department.UID_Department as UID_ORG,'\\<Key>\\<T>TSBAccountDef\\</T>\\<P>8b826aeb-9a5f-4c84-a528-6af40976b6f7\\</P>\\</Key>' as ObjectKeyAppliesTo, 'ADS-D7251336DB99478B8616695F0DF66584' as UID_DialogColumnTarget, ADSContainer.UID_ADSContainer, 'TSBAccountDef: Std. user account Domain SGP - ADSAccount.UID_ADSContainer' as DisplayValue from Department INNER JOIN ADSContainer ON Department.Commentary=ADSContainer.DistinguishedName ``` \u041f\u043e\u0441\u043b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u0430 csv \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0432 \u0431\u0430\u0437\u0435 Department \u0438 TSBITDATA \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u0441\u0432\u044f\u0437\u0435\u0439! \u0418\u043d\u0430\u0447\u0435, \u043d\u0430\u0434\u043e \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0432\u044f\u0437\u0438! 3) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Person \u0432 \u0411\u0414 (Designer - Table \u2013 Person - CentralAccount) ``` '$CustomProperty01$ If CStr($ImportSource$) \\<> \"ADS\" And CStr($Lastname$) \\<> \"\" And CStr($Firstname$) \\<> \"\" And CStr($Middlename$) \\<> \"\" And _ (Not CBool(Connection.Variables.Get(\"FULLSYNC\")) Or CStr($ImportSource$).StartsWith(\"EBS\") Or CStr($ImportSource$).StartsWith(\"SAP\") ) Then If CStr(Connection.GetConfigParm(\"QER\\Person\\CentralAccountGlobalUnique\"))=\"1\" Then Value = CCC_AE_BuildCentralAccountGlobalUnique( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) Else Value = CCC_AE_BuildCentralAccount( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) End If End If ``` \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 AD \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u043b\u0441\u044f cn, Full name \u2026 \u041d\u0430\u0434\u043e \u0434\u043b\u044f cn \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c ``` If $Givenname$ \\<> $Givenname[o]$ Or $Surname$ \\<> $Surname[o]$ Or $FK(UID_Person).Middlename$ \\<> $FK(UID_Person).Middlename[o]$ Then If $Givenname$\\<>\"\" AndAlso $Surname$\\<>\"\" AndAlso $FK(UID_Person).Middlename$\\<>\"\" Then CN = $Surname$ & \" \" & $Givenname$ & \" \" & $FK(UID_Person).Middlename$ ``` 4) \u0420\u043e\u043b\u0438 \u043a\u043b\u0430\u0441\u0441\u043e\u0432 \u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u043e \u0434\u0435\u0440\u0435\u0432\u044c\u0435\u0432 \u0440\u043e\u043b\u0435\u0439. \u041a\u0430\u0436\u0434\u043e\u043c\u0443 \u0434\u0435\u0440\u0435\u0432\u0443 \u0440\u043e\u043b\u0435\u0439 \u043d\u0443\u0436\u0435\u043d \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0440\u043e\u043b\u044c\u044e \u043a\u043b\u0430\u0441\u0441\u0430 (role class). \u042d\u0442\u0430 \u0440\u043e\u043b\u044c \u043a\u043b\u0430\u0441\u0441\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c\u044b\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0438 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0432 \u044d\u0442\u043e\u043c \u0434\u0435\u0440\u0435\u0432\u0435. \u0415\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 - \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c. \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0444\u0438\u043a\u0441\u0438\u0442\u044c, \u043d\u0430\u0434\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u043e\u043b\u044c \u043a\u043b\u0430\u0441\u0441\u0430 \u0438 \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0435. \u041d\u0430\u0434\u043e \u0431\u044b\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0440\u043e\u043b\u0438 \u043a\u043b\u0430\u0441\u0441\u0430. \u0412 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0440\u043e\u043b\u0435\u0432\u043e\u0439 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435, \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f. \u0420\u043e\u043b\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u044f\u0437\u044c Account Definitions \u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u0431\u043e\u0440\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0438 (\u0447\u0435\u0440\u0435\u0437 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 Dynamic role). \u0421\u043e\u0437\u0434\u0430\u0435\u043c Account definition \u0434\u043b\u044f AD, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 -> \u041a\u043b\u0430\u0441\u0441 \u0440\u043e\u043b\u044c -> \u0411\u0438\u0437\u043d\u0435\u0441\u0441 \u0440\u043e\u043b\u044c -> \u041d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c \u0440\u043e\u043b\u0438 Dynamic role (\u0435\u0441\u043b\u0438 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0438 - \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0432 AD, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440). \u041d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0411\u0438\u0437\u043d\u0435\u0441\u0441 \u0440\u043e\u043b\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e. Show Entitlement origin - \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c, \u0447\u0442\u043e \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043e \u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0443. \u0423 \u0440\u043e\u043b\u0438 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 - \u044d\u0442\u043e \u0432\u0430\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0431\u044b\u043b\u043e \u043e\u0447 \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u0447! 5) Compliance rule \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0434\u0432\u0443\u0445 \u0440\u043e\u043b\u044f\u0445. Preventative Compliance check Identity Audit - > Rules. \u0427\u0442\u043e\u0431\u044b \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e - \u043d\u0430\u0434\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0447\u0443\u044e \u043a\u043e\u043f\u0438\u044e. \u0422\u0430\u043a\u0436\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043d\u0430\u0436\u0430\u0442\u044c [\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c], \u0447\u0442\u043e\u0431\u044b \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f. \u041f\u043e\u0441\u043b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0443\u044e \u043a\u043e\u043f\u0438\u044e \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0437\u0430\u0434\u0430\u0447, \u0447\u0442\u043e\u0431\u044b \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0435. Preventative Compliance checks \u043b\u0443\u0447\u0448\u0435, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0441\u0430\u043c\u0443 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u0433\u0440\u0443\u043f\u043f\u044b \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e. \u0420\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u044c approval policy. \u0411\u0435\u0437 \u043d\u0435\u0435 - \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c! ------ 6) \u041f\u043e Account Definitions \u0434\u043b\u044f HP Service Desk \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430\u0435\u0442 \u0438\u0437 CSV \u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043e\u043d \u043f\u043e\u043c\u0435\u0449\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u0443\u0436\u043d\u0443\u044e \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 (dynamic role). \u041d\u0430 \u044d\u0442\u0443 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d Account Definition \u0438\u0437 AD \u0438 \u0438\u0437 HP Service desk, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 AD \u0438 \u0432 HP \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043d\u0443\u0436\u043d\u044b\u0435 \u0433\u0440\u0443\u043f\u043f\u044b AD \u0438 \u0440\u043e\u043b\u0438 Service desk. Acc Def HP Employee Account Def \u0442\u0440\u0435\u0431\u0443\u0435\u0442 Std User Account Domain SGP (\u043e\u0442\u043a\u043b\u044e\u0447\u0438\u043b, \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f) HP Account Def \u0442\u0440\u0435\u0431\u0443\u0435\u0442 Acc Def HP Employee Account Def 7) System Debugger \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u0432 Designer, \u0438 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0435\u0433\u043e \u0432 Visual Studio \u0438 \u043f\u0440\u0430\u0432\u0438\u043c. \u041d\u0430\u0434\u043e \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \"C:\\Program Files\\One Identity\\One Identity Manager\\SystemLibrary\\SystemLibrary.sln\" \u0447\u0435\u0440\u0435\u0437 Visual Studio \u041f\u043e\u0442\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0435\u0433\u043e \u0438 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f System Debugger! 19) \u0420\u0438\u0441\u043a \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 - \u0443 \u043d\u0435\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0448\u0435 \u0440\u0438\u0441\u043a 20) Job Server - \u044d\u0442\u043e \u041e\u0421 \u0441 Job Service In Win is One Identity Manager Job Service (short name: OneIMService) 8) \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f https://support.oneidentity.com/technical-documents/identity-manager/8.0/target-system-base-module-administration-guide/5 \u0421\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (Designer - Base Data \u2013 Schedules) \"Lock accounts of employees that have left the company\" \u0414\u043b\u044f \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \"Enable temporarily disabled accounts\" \u0414\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u043d\u0430\u0434\u043e \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f Enabled \u0438 Disabled, \u043a\u0430\u043a \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u0441 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\u043c\u0438. 9) External Employee \u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043b\u044f \u043d\u0438\u0445 ITSHOP \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c - External \u0438 \u043d\u0430\u043a\u0438\u043d\u0443\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 - \u0443\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f / \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043d\u0438\u0445. \u0418\u043b\u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c \u0441 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0432 \u043d\u0435\u0435 \u0438 \u043d\u0430\u043a\u0438\u043d\u0443\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438!!! \u0420\u043e\u043b\u044c External user approvers \u2013 \u0432 \u043d\u0435\u0435 \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 External users QER\\WebPortal\\PasswordResetURL - \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0434\u043b\u044f \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f. 10) \u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u041e\u0442\u0447\u0435\u0442 System entitlement drifts in all target systems \u0427\u0435\u0440\u0435\u0437 Insert \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0432\u043e\u0439 \u041c\u043e\u0436\u043d\u043e, \u0447\u0435\u0440\u0435\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u0440\u044f\u043c\u043e \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u044b Value = $FK(UID_ADSAccount).UserPrincipalName$ \u041c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 email Message: Value = \"User \" + $FK(UID_ADSAccount).UserPrincipalName$ + \" add in group \" + $FK(UID_ADSGroup).cn$ + \" in \" + Now().ToString() Subject Value = \"Changes in group \" + $FK(UID_ADSGroup).cn$ https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/73 \u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0441 \u043e\u0442\u043c\u0435\u043d\u043e\u0439 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0433\u0440\u0443\u043f\u043f \u0432 AD: 1) \u0414\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 INSERT \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 ADSAccountInADSGroup 2) \u041f\u0435\u0440\u0432\u044b\u0439 \u0448\u0430\u0433 - \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email 3) \u0421\u043a\u0440\u0438\u043f\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c \u043e \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0435 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b ADSAccountInADSGroup (\u0441\u043c \u0441\u043f\u0440\u0430\u0432\u0430) \u042d\u0442\u043e\u0442 \u0441\u043a\u0440\u0438\u043f\u0442 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0441 \u043f\u043e\u043c\u0435\u0442\u043a\u043e\u0439 Synchronization, \u0434\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 - \u043d\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u0442 11) System roles \u041f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u043d\u0430\u0432\u0435\u0441\u0438\u0442\u044c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0440\u043e\u043b\u0435\u0439 \u043d\u0430 \u043d\u0438\u0445. 12) Risk Index \u041d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0443\u044e \u0446\u0435\u043b\u0435\u0432\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u0430\u0441\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440. To enable the schedule for calculating risk indexes Open the Designer. Select Base Data | General | Schedules . Select the schedule \"Calculate risk indexes\" in the List Editor. Check the box in the Enabled column. Save the changes. https://support.oneidentity.com/technical-documents/identity-manager/8.0/risk-assessment-administration-guide/5#TOPIC-863144 13) Time Trace \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0441 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u041d\u0430\u0434\u043e \u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 - Config Parameters \u2013 Common \u2013 ProcessState \u2013 PropertyLog (x) \u2013 AllDefaultPropertiesForModel (x) \u0417\u0430\u0442\u0435\u043c, \u0432 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 - View \u2013 Time Trace (\u0438 \u0432 \u043e\u043a\u043d\u0435 TimeTrace \u043d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u0447\u0430\u0441\u044b) \u0417\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0442 \u0442\u0430\u0431\u043b\u0438\u0446\u044b DialogWatchProperty \u0438 DialogWatchOperation 14) API https://support.oneidentity.com/technical-documents/identity-manager/8.0/rest-api-reference-guide/15 https://t-oneim-4.domain/AppServer/api/entity/Department/30002471 15) \u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0424\u0418\u041e \u0432 Sync Editor \u0432 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u0445 Dim probel as String = \" \" Dim fio as String = $LASTNAME$ & probel & $FIRSTNAME$ & probel & $MIDDLENAME$ return fio 16) Active Directory - \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0441\u0446\u0435\u043f\u0438\u0442\u044c \u0443\u0447\u0435\u0442\u043a\u0438 \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u041f\u043e \u0424\u0418\u041e \u041f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0438\u0437 csv \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u043c \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0424\u0418\u041e \u0432 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0412 \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0439 \u0434\u043b\u044f \u0441\u0446\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u0443\u0447\u0435\u0442\u043e\u043a \u043f\u0438\u0448\u0435\u043c - \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 - DisplayName (\u0438\u043b\u0438 Name, \u0435\u0441\u043b\u0438 \u043b\u0443\u0447\u0448\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442) 17) isGroupAccount \u0421\u0442\u0430\u0432\u0438\u0442\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u044b \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0443\u0447\u0435\u0442\u043e\u043a (\u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430, \u043e\u0431\u044b\u0447\u043d\u0430\u044f). \u041a\u043e\u0433\u0434\u0430 \u0435\u043c\u0443 \u0434\u0430\u0435\u0442\u0441\u044f \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443, \u043e\u0431\u0435 \u0443\u0447\u0435\u0442\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0443, \u0430 \u0430\u0434\u043c\u0438\u043d\u0441\u043a\u0430\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 18) \u0423\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u0435. Leaving Date - \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442 \u0443\u0447\u0451\u0442\u043a\u0443 \u0438 \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0435\u0435 \u0432 AD Last working day - ~~\u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0443\u0447\u0435\u0442\u043a\u0443 (\u0447\u0442\u043e\u0431\u044b \u0443 \u043d\u0435\u0433\u043e \u0431\u044b\u043b \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438)~~ ~~\u041d\u0435 \u0432\u043b\u0438\u044f\u0435\u0442, \u0434\u043b\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438~~ \u0423\u0447\u0435\u0442\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u0432 IDM \u0432 InactiveEmployee https://www.oneidentity.com/community/identity-manager/f/forum/6822/permanently-disabling-users 38) \u0424\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u0442\u044b \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 Public Sub CCC_Test3() Dim date1 = \"20/02/1987\" Dim date2 As DateTime = CType(DateTime.ParseExact(date1, \"dd/MM/yyyy\", System.Globalization.CultureInfo.InvariantCulture), DateTime) Dim date3 As String = date2.ToString(\"dd-MM-yyyy\") MsgBox(date3) End Sub 19) \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b https://www.oneidentity.com/community/identity-manager/f/forum/20846/how-to-trigger-a-process-on-the-approval-of-a-request 20) Defaulemailaddress \u0418\u0437\u043c\u0435\u043d\u0438\u043b \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d #If EX2K Or NOTES Then Dim defaultMailAddress As String If Len($CentralAccount$) > 0 AndAlso Len ($UID_Person$) > 0 Then defaultMailAddress = VI_AE_CreatedefaultMailAddress($centralaccount$,$uid_person$) ' check if mail address is valid If VID_IsSMTPAddress(defaultMailAddress) Then Value = defaultMailAddress End If End If #End If \u043d\u0430 Dim defaultMailAddress As String Dim maildom As String = String.Empty maildom = Connection.GetConfigParm(\"QER\\Person\\DefaultMailDomain\") If Len($CentralAccount$) > 0 Then defaultMailAddress = $centralaccount$ + \"@\" + maildom Value = defaultMailAddress End if The session variable FullSync=FALSE is set if the option Data import is enabled 21) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u044f\u0432\u043a\u0438 \u0432 ServiceDesk (\u0444\u0430\u0439\u043b\u0430) \u0412 ITShop \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u043e\u0434\u0443\u043a\u0442 \u0438 \u0432\u0435\u0448\u0430\u0435\u043c \u043d\u0430 \u043d\u0435\u0433\u043e approval policy \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 CCC_Create_File \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b PersonWantsOrg \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Create_File \u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 #If Not SCRIPTDEBUGGER Then Imports System.IO Imports System.Text #End If Public Function CCC_CreateFile(ByVal UID_PWO As String) As String Dim path As String = \"c:\\temp\\MyTest.txt\" ' Create or overwrite the file. Dim fs As IO.FileStream = IO.File.Create(path) ' Add text to the file. Dim info As Byte() = New UTF8Encoding(True).GetBytes(\"This is some text in the file.\") fs.Write(info, 0, info.Length) fs.Close() Return path End Function \u0414\u043b\u044f Verify_file #If Not SCRIPTDEBUGGER Then Imports System.IO Imports System.Text #End If Public Function CCC_CheckFile() As Boolean Dim a As String = \"123\" Dim path As String = \"c:\\temp\\MyTest.txt\" Dim fs As Boolean = File.Exists(path) If fs = True Then CCC_CheckFile = True Else CCC_CheckFile = False End If End Function \u0412 workflow approval policy \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0442\u0438\u043f EX - Approvals to be made externally \u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 - \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Create_File \u0428\u0430\u0433\u0438 Make positive \u0438 negative \u0432\u0437\u044f\u0442\u044b \u0438\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \"VI_ESS_PersonWantsOrg create AD group\" \u0442\u0430\u0431\u043b\u0438\u0446\u044b PersonWantsOrg \u0423\u0431\u0438\u0440\u0430\u0435\u043c \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 - \u043e\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f, \u0447\u0435\u0440\u0435\u0437 REST API. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0437 1IM https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/29 CreateITShopOrder https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/20#TOPIC-861390 Hi Serge, that's because the methods provided by the customizer are not listed under \"Actions\". Go to the \"Object\" menu, \"Properties\", \"Methods\". The Abort method can only be called internally, so you may need a process to execute the method for you (HandleObjectComponent > CallMethod). HTH, Oliver \u0412\u044b\u0437\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u0438\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 HandleObjectComponent - CallMethod { \"parameters\": [ [ \"sa\", True, \"Approved\", Nothing, \"0\" ] ] } { \"parameters\": [ \"Parameter value\" ], \"base\": \"\\<Key>\\<T>Person\\</T>\\<P>00000000-0000-0000-0000-000000000000\\</P>\\</Key\", \"value\": \"Sample value\" } { \"parameters\": { \"StringValue\": \"string\", \"IntValue\": 0, \"DateValue\": \"2020-01-20T09:27:22.874Z\", \"DoubleValue\": 3.14, \"BoolValue\": true } } MethodName: Value = \"MakeDecision\" ObjectType: Value = \"PersonWantsOrg\" Param1: Value = \"sa\" Param2: Value = \\<approval> (\"true\" = granted; \"false\" = denied) Param3: Value = \\<reason for approval decision> Param4: Value = \\<standard reason> Param5: Value = \\<number approval steps> (PWODecisionStep.SubLevelNumber) WhereClause: Value = \"UID_PersonWantsOrg ='\"& $UID_PersonWantsOrg$ &\"'\" https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/29 \u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c UID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441!!! \u041f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044e! \u0421\u043d\u0430\u0447\u0430\u043b\u0430, \u043f\u0440\u0438 \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, - \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c, \u0435\u0441\u0442\u044c \u043b\u0438 \u0444\u0430\u0439\u043b \u0442\u0430\u043a\u043e\u0439 - \u0435\u0441\u043b\u0438 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435\u0442 - \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0435\u0433\u043e, \u0435\u0441\u043b\u0438 \u0444\u0430\u0439\u043b \u0435\u0441\u0442\u044c - \u0434\u0435\u043b\u0430\u0435\u043c approve. \u041f\u043e\u0442\u043e\u043c, \u0441\u0435\u0440\u0432\u0438\u0441 \u0434\u0435\u0441\u043a \u0434\u0430\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u043d\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0441\u043d\u043e\u0432\u0430 - \u0442\u0430\u043a \u043a\u0430\u043a \u0444\u0430\u0439\u043b \u0435\u0441\u0442\u044c - \u0431\u0443\u0434\u0435\u0442 approve. 22) FULLSYNC The session variable FullSync=FALSE is set if the option Data import is enabled. The session variable is set to FullSync=TRUE if the option is disabled. Different processes, scripts and templates are only executed in the One Identity Manager database if FullSync=FALSE. In this context it means they are only synchronized with a secondary system. Synchronizing with a primary system ignores processes, scripts and templates. \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 Service Items \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a - \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044b \u0441\u0442\u0440\u043e\u043a (Alt + 010) \u0421\u043e\u0437\u0434\u0430\u0442\u044c Shopping Center \u0421\u043e\u0437\u0434\u0430\u0442\u044c ITShop (ITShopOrg) \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c Service Categories \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c Service Items (\u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f Custom Target Systems Groups) \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c Custom Target Systems \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0413\u0440\u0443\u043f\u043f\u044b Custom Target System \u0438 \u0441\u043c\u0430\u043f\u0438\u0442\u044c \u0438\u0445 \u0441 Service Items (AccProduct) \u0421\u043e\u0437\u0434\u0430\u0442\u044c Shops \u0438 Customer \u0421\u043c\u0430\u043f\u0438\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 Account Definitions? \u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0440\u043e\u043b\u0435\u0439 \u0441\u0440\u0430\u0437\u0443 QER\\Structures\\DynamicGroupCheck\\CalculateImmediatelyPerson \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 Process query interval (StartInterval) This property defines a time interval in which One Identity Manager Service can request new process steps. Click on this icon to discard the change. The default value is 90 seconds. Suggestions for configuring the time interval are calculated from Job server statistical data. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0.2/configuration-guide/64 > \u041f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u0435\u0439 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f (Manage Level) Unmanaged - \u0438\u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0443\u0447\u0435\u0442\u043a\u0438 \u043f\u043e\u043b\u044f \u0431\u0435\u0440\u0443\u0442\u0441\u044f \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0443\u0447\u0435\u0442\u043e\u043a, \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0443\u0447\u0435\u0442\u043a\u0438 - \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f Full Managed - \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0443\u0447\u0435\u0442\u043a\u0438 \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0432 \u0443\u0447\u0435\u0442\u043a\u0430\u0445 Custom Target Systems \u0438 \u0434\u0440 \u0412 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445 \u043f\u043e\u043b\u0435\u0439 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0443\u0440\u043e\u0432\u043d\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f! \u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439 It is possible to specify the manage level for an Account Definition for handling Active Directory user accounts (ADSAccounts). The user account\u2019s manage level determines the scope of the properties that a user account inherits from an Employee. This means that an Employee can have several user accounts in an Active Directory domain, e.g.: - A Default user account that inherits all properties from the Employee - An Administrative user account that is associated to an Employee but should not inherit the properties from the Employee. - A Service account that contains the home directory and the profile directory of the Employee but cannot inherit further properties. Identity Manager supplies a configuration for manage levels: \u2022 Unmanaged : User accounts with a manage level of \u201cUnmanaged\u201d are associated with an Employee but do not inherit properties further properties. When a new user account is created and assigned to an Employee, the Employee\u2019s properties are initially transferred. If the Employee\u2019s properties are changed at a later date, the changes are not passed on to the user account. \u2022 Full managed: User accounts with a manage level of \u201cFull managed\u201d inherit specific properties from the assigned Employee. Note: The manage levels, \u201cUnmanaged\u201d and \u201cFull managed\u201d, are taken into account in column templates. Define manage levels depending on the requirements. Then extend templates to include the methods for the additional manage levels. Fore more information, please refer to the Target System Base Module Administration Guide: Account definitions and manage levels . From \\< https://support.oneidentity.com/identity-manager/kb/148806/understanding-manage-levels > Outstanding \u041c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u044b \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u044b\u043b\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0438\u0437 \u044d\u0442\u043e\u0439 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043d\u043e \u043e\u0441\u0442\u0430\u043b\u0438\u0441\u044c \u0432 1IM, \u043f\u043e\u0441\u043b\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (\u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b) The xmarkedfordeletion value bit mask definitions are: 0=Marked for Delete 1=Not found in TargetSystem 2=Contains locked properties So Value = 2 => Bit 1 set to True => Not found in TargetSystem. Normal, means no Bit set => Value = 0 And, ootb there are no other processes setting this value. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/29084/xmarkedfordeletion-2 > Identity Manager 8.0.2 - One Identity Manager Connector User Guide Public Sub CCC_Util_MarkAsOutstanding(XObjectKey As String) Dim OKey As New DbObjectKey(XObjectKey) Dim e As IEntity e = Session.Source.Get(OKey) e.State = VI.DB.Entities.EntityState.OutStanding Using uow = Session.StartUnitOfWork() uow.Put(e) uow.Commit() End Using End Sub From \\< https://www.oneidentity.com/community/identity-manager/f/forum/20582/how-to-set-unsaccountb-as-outstanding-in-vb-script-in-v7-xmarkedfordeletion/57469#57469 > \u0427\u0442\u043e\u0431\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 Outstanding, \u043d\u0430\u0434\u043e \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430 Custom Target System Type \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0417\u0430\u0439\u0442\u0438 \u0432 Target System Syncronization \u0438 \u0442\u0430\u043c \u043c\u043e\u0436\u043d\u043e \u0443\u0436\u0435 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u044b https://support.oneidentity.com/technical-documents/identity-manager/8.1/administration-guide-for-connecting-to-custom-target-systems/3 \u0427\u0442\u043e\u0431\u044b \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043d\u043e\u0432\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u043c\u043e\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043b\u0430\u0433 Can be published - \u044d\u0442\u043e \u0434\u0430\u0441\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 HandleOutstanding \u0438 \u0438\u043d\u0437\u0435\u0440\u0442\u0438\u0442\u044c \u0432 \u0446\u0435\u043b\u0435\u0432\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043e\u0431\u044a\u0435\u043a\u0442 \u0441\u043d\u043e\u0432\u0430 To publish outstanding objects Create a process for each table with outstanding objects you want to publish. The process is triggered by the event \"HandleOutstanding\" and provisions the objects. Use the process function \"AdHocProjection\" of the process component \"ProjectorComponent\". For more detailed information about defining processes, see One Identity Manager Configuration Guide. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0/administration-guide-for-connecting-to-custom-target-systems/3 > Meta value Meaning IsLoaded This value specifies whether the object is loaded from the database. IsChanged This value specifies whether the object is altered when it is loaded from the database. IsDifferent This value specifies whether the new value is different from the old value. You can access to the column through: Columnname[C]. IsDeleted This value specifies whether the object is marked for deletion. Table 267: Meta Values and their Meaning From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/84 > \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0441\u0445\u0435\u043c\u044b \u0445\u0440\u0430\u043d\u0438\u043c\u044b\u043c\u0438 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430\u043c\u0438 You cannot create custom functions, triggers or database procedures with the program Schema Extension. If you require custom functions, triggers or database procedures, add them with a suitable query tool into the database. Keep to the following conventions for name database components. Name begin with the string CCC_. All names are a maximum of 30 characters long. It is recommended to use UpperCamelCase for as notation for the names. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0.3/configuration-guide/101#TOPIC-1153571 > Multi-request resources Identity Manager 8.0 - IT Shop Administration Guide (oneidentity.com) IT SHOP: Approval policy \u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e CN \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 AD If Not CBool(Variables(\"FULLSYNC\")) Then Dim CN, CNfix, DNold, DNnew,Domain, wherePart As String Dim i As Integer Dim f As ISqlFormatter = Connection.SqlFormatter If $Givenname$ \\<> $Givenname[o]$ Or $Surname$ \\<> $Surname[o]$ Then If $Givenname$\\<>\"\" AndAlso $Surname$\\<>\"\" Then CN = $Surname$ & \" \" & $Givenname$ ElseIf $Givenname$\\<>\"\" Then CN = $Givenname$ ElseIf $Surname$\\<>\"\" Then CN = $Surname$ Else CN = $cn$ End If Else CN = $cn$ End If Dim cnLen as Integer = Base.TableDef.Columns(\"CN\").MaxLen CN = VID_Left(CN, cnLen) If $cn[o]$\\<>CN Or $UID_ADSContainer[o]$\\<>$UID_ADSContainer$ Then i=1 CNFix = CN If $UID_ADSContainer[o]$ \\<> \"\" Then DNold = $FK(UID_ADSContainer[o]).DistinguishedName$ Else DNold = $FK(UID_ADSDomain[o]).DistinguishedName$ End If If $UID_ADSContainer$ \\<> \"\" Then DNnew = $FK(UID_ADSContainer).DistinguishedName$ Else DNnew = $FK(UID_ADSDomain).DistinguishedName$ End If Domain = $UID_ADSDomain$ If DNold \\<> \"\" And DNold \\<> DNnew Then wherePart = f.OrRelation( _ f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNnew), ValType.String), _ f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNold), ValType.String) _ ) Else wherePart = f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNnew), ValType.String) End If Do While Connection.Exists( \"ADSAccount\", _ f.AndRelation( _ f.UidComparison(\"UID_ADSAccount\", $UID_ADSAccount$, CompareOperator.NotEqual), _ f.UidComparison(\"UID_ADSDomain\", Domain), _ wherePart _ )) CN = VID_Left(CNfix, cnLen - (1 + CStr(i).Length)) & \"_\" & i If DNold \\<> \"\" And DNold \\<> DNnew Then wherePart = f.OrRelation( _ f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNnew), ValType.String), _ f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNold), ValType.String) _ ) Else wherePart = f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNnew), ValType.String) End If i=i+1 Loop End If Value = CN End If Oracle DB ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-FD31AB9E86D47A4EABE18EFBF3F642A9\\</P>\\</Key>, CCC_Test2) #If Not SCRIPTDEBUGGER Then References Devart.Data.Oracle.dll Imports Devart.Data.Oracle #End If Public Function GetOracleConnectionString() As String Dim cs As New Devart.Data.Oracle.OracleConnectionStringBuilder() cs.ConnectMode = Devart.Data.Oracle.OracleConnectMode.Default cs.Sid = \"\" cs.ServiceName = \"OIM_SD\" cs.UserId = \"OIM_SD\" cs.Password = \"Password123\" cs.Server = \"[REDACTED_IP]\" cs.Direct = True Return cs.ConnectionString End Function Public Sub OracleExecute() Dim dbFac As IDbFactory = DbApp.GetFactoryByName(\"VI.DB.Oracle.ViOracleFactory,VI.DB.Oracle\") Dim strSQL As String Dim tabnum As String Dim myP1 As New Devart.Data.Oracle.OracleParameter myP1.ParameterName = \"tabno\" myP1.Value = 873 strSQL = \"ussc_enable_employee\" 'strSQL = \"UPDATE ADMIN.ITSM_PERSONS SET PER_JOBTitle = '\u0421\u0442\u0430\u0440\u0448\u0438\u0439 \u0438\u043d\u0441\u043f\u0435\u043a\u0442\u043e\u0440 \u043a\u0430\u043d\u0446\u0435\u043b\u044f\u0440\u0438\u0438' WHERE PER_OID = 281478295650441\" Using sf = DbApp.ConnectTo(GetOracleConnectionString()).Using(dbFac).BuildSessionFactory() Using dbSession = sf.OpenDbSession() Try dbSession.SqlExecuteStoredProcedure(strSQL) 'dbSession.SqlExecuteNonQuery(strSQL) Catch ex As Exception 'MsgBox(ex) Throw New Exception(\"Error\", ex) End Try End Using End Using End Sub \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c select ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-CB992DB7D1CA2E49A313987CCF7AAA82\\</P>\\</Key>, CCC_Test3) Public Sub CCC_Test3() Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"select * from employee where tab_num LIKE '873'\", .CommandType = CommandType.Text } Dim dr As OracleDataReader = cmd.ExecuteReader() dr.Read() MsgBox(dr.Item(\"ENABLED\")) OracleConnection.Dispose() End Using End Sub -------------------- \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-CB992DB7D1CA2E49A313987CCF7AAA82\\</P>\\</Key>, CCC_Test3) Public Sub CCC_Test3() Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \" ussc_disable_employee \", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add (New OracleParameter(\"v_login\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"873\" cmd.ExecuteNonQuery() OracleConnection.Dispose() End Using End Sub \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f HP, \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-CB992DB7D1CA2E49A313987CCF7AAA82\\</P>\\</Key>, CCC_Test3) Public Sub CCC_Test3() Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"ussc_create_user\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_login\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"ivanovsa\" cmd.Parameters.Add(New OracleParameter(\"v_password\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"qwe123\" cmd.Parameters.Add(New OracleParameter(\"v_firstname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"Semen\" cmd.Parameters.Add(New OracleParameter(\"v_middlename\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"Andreevich\" cmd.Parameters.Add(New OracleParameter(\"v_lastname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"Ivanov\" cmd.Parameters.Add(New OracleParameter(\"v_email\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"<[redacted-email]>\" cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"111234\" cmd.ExecuteNonQuery() OracleConnection.Dispose() End Using End Sub \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 HP Public Function CCC_UNSAccountB_HP_Insert(ByVal dbsUnsAccount As SingleDbObjectSnapshot) As String 'return value should be the UNSAccountB.ObjectGUID 'ussc_create_user - Create user account in HP Service desk Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName = \"c:\\data\\HP\\hp.log\" Dim login As String = dbsUnsAccount.GetValue(\"Accountname\").String Dim email As String = login + \"<@surgut.[redacted-domain]>\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"ussc_create_user\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_login\", OracleDbType.VarChar, ParameterDirection.Input)).Value = login cmd.Parameters.Add(New OracleParameter(\"v_password\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"qwe123\" cmd.Parameters.Add(New OracleParameter(\"v_firstname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"FirstName\").String cmd.Parameters.Add(New OracleParameter(\"v_middlename\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"CCC_MiddleName\").String cmd.Parameters.Add(New OracleParameter(\"v_lastname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"LastName\").String cmd.Parameters.Add(New OracleParameter(\"v_email\", OracleDbType.VarChar, ParameterDirection.Input)).Value = email cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"Description\").String Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try OracleConnection.Dispose() End Using Return dbsUnsAccount.GetValue(\"Description\").String End Function \u0421\u043a\u0440\u0438\u043f\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f Employee HP Public Function CCC_UNSAccountB_HPusers_Insert(ByVal dbsUnsAccount As SingleDbObjectSnapshot) As String 'return value should be the UNSAccountB.ObjectGUID 'ussc_create_employee - Create employee in HP Service desk Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName = \"c:\\data\\HP\\hp.log\" Dim login As String = dbsUnsAccount.GetValue(\"Accountname\").String Dim email As String = login + \"<@surgut.[redacted-domain]>\" Dim adlogin As String = login + \"<@domain>\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"ussc_create_employee\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"Description\").String cmd.Parameters.Add(New OracleParameter(\"v_firstname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"FirstName\").String cmd.Parameters.Add(New OracleParameter(\"v_middlename\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"CCC_MiddleName\").String cmd.Parameters.Add(New OracleParameter(\"v_lastname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"LastName\").String cmd.Parameters.Add(New OracleParameter(\"v_position\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"CCC_Position\").String cmd.Parameters.Add(New OracleParameter(\"v_email\", OracleDbType.VarChar, ParameterDirection.Input)).Value = email cmd.Parameters.Add(New OracleParameter(\"v_organization\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_adlogin\", OracleDbType.VarChar, ParameterDirection.Input)).Value = adlogin cmd.Parameters.Add(New OracleParameter(\"v_location\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_host\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_socket\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_room\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_defaulphone\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_street\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_oid\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try OracleConnection.Dispose() End Using Return dbsUnsAccount.GetValue(\"Description\").String End Function \u0421\u043a\u0440\u0438\u043f\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 HP Public Sub CCC_UnsAccountBInUnsGroupB_HP_Add(ByVal dbsUnsAccount As SingleDbObjectSnapshot, ByVal dbsUnsGroup As SingleDbObjectSnapshot) Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName = \"c:\\data\\HP\\hp.log\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"add_usr_role\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_login\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"Accountname\").String cmd.Parameters.Add(New OracleParameter(\"v_role\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsGroup.GetValue(\"UID_UNSGroupB\").String Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try OracleConnection.Dispose() End Using End Sub ----- \u0421\u043a\u0440\u0438\u043f\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f HP Public Sub CCC_UNSAccountB_HPusers_Update(ByVal dbsUnsAccount As SingleDbObjectSnapshot) Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName As String = \"c:\\data\\HP\\hp.log\" Dim tabnum As String = dbsUnsAccount.GetValue(\"Description\").String Dim tabnum_correct As String = tabnum.Substring(3) Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() If dbsUnsAccount.GetValue(\"LastName\").String \\<> \"\" Then Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"USSC_UPDATE_EMP_LASTNAME\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = tabnum_correct cmd.Parameters.Add(New OracleParameter(\"v_lastname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"LastName\").String Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try End If If dbsUnsAccount.GetValue(\"Accountname\").String \\<> \"\" Then Dim login As String = dbsUnsAccount.GetValue(\"Accountname\").String Dim adlogin As String = login + \"<@domain>\" Dim cmd1 As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"USSC_UPDATE_EMP_ADLOGIN\", .CommandType = CommandType.StoredProcedure } cmd1.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = tabnum_correct cmd1.Parameters.Add(New OracleParameter(\"v_adlogin\", OracleDbType.VarChar, ParameterDirection.Input)).Value = adlogin Try 'VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> TABNUM: {1}, AD_LOGIN: {2}\", Now.ToString(), tabnum, adlogin)) cmd1.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try End If OracleConnection.Dispose() End Using End Sub \u0421\u043a\u0440\u0438\u043f\u0442 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f HP Public Function CCC_UNSAccountB_HPusers_Disabled(ByVal tabnum As String) As String Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName As String = \"c:\\data\\HP\\hp.log\" 'Dim login As String = dbsUnsAccount.GetValue(\"Accountname\").String Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"USSC_DISABLE_EMPLOYEE\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = tabnum Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try OracleConnection.Dispose() End Using Return tabnum End Function Directum \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u043d\u0435 \u0440\u043e\u0431\u0438\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u0432 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0443\u0447\u0435\u0442\u043a\u0430 \u0432 SQL \u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0441 Windows \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0435\u0439) Public Function CCC_UNSAccountB_Directum_Insert(ByVal dbsUnsAccount As SingleDbObjectSnapshot) As String Dim connetionString As String = \"Data Source=[REDACTED_IP]\\MSSQLSERVER; Initial Catalog=DIRECTUM;Integrated Security=false; User ID=[REDACTED_USER];Password=;\" Using conn As New System.Data.SqlClient.SqlConnection(connetionString) Using cmd As New System.Data.SqlClient.SqlCommand(\"INSERT INTO Employees (Name, Department, Salary) VALUES (@Name, @Department, @Salary)\", conn) cmd.CommandType = CommandType.Text cmd.Parameters.AddWithValue(\"@Name\", _name) cmd.Parameters.AddWithValue(\"@City\", _departmenmt) cmd.Parameters.AddWithValue(\"@City\", _salary) conn.Open() Dim i As Integer = cmd.ExecuteNonQuery() conn.Close() Return CType(i, String) End Using End Using End Function ------------------- Directum \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f Public Sub CCC_UNSAccountB_Directum_Update(ByVal dbsUnsAccount As SingleDbObjectSnapshot) Dim strLOGFileName As String = \"c:\\data\\Directum\\Directum.log\" Dim connetionString As String = \"Data Source=[REDACTED_IP]; Initial Catalog=DIRECTUM;Integrated Security=false; User ID=[REDACTED_USER];Password=[REDACTED];\" Using conn As New System.Data.SqlClient.SqlConnection(connetionString) Using cmd As New System.Data.SqlClient.SqlCommand(\"OIM_UpdateUser\", conn) cmd.CommandType = CommandType.StoredProcedure cmd.Parameters.AddWithValue(\"@LoginName\", dbsUnsAccount.GetValue(\"Accountname\").String) cmd.Parameters.AddWithValue(\"@NewName\", dbsUnsAccount.GetValue(\"DisplayName\").String) 'cmd.Parameters.Add(New System.Data.SqlClient.SqlParameter(\"@LoginName\", login)) 'cmd.Parameters.Add(New System.Data.SqlClient.SqlParameter(\"@NewName\", newname)) conn.Open() Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try conn.Close() End Using End Using End Sub Directum \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f Public Function CCC_UNSAccountB_Directum_Disabled(ByVal login As String) As String Dim strLOGFileName As String = \"c:\\data\\Directum\\Directum.log\" Dim connetionString As String = \"Data Source=[REDACTED_IP]; Initial Catalog=DIRECTUM;Integrated Security=false; User ID=[REDACTED_USER];Password=[REDACTED];\" Using conn As New System.Data.SqlClient.SqlConnection(connetionString) Using cmd As New System.Data.SqlClient.SqlCommand(\"OIM_DisableUser\", conn) cmd.CommandType = CommandType.StoredProcedure cmd.Parameters.AddWithValue(\"@LoginName\", login) conn.Open() Try cmd.ExecuteNonQuery() VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> User: {1} is disabled\", Now.ToString(), login)) Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try conn.Close() End Using End Using Return login End Function Directum \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f Public Function CCC_UNSAccountB_Directum_Enabled(ByVal login As String) As String Dim strLOGFileName As String = \"c:\\data\\Directum\\Directum.log\" Dim connetionString As String = \"Data Source=[REDACTED_IP]; Initial Catalog=DIRECTUM;Integrated Security=false; User ID=[REDACTED_USER];Password=[REDACTED];\" Using conn As New System.Data.SqlClient.SqlConnection(connetionString) Using cmd As New System.Data.SqlClient.SqlCommand(\"OIM_EnableUser\", conn) cmd.CommandType = CommandType.StoredProcedure cmd.Parameters.AddWithValue(\"@LoginName\", login) conn.Open() Try cmd.ExecuteNonQuery() VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> User: {1} is enabled\", Now.ToString(), login)) Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try conn.Close() End Using End Using Return login End Function \u0421\u043a\u0440\u0438\u043f\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b AD Public Sub \u0421\u0421\u0421_ADSAccountInADSGroup_Del(ByVal UID_ADSGroup As String, ByVal UID_ADSAccount As String) Dim strLOGFileName = \"c:\\temp\\logs\\temp.txt\" Dim ADSAccountInADSGroup_query = Query.From(\"ADSAccountInADSGroup\") _ .Where(Function(t) t.Column(\"UID_ADSGroup\") = UID_ADSGroup And t.Column(\"UID_ADSAccount\") = UID_ADSAccount) _ .SelectAll() Dim ADSAccountInADSGroups = Session.Source.GetCollection(ADSAccountInADSGroup_query, EntityCollectionLoadType.Bulk) Using uow = Session.StartUnitOfWork() ' Walk through the list of all persons For Each ADSAccountInADSGroup As IEntity In ADSAccountInADSGroups ' Mark for deletion ADSAccountInADSGroup.MarkForDeletion() ' put the object in the unit of work uow.Put(ADSAccountInADSGroup) Next ' All person objects will be saved here! Try uow.Commit() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now().ToString(), ViException.ErrorString(ex))) End Try End Using End Sub --------- Bulk Delete Outstanding Objects Public Sub CCC_Entity_DeleteOutStandingFromDB(ObjectKeys As IEnumerable(Of String)) Dim f = Connection.SqlFormatter ' Set connection variable to hint about the management of OutStanding objects Session.Variables.Put(\"ManageOutstanding\", True) Session.Variables.Put(\"NoCollisionTest\", True) Session.Variables.Put(\"ManageOutstandingOperation\", \"DELETE\") ' Group the ObjectKeys by table Dim keysByTable = ObjectKeys _ .Select(Function(k) New DbObjectKey(k)) _ .GroupBy(Function(k) k.Tablename, StringComparer.OrdinalIgnoreCase) Try ' Create a unit of work here to optimize execution Using uow = Session.StartUnitOfWork() ' Iterate through the keys for each table For Each tableEntry In keysByTable ' Partition the workload into junks defined by the limit of the IN clause. For Each part In tableEntry.Partition(f.InClauseLimit) ' Define the query for the current partition Dim q = Query _ .From(tableEntry.Key) _ .Where(Function(t) t.Column(\"XObjectKey\").In(part)) _ .SelectNonLobs() ' Fetch a partition of the data using Bulk collection Dim entities = Session.Source().GetCollection(q, EntityCollectionLoadType.Bulk) ' For each entity of the collection For Each e In entities ' Call the customizer method to delete the outstanding object e.CallMethod(\"DeleteOutstanding\") ' put the entity to save in the unit of work uow.Put(e) Next Next Next ' Write the changes to the database uow.Commit() End Using Finally ' Remove the connection variable that hints about the management of OutStanding objects Session.Variables.Remove(\"ManageOutstanding\") Session.Variables.Remove(\"NoCollisionTest\") Session.Variables.Remove(\"ManageOutstandingOperation\") End Try End Sub -------------- API $authdata = @{AuthString = \"Module=DialogUser;User=[REDACTED_USER];Password=\" } $authJson = ConvertTo-Json $authdata -Depth 2 # Login (important, pass the NAME for your session variable in -SessionVariable) Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/auth/apphost \" -Body $authJson.ToString() -Method Post -UseDefaultCredentials -Headers @{Accept = \"application/json\" } -SessionVariable wsession #\"https://t-oneim-4.domain/AppServer/api/entity/Department/30002471\" Invoke-WebRequest -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Department/30002471 \" -WebSession $wsession ------- API $authdata = @{AuthString = \"Module=DialogUser;User=[REDACTED_USER];Password=[REDACTED]\" } $authJson = ConvertTo-Json $authdata -Depth 2 # Login (important, pass the NAME for your session variable in -SessionVariable) Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/auth/apphost \" -Body $authJson.ToString() -Method Post -UseDefaultCredentials -Headers @{Accept = \"application/json\" } -SessionVariable wsession #\"https://t-oneim-4.domain/AppServer/api/entity/Department/30002471\" #Get Department Invoke-WebRequest -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Department/30002471 \" -WebSession $wsession #Get list users with where $a = Invoke-WebRequest -Uri \" https://localhost/AppServer/api/entities/Person?lastname=\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u04394&limit=2 \" -WebSession $wsession #Create a new object and return URI of new object $FirstName = \"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\" $LastName = \"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u04394\" $MiddleName = \"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447\" $UID_Department = \"10013364\" $body = @{values = @{FirstName = $FirstName; LastName = $LastName; MiddleName = $MiddleName; UID_Department = $UID_Department; IsExternal = 0; BirthDate = \"1993-05-14\"; Gender = 1 } } | ConvertTo-Json $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person \" -WebSession $wsession -Method Post -Body $body -ContentType \"application/json; charset=utf-8\").uri #Change Employee Description $Description = \"\u041c\u0430\u0441\u0442\u0435\u0440 \u0446\u0435\u0445\u0430\" $body = @{values = @{Description = $Description } } | ConvertTo-Json $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person/8b93c671-fafb-466b-9148-ad0d340c310e \" -WebSession $wsession -Method Put -Body $body -ContentType \"application/json; charset=utf-8\").uri #Change Employee Department $Department = \"10013365\" $body = @{values = @{UID_Department = $Department } } | ConvertTo-Json $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain.ru/AppServer/api/entity/Person/8b93c671-fafb-466b-9148-ad0d340c310e \" -WebSession $wsession -Method Put -Body $body -ContentType \"application/json; charset=utf-8\").uri #Deactivation $Deactivation_start = [DateTime]::ParseExact('2019.11.24 18:55:00', 'yyyy.MM.dd HH:mm:ss', $null) $Deactivation_start1 = $Deactivation_start.ToString(\"yyyy-MM-dd HH:mm:ss.000\") $Deactivation_end = [DateTime]::ParseExact('2019.12.06 18:55:00', 'yyyy.MM.dd HH:mm:ss', $null) $Deactivation_end1 = $Deactivation_end.ToString(\"yyyy-MM-dd HH:mm:ss.000\") $body = @{values = @{DeactivationStart = $Deactivation_start1; DeactivationEnd = $Deactivation_end1 } } | ConvertTo-Json $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person/8b93c671-fafb-466b-9148-ad0d340c310e \" -WebSession $wsession -Method Put -Body $body -ContentType \"application/json; charset=utf-8\").uri #Delete Employee $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person/8b93c671-fafb-466b-9148-ad0d340c310e \" -WebSession $wsession -Method Delete -Body $body -ContentType \"application/json; charset=utf-8\").uri #logout Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/auth/logout \" -WebSession $wsession -Method Post ------ Central Account '$CustomProperty01$ If CStr($ImportSource$) \\<> \"ADS\" And CStr($Lastname$) \\<> \"\" And CStr($Firstname$) \\<> \"\" And CStr($Middlename$) \\<> \"\" And _ (Not CBool(Connection.Variables.Get(\"FULLSYNC\")) Or CStr($ImportSource$).StartsWith(\"EBS\") Or CStr($ImportSource$).StartsWith(\"SAP\") ) Then If CStr(Connection.GetConfigParm(\"QER\\Person\\CentralAccountGlobalUnique\"))=\"1\" Then Value = CCC_AE_BuildCentralAccountGlobalUnique( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) Else Value = CCC_AE_BuildCentralAccount( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) End If End If If CStr($ImportSource$) \\<> \"ADS\" And CStr($Lastname$) \\<> \"\" And CStr($Firstname$) \\<> \"\" And CStr($Middlename$) = \"\" And _ (Not CBool(Connection.Variables.Get(\"FULLSYNC1\")) Or CStr($ImportSource$).StartsWith(\"EBS\") Or CStr($ImportSource$).StartsWith(\"SAP\") ) Then If CStr(Connection.GetConfigParm(\"QER\\Person\\CentralAccountGlobalUnique\"))=\"1\" Then Value = CCC_AE_BuildCentralAccountGlobalUnique( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) Else Value = CCC_AE_BuildCentralAccount( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) End If End If Global Unique ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-65B50C3A86A10C45AB53FD0B36D6FD70\\</P>\\</Key>, CCC_AE_BuildCentralAccount) ''' \\<summary> ''' Returns the central user account of a person (for use in templates). ''' \\</summary> #If Not SCRIPTDEBUGGER Then Imports System.Collections.Generic Imports System.Data #End If Public Function CCC_AE_BuildCentralAccount( _ ByVal uid_person As String, _ ByVal Lastname As String, _ ByVal Firstname As String, _ ByVal Middlename As String) As String If String.IsNullOrEmpty(Lastname) AndAlso String.IsNullOrEmpty(Firstname) Then Return String.Empty End If Dim i As Int32 Dim accnt As String = \"\" Dim accntPrefix As String = \"\" Dim personAccnt As String = \"\" Dim f As ISqlFormatter = Connection.SqlFormatter If Firstname.Length > 0 And Lastname.Length > 0 And Middlename.Length > 0 Then accnt = Lastname & Firstname.Substring(0,1) & Middlename.Substring(0,1) ElseIf Firstname.Length > 0 And Lastname.Length > 0 Then accnt = Lastname & Firstname.Substring(0,1) ElseIf Firstname.Length > 0 Then accnt = Firstname Else accnt = Lastname End If accnt = VI_AE_FormatConvertUmlaut_Sonderzeichen(accnt) accnt = CCC_AE_FormatConvert_to_Latin(accnt) accntPrefix = accnt ' load collection of all persons having the same account (prefix) Dim persons As IColDbObject = Connection.CreateCol(\"Person\") persons.Prototype.WhereClause = f.AndRelation( _ f.Comparison(\"CentralAccount\",accntPrefix + \"%\", ValType.String,CompareOperator.Like,FormatterOptions.IgnoreCase), _ f.UidComparison(\"UID_Person\", uid_person, CompareOperator.NotEqual) _ ) persons.Prototype.Columns(\"CentralAccount\").IsDisplayItem = True persons.Load() ' put them in a list of centralaccounts Dim existing As New List(Of String) For Each person As IColElem In persons personAccnt = person.GetValue(\"CentralAccount\").String If Not existing.Contains(personAccnt, StringComparer.InvariantCultureIgnoreCase) Then existing.Add(personAccnt) End If Next ' check if centralaccount is already in use, if yes ' start adding an index until we found a free centralaccount While True If Not existing.Contains(accnt, StringComparer.InvariantCultureIgnoreCase) Then 'Return accnt.ToUpperInvariant() Return accnt End If i = i + 1 accnt = accntPrefix & CStr(i) End While Return String.Empty End Function ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-00E4BBC650D89941A84A1105CEC6E021\\</P>\\</Key>, CCC_AE_BuildCentralAccountGlobalUnique) ''' \\<summary> ''' Finds the central account that is already assigned to an employee or a user account in a target system. ''' \\</summary> #If Not SCRIPTDEBUGGER Then Imports System.Collections.Generic Imports System.Data #End If Public Function CCC_AE_BuildCentralAccountGlobalUnique(ByVal uid_person As String, ByVal Lastname As String, ByVal Firstname As String, ByVal Middlename As String) As String Dim i As Int32 Dim account As String Dim accountPrefix As String Dim f As ISqlFormatter = Connection.SqlFormatter If String.IsNullOrEmpty(Lastname) AndAlso String.IsNullOrEmpty(Firstname) Then Return String.Empty End If CCC_AE_BuildCentralAccountGlobalUnique = String.Empty If Firstname.Length > 0 And Lastname.Length > 0 And Middlename.Length > 0 Then account = Lastname & Firstname.Substring(0,1) & Middlename.Substring(0,1) ElseIf Firstname.Length > 0 And Lastname.Length > 0 Then account = Lastname & Firstname.Substring(0,1) ElseIf Firstname.Length > 0 Then account = Firstname Else account = Lastname End If account = VI_AE_FormatConvertUmlaut_Sonderzeichen(account) account = CCC_AE_FormatConvert_to_Latin(account) accountPrefix = account 'fill existing addresses in a list Dim existing As New List(Of String) Dim dummy As New Object() Dim dummyPerson As ISingleDbObject dummyPerson = Connection.CreateSingle(\"Person\") Dim pattern As String = accountPrefix & \"%\" Dim myObjectKey As New DbObjectKey(\"Person\", uid_person) Dim accountName As String Dim objectKeyString As String Dim objectKey As DbObjectKey Using rd As IDataReader = CType(dummyPerson.Custom.CallMethod(\"SearchCentralAccount\", pattern), IDataReader) While rd.Read() accountName = rd.GetString(rd.GetOrdinal(\"AccountName\")) objectKeyString = rd.GetString(rd.GetOrdinal(\"ObjectKeyPerson\")) If Not String.IsNullOrEmpty(objectKeyString) Then objectKey = New DbObjectKey(objectKeyString) 'only addresses which not belong to the actual employee will be considered If myObjectKey.Equals(objectKey) Then Continue While End If End If existing.Add(accountName) End While End Using While True Dim centralAccount As String = account ' Does not exists? If Not existing.Contains(centralAccount, StringComparer.InvariantCultureIgnoreCase) Then 'Return centralAccount.ToUpperInvariant() Return centralAccount End If ' next trial i = i + 1 account = accountPrefix & CStr(i) End While End Function ------ --\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 > 1 \u0443\u0447\u0435\u0442\u043a\u0438 \u0432 \u0410\u0414 SELECT p.CentralAccount,LastName, FirstName, MiddleName, count(ad.UID_Person) AS CountADAcc FROM Person AS p LEFT JOIN ADSAccount AS ad ON p.UID_Person = ad.UID_Person GROUP BY p.CentralAccount,FirstName, LastName, MiddleName HAVING count(ad.UID_Person) >1 --\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u0442 \u0443\u0447\u0435\u0442\u043a\u0438 \u0432 \u0410\u0414 SELECT p.CentralAccount,LastName, FirstName, MiddleName, count(ad.UID_Person) AS CountADAcc FROM Person AS p LEFT JOIN ADSAccount AS ad ON p.UID_Person = ad.UID_Person GROUP BY p.CentralAccount,FirstName, LastName, MiddleName HAVING count(ad.UID_Person) =0 ------ \u0421\u043a\u0440\u0438\u043f\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0443\u0447\u0435\u0442\u043a\u0438 \u0432 HP CCC_UNSAccountB_HP_Insert \u0422\u0430\u0431\u043b\u0438\u0446\u0430 AdSAccount \u043f\u043e\u043b\u0435 DisplayName If Not CBool(Variables(\"FULLSYNC\")) _ AndAlso ($GivenName[o]$ \\<> $GivenName$ _ OrElse $Surname[o]$ \\<> $Surname$ orElse $FK(UID_Person).Middlename$ \\<> $FK(UID_Person).Middlename[o]$) Then If $Givenname$\\<>\"\" AndAlso $Surname$\\<>\"\" AndAlso $FK(UID_Person).Middlename$\\<>\"\" Then Value = $Surname$ & \" \" & $Givenname$ & \" \" & $FK(UID_Person).Middlename$ ElseIf $FK(UID_Person).Middlename$=\"\" AndAlso $Givenname$\\<>\"\" AndAlso $Surname$\\<>\"\" Then Value = $Surname$ & \" \" & $Givenname$ ElseIf $Givenname$\\<>\"\" Then Value = $Givenname$ ElseIf $Surname$\\<>\"\" Then Value = $Surname$ End If End If \u0422\u0430\u0431\u043b\u0438\u0446\u0430 Person \u043f\u043e\u043b\u0435 DefaultEmailAddress #If EX2K Or NOTES Then Dim defaultMailAddress As String If Len($CentralAccount$) > 0 AndAlso Len ($UID_Person$) > 0 Then defaultMailAddress = VI_AE_CreatedefaultMailAddress($centralaccount$,$uid_person$) ' check if mail address is valid If VID_IsSMTPAddress(defaultMailAddress) Then Value = defaultMailAddress End If End If #End If","title":"1. Misc"},{"location":"1.%20Misc/#_1","text":"https://slourc.wordpress.com/2015/03/01/d1im-designer-deleguer-automatiquement-les-droits-de-responsable-sur-une-personne-a-un-assistant/ https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/73 Identity Manager 8.0.1 - Target System Synchronization Reference Guide (oneidentity.com) OneIdentity/IdentityManager.PoSh-Connector-Generator (github.com) SQL Server Collation SQL_Latin1_General_CP1_CI_AS \u041f\u043e\u0447\u0442\u0430 Postfix \u043d\u0430 WSL \u041f\u043e\u0440\u0442 2526 \u0420\u0435\u043a\u043e\u043d\u0441\u0438\u043b\u044f\u0446\u0438\u044f: \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0445\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 IDM, \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0432 \u0446\u0435\u043b\u0435\u0432\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445. \u0412 \u0440\u0430\u043c\u043a\u0430\u0445 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043b\u044f\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445, \u0432\u044b\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u0439, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u043d\u0438\u0446\u0438\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0432\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439. From \\< http://co-inform.ru/solutions/identity-and-access-management/glossary.php > \u0412\u0410\u0416\u041d\u041e! \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 - \u0435\u0441\u043b\u0438 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043e\u043f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 - \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0438\u043c\u043f\u043e\u0440\u0442 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0441\u043a\u0440\u0438\u043f\u0442\u0435! Job Server \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c SQL Processing Server \u041e\u0447\u0435\u0440\u0435\u0434\u044c \u043c\u0435\u043d\u044f\u0435\u043c \u0438 \u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 \u0438 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430 \u043d\u0430 \u0441\u0430\u043c\u043e\u043c Job Server \u0427\u0442\u043e\u0431\u044b JobServer \u043f\u043e\u044f\u0432\u0438\u043b\u0441\u044f \u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 - \u043d\u0430\u0434\u043e \u0435\u0433\u043e \u0441\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440 (\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c Template \u0438\u0437 \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u044e) ~~\u0415\u0441\u043b\u0438 \u0411\u0414, \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 JobServer \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435 - \u043d\u0430\u0434\u043e \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 JobServer \u0443\u043a\u0430\u0437\u0430\u0442\u044c Execution Server \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u0441 \u0411\u0414~~ 3) \u0414\u043b\u044f \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0432 Manager \u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c System User Password! 4) \u0427\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c, \u0432 \u043a\u0430\u043a\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 - \u0432 Manager \u2013 \u043e\u0442\u043a\u0440\u044b\u0442\u044c Employee - View \u2013 Show Field Definition ---------------------------------------------------------------","title":"\u041f\u043e\u0447\u0438\u0442\u0430\u0442\u044c"},{"location":"1.%20Misc/#1-password-policy","text":"\u0415\u0441\u043b\u0438 Initial Password \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c - \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0431\u0443\u043b\u0434\u0435\u0442 \u0433\u0435\u043d\u0435\u0440\u0438\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c! \u0421\u0446\u0435\u043f\u043b\u0435\u043d\u0438\u0435 Manager \u2013 Domain \u2013 Define search criteria for employee assignment PERSONNELNUMBER = EMPLOYEE UID (\u0441\u043c \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442 \u0441\u043f\u0440\u0430\u0432\u0430)","title":"1) Password Policy"},{"location":"1.%20Misc/#2-account-definition","text":"\u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439. \u041f\u043e\u043a\u0430 \u043e\u043d \u043d\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d - \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442. \u041c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u0434\u0432\u0443\u043c\u044f \u0441\u043f\u043e\u0441\u043e\u0431\u0430\u043c\u0438 \u041d\u0430 \u0434\u043e\u043c\u0435\u043d \u041d\u0430 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 Manager \u2013 Employees \u2013 Active Directory - Basic Conf Data - Account Definitions Full Managed means that all predefined attributes are affected and Unmanaged means that only mandatory predefined attributes are affected. IT Operating Data - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0441\u0432\u044f\u0437\u0438 \u043c\u0435\u0436\u0434\u0443 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u043c \u0432 \u0431\u0430\u0437\u0435 \u0438 AD. \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 - Tasks \u2013 Edit It operating Data \u041f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0411\u0414, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u0441\u043e\u0437\u0434\u0430\u043b\u0441\u044f \u0432 AD \u043d\u0430\u0434\u043e \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043f\u043e \u043d\u0435\u043c\u0443 - Tasks \u2013 Assign Account Definitions \u0421\u0432\u044f\u0437\u044c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u0431\u0430\u0437\u0435 \u0438 OU \u0432 AD \u0414\u0435\u043b\u0430\u0435\u043c \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0443 \u0432 csv \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0417\u0430\u0442\u0435\u043c \u0434\u0435\u043b\u0430\u0435\u0442 Data Import \u044d\u0442\u043e\u0439 csv \u0432 \u0411\u0414, \u0447\u0442\u043e\u0431\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 TSBITData. ``` select newid() as uid_TSBITData, Department.UID_Department as UID_ORG,'\\<Key>\\<T>TSBAccountDef\\</T>\\<P>8b826aeb-9a5f-4c84-a528-6af40976b6f7\\</P>\\</Key>' as ObjectKeyAppliesTo, 'ADS-D7251336DB99478B8616695F0DF66584' as UID_DialogColumnTarget, ADSContainer.UID_ADSContainer, 'TSBAccountDef: Std. user account Domain SGP - ADSAccount.UID_ADSContainer' as DisplayValue from Department INNER JOIN ADSContainer ON Department.Commentary=ADSContainer.DistinguishedName ``` \u041f\u043e\u0441\u043b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u0430 csv \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0432 \u0431\u0430\u0437\u0435 Department \u0438 TSBITDATA \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u0441\u0432\u044f\u0437\u0435\u0439! \u0418\u043d\u0430\u0447\u0435, \u043d\u0430\u0434\u043e \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0432\u044f\u0437\u0438!","title":"2) Account Definition \u043d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0446\u0435\u043b\u0435\u0432\u043e\u0439"},{"location":"1.%20Misc/#3-person-designer-table-person-centralaccount","text":"``` '$CustomProperty01$ If CStr($ImportSource$) \\<> \"ADS\" And CStr($Lastname$) \\<> \"\" And CStr($Firstname$) \\<> \"\" And CStr($Middlename$) \\<> \"\" And _ (Not CBool(Connection.Variables.Get(\"FULLSYNC\")) Or CStr($ImportSource$).StartsWith(\"EBS\") Or CStr($ImportSource$).StartsWith(\"SAP\") ) Then If CStr(Connection.GetConfigParm(\"QER\\Person\\CentralAccountGlobalUnique\"))=\"1\" Then Value = CCC_AE_BuildCentralAccountGlobalUnique( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) Else Value = CCC_AE_BuildCentralAccount( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) End If End If ``` \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 AD \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u043b\u0441\u044f cn, Full name \u2026 \u041d\u0430\u0434\u043e \u0434\u043b\u044f cn \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c ``` If $Givenname$ \\<> $Givenname[o]$ Or $Surname$ \\<> $Surname[o]$ Or $FK(UID_Person).Middlename$ \\<> $FK(UID_Person).Middlename[o]$ Then If $Givenname$\\<>\"\" AndAlso $Surname$\\<>\"\" AndAlso $FK(UID_Person).Middlename$\\<>\"\" Then CN = $Surname$ & \" \" & $Givenname$ & \" \" & $FK(UID_Person).Middlename$ ```","title":"3) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Person \u0432 \u0411\u0414 (Designer - Table \u2013 Person - CentralAccount)"},{"location":"1.%20Misc/#4","text":"\u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u043e \u0434\u0435\u0440\u0435\u0432\u044c\u0435\u0432 \u0440\u043e\u043b\u0435\u0439. \u041a\u0430\u0436\u0434\u043e\u043c\u0443 \u0434\u0435\u0440\u0435\u0432\u0443 \u0440\u043e\u043b\u0435\u0439 \u043d\u0443\u0436\u0435\u043d \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0440\u043e\u043b\u044c\u044e \u043a\u043b\u0430\u0441\u0441\u0430 (role class). \u042d\u0442\u0430 \u0440\u043e\u043b\u044c \u043a\u043b\u0430\u0441\u0441\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c\u044b\u0445 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0438 \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0432 \u044d\u0442\u043e\u043c \u0434\u0435\u0440\u0435\u0432\u0435. \u0415\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u0440\u0442\u0438\u0442\u044c \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 - \u044d\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c. \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0444\u0438\u043a\u0441\u0438\u0442\u044c, \u043d\u0430\u0434\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0440\u043e\u043b\u044c \u043a\u043b\u0430\u0441\u0441\u0430 \u0438 \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0435. \u041d\u0430\u0434\u043e \u0431\u044b\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0440\u043e\u043b\u0438 \u043a\u043b\u0430\u0441\u0441\u0430. \u0412 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0440\u043e\u043b\u0435\u0432\u043e\u0439 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435, \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u044e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043a\u043b\u0430\u0441\u0441\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f. \u0420\u043e\u043b\u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u044f\u0437\u044c Account Definitions \u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u0431\u043e\u0440\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0438 (\u0447\u0435\u0440\u0435\u0437 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 Dynamic role). \u0421\u043e\u0437\u0434\u0430\u0435\u043c Account definition \u0434\u043b\u044f AD, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 -> \u041a\u043b\u0430\u0441\u0441 \u0440\u043e\u043b\u044c -> \u0411\u0438\u0437\u043d\u0435\u0441\u0441 \u0440\u043e\u043b\u044c -> \u041d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c \u0440\u043e\u043b\u0438 Dynamic role (\u0435\u0441\u043b\u0438 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0438 - \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0432 AD, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440). \u041d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0411\u0438\u0437\u043d\u0435\u0441\u0441 \u0440\u043e\u043b\u044c \u0432\u0440\u0443\u0447\u043d\u0443\u044e. Show Entitlement origin - \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c, \u0447\u0442\u043e \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u043e \u043a \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0443. \u0423 \u0440\u043e\u043b\u0438 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 - \u044d\u0442\u043e \u0432\u0430\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0431\u044b\u043b\u043e \u043e\u0447 \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u0447!","title":"4) \u0420\u043e\u043b\u0438 \u043a\u043b\u0430\u0441\u0441\u043e\u0432"},{"location":"1.%20Misc/#5-compliance-rule","text":"\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0434\u0432\u0443\u0445 \u0440\u043e\u043b\u044f\u0445. Preventative Compliance check Identity Audit - > Rules. \u0427\u0442\u043e\u0431\u044b \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u043e - \u043d\u0430\u0434\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0447\u0443\u044e \u043a\u043e\u043f\u0438\u044e. \u0422\u0430\u043a\u0436\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043d\u0430\u0436\u0430\u0442\u044c [\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c], \u0447\u0442\u043e\u0431\u044b \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f. \u041f\u043e\u0441\u043b\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044f, \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0440\u0430\u0431\u043e\u0447\u0443\u044e \u043a\u043e\u043f\u0438\u044e \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0437\u0430\u0434\u0430\u0447, \u0447\u0442\u043e\u0431\u044b \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0435. Preventative Compliance checks \u043b\u0443\u0447\u0448\u0435, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0441\u0430\u043c\u0443 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u0433\u0440\u0443\u043f\u043f\u044b \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e. \u0420\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043a\u0430\u043a \u0447\u0430\u0441\u0442\u044c approval policy. \u0411\u0435\u0437 \u043d\u0435\u0435 - \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c! ------","title":"5) Compliance rule"},{"location":"1.%20Misc/#6-account-definitions-hp-service-desk","text":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438\u043b\u0435\u0442\u0430\u0435\u0442 \u0438\u0437 CSV \u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043e\u043d \u043f\u043e\u043c\u0435\u0449\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u0443\u0436\u043d\u0443\u044e \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 (dynamic role). \u041d\u0430 \u044d\u0442\u0443 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d Account Definition \u0438\u0437 AD \u0438 \u0438\u0437 HP Service desk, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 AD \u0438 \u0432 HP \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043d\u0443\u0436\u043d\u044b\u0435 \u0433\u0440\u0443\u043f\u043f\u044b AD \u0438 \u0440\u043e\u043b\u0438 Service desk. Acc Def HP Employee Account Def \u0442\u0440\u0435\u0431\u0443\u0435\u0442 Std User Account Domain SGP (\u043e\u0442\u043a\u043b\u044e\u0447\u0438\u043b, \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f) HP Account Def \u0442\u0440\u0435\u0431\u0443\u0435\u0442 Acc Def HP Employee Account Def","title":"6) \u041f\u043e Account Definitions \u0434\u043b\u044f HP Service Desk"},{"location":"1.%20Misc/#7-system-debugger","text":"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u0432 Designer, \u0438 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0435\u0433\u043e \u0432 Visual Studio \u0438 \u043f\u0440\u0430\u0432\u0438\u043c. \u041d\u0430\u0434\u043e \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \"C:\\Program Files\\One Identity\\One Identity Manager\\SystemLibrary\\SystemLibrary.sln\" \u0447\u0435\u0440\u0435\u0437 Visual Studio \u041f\u043e\u0442\u043e\u043c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0435\u0433\u043e \u0438 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f System Debugger! 19) \u0420\u0438\u0441\u043a \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432 \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 - \u0443 \u043d\u0435\u0433\u043e \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0448\u0435 \u0440\u0438\u0441\u043a 20) Job Server - \u044d\u0442\u043e \u041e\u0421 \u0441 Job Service In Win is One Identity Manager Job Service (short name: OneIMService)","title":"7) System Debugger"},{"location":"1.%20Misc/#8","text":"https://support.oneidentity.com/technical-documents/identity-manager/8.0/target-system-base-module-administration-guide/5 \u0421\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (Designer - Base Data \u2013 Schedules) \"Lock accounts of employees that have left the company\" \u0414\u043b\u044f \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \"Enable temporarily disabled accounts\" \u0414\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u043d\u0430\u0434\u043e \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u044f Enabled \u0438 Disabled, \u043a\u0430\u043a \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u0441 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\u043c\u0438.","title":"8) \u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},{"location":"1.%20Misc/#9-external-employee","text":"\u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0434\u043b\u044f \u043d\u0438\u0445 ITSHOP \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c - External \u0438 \u043d\u0430\u043a\u0438\u043d\u0443\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 - \u0443\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f / \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043d\u0438\u0445. \u0418\u043b\u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c \u0441 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c \u0432 \u043d\u0435\u0435 \u0438 \u043d\u0430\u043a\u0438\u043d\u0443\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438!!! \u0420\u043e\u043b\u044c External user approvers \u2013 \u0432 \u043d\u0435\u0435 \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 External users QER\\WebPortal\\PasswordResetURL - \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0434\u043b\u044f \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0430\u0440\u043e\u043b\u044f.","title":"9) External Employee"},{"location":"1.%20Misc/#10","text":"\u041e\u0442\u0447\u0435\u0442 System entitlement drifts in all target systems \u0427\u0435\u0440\u0435\u0437 Insert \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0432\u043e\u0439 \u041c\u043e\u0436\u043d\u043e, \u0447\u0435\u0440\u0435\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u0440\u044f\u043c\u043e \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u044b Value = $FK(UID_ADSAccount).UserPrincipalName$ \u041c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043f\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 email Message: Value = \"User \" + $FK(UID_ADSAccount).UserPrincipalName$ + \" add in group \" + $FK(UID_ADSGroup).cn$ + \" in \" + Now().ToString() Subject Value = \"Changes in group \" + $FK(UID_ADSGroup).cn$ https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/73 \u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u0430 \u0441 \u043e\u0442\u043c\u0435\u043d\u043e\u0439 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0433\u0440\u0443\u043f\u043f \u0432 AD: 1) \u0414\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 INSERT \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 ADSAccountInADSGroup 2) \u041f\u0435\u0440\u0432\u044b\u0439 \u0448\u0430\u0433 - \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 email 3) \u0421\u043a\u0440\u0438\u043f\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c \u043e \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0435 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b ADSAccountInADSGroup (\u0441\u043c \u0441\u043f\u0440\u0430\u0432\u0430) \u042d\u0442\u043e\u0442 \u0441\u043a\u0440\u0438\u043f\u0442 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0441 \u043f\u043e\u043c\u0435\u0442\u043a\u043e\u0439 Synchronization, \u0434\u043b\u044f \u0434\u0440\u0443\u0433\u0438\u0445 - \u043d\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u0442","title":"10) \u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"},{"location":"1.%20Misc/#11-system-roles","text":"\u041f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u044b \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u043d\u0430\u0432\u0435\u0441\u0438\u0442\u044c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0440\u043e\u043b\u0435\u0439 \u043d\u0430 \u043d\u0438\u0445.","title":"11) System roles"},{"location":"1.%20Misc/#12-risk-index","text":"\u041d\u0443\u0436\u0435\u043d \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u0443\u044e \u0446\u0435\u043b\u0435\u0432\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043f\u043e\u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043b\u0430\u0441\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440. To enable the schedule for calculating risk indexes Open the Designer. Select Base Data | General | Schedules . Select the schedule \"Calculate risk indexes\" in the List Editor. Check the box in the Enabled column. Save the changes. https://support.oneidentity.com/technical-documents/identity-manager/8.0/risk-assessment-administration-guide/5#TOPIC-863144","title":"12) Risk Index"},{"location":"1.%20Misc/#13-time-trace","text":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0441 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u044c\u044e \u041d\u0430\u0434\u043e \u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 - Config Parameters \u2013 Common \u2013 ProcessState \u2013 PropertyLog (x) \u2013 AllDefaultPropertiesForModel (x) \u0417\u0430\u0442\u0435\u043c, \u0432 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 - View \u2013 Time Trace (\u0438 \u0432 \u043e\u043a\u043d\u0435 TimeTrace \u043d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u0447\u0430\u0441\u044b) \u0417\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0442 \u0442\u0430\u0431\u043b\u0438\u0446\u044b DialogWatchProperty \u0438 DialogWatchOperation","title":"13) Time Trace"},{"location":"1.%20Misc/#14-api","text":"https://support.oneidentity.com/technical-documents/identity-manager/8.0/rest-api-reference-guide/15 https://t-oneim-4.domain/AppServer/api/entity/Department/30002471","title":"14) API"},{"location":"1.%20Misc/#15-sync-editor","text":"Dim probel as String = \" \" Dim fio as String = $LASTNAME$ & probel & $FIRSTNAME$ & probel & $MIDDLENAME$ return fio","title":"15) \u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0424\u0418\u041e \u0432 Sync Editor \u0432 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430\u0445"},{"location":"1.%20Misc/#16-active-directory-","text":"\u041f\u043e \u0424\u0418\u041e \u041f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0438\u0437 csv \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u043c \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0424\u0418\u041e \u0432 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u0412 \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0439 \u0434\u043b\u044f \u0441\u0446\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u0443\u0447\u0435\u0442\u043e\u043a \u043f\u0438\u0448\u0435\u043c - \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 - DisplayName (\u0438\u043b\u0438 Name, \u0435\u0441\u043b\u0438 \u043b\u0443\u0447\u0448\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442)","title":"16) Active Directory - \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0441\u0446\u0435\u043f\u0438\u0442\u044c \u0443\u0447\u0435\u0442\u043a\u0438 \u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"},{"location":"1.%20Misc/#17-isgroupaccount","text":"\u0421\u0442\u0430\u0432\u0438\u0442\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u044b \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0443\u0447\u0435\u0442\u043e\u043a (\u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430, \u043e\u0431\u044b\u0447\u043d\u0430\u044f). \u041a\u043e\u0433\u0434\u0430 \u0435\u043c\u0443 \u0434\u0430\u0435\u0442\u0441\u044f \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443, \u043e\u0431\u0435 \u0443\u0447\u0435\u0442\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0443, \u0430 \u0430\u0434\u043c\u0438\u043d\u0441\u043a\u0430\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0443","title":"17) isGroupAccount"},{"location":"1.%20Misc/#18","text":"Leaving Date - \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442 \u0443\u0447\u0451\u0442\u043a\u0443 \u0438 \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0435\u0435 \u0432 AD Last working day - ~~\u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0443\u0447\u0435\u0442\u043a\u0443 (\u0447\u0442\u043e\u0431\u044b \u0443 \u043d\u0435\u0433\u043e \u0431\u044b\u043b \u0434\u043e\u0441\u0442\u0443\u043f \u0434\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043d\u043d\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438)~~ ~~\u041d\u0435 \u0432\u043b\u0438\u044f\u0435\u0442, \u0434\u043b\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438~~ \u0423\u0447\u0435\u0442\u043a\u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u0432 IDM \u0432 InactiveEmployee https://www.oneidentity.com/community/identity-manager/f/forum/6822/permanently-disabling-users 38) \u0424\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u0442\u044b \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 Public Sub CCC_Test3() Dim date1 = \"20/02/1987\" Dim date2 As DateTime = CType(DateTime.ParseExact(date1, \"dd/MM/yyyy\", System.Globalization.CultureInfo.InvariantCulture), DateTime) Dim date3 As String = date2.ToString(\"dd-MM-yyyy\") MsgBox(date3) End Sub","title":"18) \u0423\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u0435."},{"location":"1.%20Misc/#19","text":"https://www.oneidentity.com/community/identity-manager/f/forum/20846/how-to-trigger-a-process-on-the-approval-of-a-request","title":"19) \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b"},{"location":"1.%20Misc/#20-defaulemailaddress","text":"\u0418\u0437\u043c\u0435\u043d\u0438\u043b \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u0448\u0430\u0431\u043b\u043e\u043d #If EX2K Or NOTES Then Dim defaultMailAddress As String If Len($CentralAccount$) > 0 AndAlso Len ($UID_Person$) > 0 Then defaultMailAddress = VI_AE_CreatedefaultMailAddress($centralaccount$,$uid_person$) ' check if mail address is valid If VID_IsSMTPAddress(defaultMailAddress) Then Value = defaultMailAddress End If End If #End If \u043d\u0430 Dim defaultMailAddress As String Dim maildom As String = String.Empty maildom = Connection.GetConfigParm(\"QER\\Person\\DefaultMailDomain\") If Len($CentralAccount$) > 0 Then defaultMailAddress = $centralaccount$ + \"@\" + maildom Value = defaultMailAddress End if The session variable FullSync=FALSE is set if the option Data import is enabled","title":"20) Defaulemailaddress"},{"location":"1.%20Misc/#21-servicedesk","text":"\u0412 ITShop \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u043e\u0434\u0443\u043a\u0442 \u0438 \u0432\u0435\u0448\u0430\u0435\u043c \u043d\u0430 \u043d\u0435\u0433\u043e approval policy \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 CCC_Create_File \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b PersonWantsOrg \u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Create_File \u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0444\u0430\u0439\u043b\u0430 #If Not SCRIPTDEBUGGER Then Imports System.IO Imports System.Text #End If Public Function CCC_CreateFile(ByVal UID_PWO As String) As String Dim path As String = \"c:\\temp\\MyTest.txt\" ' Create or overwrite the file. Dim fs As IO.FileStream = IO.File.Create(path) ' Add text to the file. Dim info As Byte() = New UTF8Encoding(True).GetBytes(\"This is some text in the file.\") fs.Write(info, 0, info.Length) fs.Close() Return path End Function \u0414\u043b\u044f Verify_file #If Not SCRIPTDEBUGGER Then Imports System.IO Imports System.Text #End If Public Function CCC_CheckFile() As Boolean Dim a As String = \"123\" Dim path As String = \"c:\\temp\\MyTest.txt\" Dim fs As Boolean = File.Exists(path) If fs = True Then CCC_CheckFile = True Else CCC_CheckFile = False End If End Function \u0412 workflow approval policy \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0442\u0438\u043f EX - Approvals to be made externally \u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 - \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Create_File \u0428\u0430\u0433\u0438 Make positive \u0438 negative \u0432\u0437\u044f\u0442\u044b \u0438\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \"VI_ESS_PersonWantsOrg create AD group\" \u0442\u0430\u0431\u043b\u0438\u0446\u044b PersonWantsOrg \u0423\u0431\u0438\u0440\u0430\u0435\u043c \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 - \u043e\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f, \u0447\u0435\u0440\u0435\u0437 REST API. \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0437 1IM https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/29 CreateITShopOrder https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/20#TOPIC-861390 Hi Serge, that's because the methods provided by the customizer are not listed under \"Actions\". Go to the \"Object\" menu, \"Properties\", \"Methods\". The Abort method can only be called internally, so you may need a process to execute the method for you (HandleObjectComponent > CallMethod). HTH, Oliver \u0412\u044b\u0437\u0432\u0430\u0442\u044c \u043c\u0435\u0442\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u0438\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 HandleObjectComponent - CallMethod { \"parameters\": [ [ \"sa\", True, \"Approved\", Nothing, \"0\" ] ] } { \"parameters\": [ \"Parameter value\" ], \"base\": \"\\<Key>\\<T>Person\\</T>\\<P>00000000-0000-0000-0000-000000000000\\</P>\\</Key\", \"value\": \"Sample value\" } { \"parameters\": { \"StringValue\": \"string\", \"IntValue\": 0, \"DateValue\": \"2020-01-20T09:27:22.874Z\", \"DoubleValue\": 3.14, \"BoolValue\": true } } MethodName: Value = \"MakeDecision\" ObjectType: Value = \"PersonWantsOrg\" Param1: Value = \"sa\" Param2: Value = \\<approval> (\"true\" = granted; \"false\" = denied) Param3: Value = \\<reason for approval decision> Param4: Value = \\<standard reason> Param5: Value = \\<number approval steps> (PWODecisionStep.SubLevelNumber) WhereClause: Value = \"UID_PersonWantsOrg ='\"& $UID_PersonWantsOrg$ &\"'\" https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/29 \u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c UID \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441!!! \u041f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044e! \u0421\u043d\u0430\u0447\u0430\u043b\u0430, \u043f\u0440\u0438 \u043f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0438 \u0441\u043e\u0431\u044b\u0442\u0438\u044f, - \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c, \u0435\u0441\u0442\u044c \u043b\u0438 \u0444\u0430\u0439\u043b \u0442\u0430\u043a\u043e\u0439 - \u0435\u0441\u043b\u0438 \u0444\u0430\u0439\u043b\u0430 \u043d\u0435\u0442 - \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0435\u0433\u043e, \u0435\u0441\u043b\u0438 \u0444\u0430\u0439\u043b \u0435\u0441\u0442\u044c - \u0434\u0435\u043b\u0430\u0435\u043c approve. \u041f\u043e\u0442\u043e\u043c, \u0441\u0435\u0440\u0432\u0438\u0441 \u0434\u0435\u0441\u043a \u0434\u0430\u0435\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u043d\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044e \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0441\u043d\u043e\u0432\u0430 - \u0442\u0430\u043a \u043a\u0430\u043a \u0444\u0430\u0439\u043b \u0435\u0441\u0442\u044c - \u0431\u0443\u0434\u0435\u0442 approve.","title":"21) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u044f\u0432\u043a\u0438 \u0432 ServiceDesk (\u0444\u0430\u0439\u043b\u0430)"},{"location":"1.%20Misc/#22-fullsync","text":"The session variable FullSync=FALSE is set if the option Data import is enabled. The session variable is set to FullSync=TRUE if the option is disabled. Different processes, scripts and templates are only executed in the One Identity Manager database if FullSync=FALSE. In this context it means they are only synchronized with a secondary system. Synchronizing with a primary system ignores processes, scripts and templates. \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 Service Items \u041f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a - \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044b \u0441\u0442\u0440\u043e\u043a (Alt + 010) \u0421\u043e\u0437\u0434\u0430\u0442\u044c Shopping Center \u0421\u043e\u0437\u0434\u0430\u0442\u044c ITShop (ITShopOrg) \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c Service Categories \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c Service Items (\u043d\u0443\u0436\u043d\u043e \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f Custom Target Systems Groups) \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c Custom Target Systems \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0413\u0440\u0443\u043f\u043f\u044b Custom Target System \u0438 \u0441\u043c\u0430\u043f\u0438\u0442\u044c \u0438\u0445 \u0441 Service Items (AccProduct) \u0421\u043e\u0437\u0434\u0430\u0442\u044c Shops \u0438 Customer \u0421\u043c\u0430\u043f\u0438\u0442\u044c \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 Account Definitions? \u041f\u0435\u0440\u0435\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0440\u043e\u043b\u0435\u0439 \u0441\u0440\u0430\u0437\u0443 QER\\Structures\\DynamicGroupCheck\\CalculateImmediatelyPerson \u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 Process query interval (StartInterval) This property defines a time interval in which One Identity Manager Service can request new process steps. Click on this icon to discard the change. The default value is 90 seconds. Suggestions for configuring the time interval are calculated from Job server statistical data. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0.2/configuration-guide/64 > \u041f\u043e\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u0435\u0439 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f (Manage Level) Unmanaged - \u0438\u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0443\u0447\u0435\u0442\u043a\u0438 \u043f\u043e\u043b\u044f \u0431\u0435\u0440\u0443\u0442\u0441\u044f \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0443\u0447\u0435\u0442\u043e\u043a, \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0443\u0447\u0435\u0442\u043a\u0438 - \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f Full Managed - \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0443\u0447\u0435\u0442\u043a\u0438 \u043e\u0442\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0432 \u0443\u0447\u0435\u0442\u043a\u0430\u0445 Custom Target Systems \u0438 \u0434\u0440 \u0412 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445 \u043f\u043e\u043b\u0435\u0439 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0443\u0440\u043e\u0432\u043d\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f! \u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0430\u0445 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439 It is possible to specify the manage level for an Account Definition for handling Active Directory user accounts (ADSAccounts). The user account\u2019s manage level determines the scope of the properties that a user account inherits from an Employee. This means that an Employee can have several user accounts in an Active Directory domain, e.g.: - A Default user account that inherits all properties from the Employee - An Administrative user account that is associated to an Employee but should not inherit the properties from the Employee. - A Service account that contains the home directory and the profile directory of the Employee but cannot inherit further properties. Identity Manager supplies a configuration for manage levels: \u2022 Unmanaged : User accounts with a manage level of \u201cUnmanaged\u201d are associated with an Employee but do not inherit properties further properties. When a new user account is created and assigned to an Employee, the Employee\u2019s properties are initially transferred. If the Employee\u2019s properties are changed at a later date, the changes are not passed on to the user account. \u2022 Full managed: User accounts with a manage level of \u201cFull managed\u201d inherit specific properties from the assigned Employee. Note: The manage levels, \u201cUnmanaged\u201d and \u201cFull managed\u201d, are taken into account in column templates. Define manage levels depending on the requirements. Then extend templates to include the methods for the additional manage levels. Fore more information, please refer to the Target System Base Module Administration Guide: Account definitions and manage levels . From \\< https://support.oneidentity.com/identity-manager/kb/148806/understanding-manage-levels > Outstanding \u041c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u044b \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u044b\u043b\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0438\u0437 \u044d\u0442\u043e\u0439 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043d\u043e \u043e\u0441\u0442\u0430\u043b\u0438\u0441\u044c \u0432 1IM, \u043f\u043e\u0441\u043b\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (\u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b) The xmarkedfordeletion value bit mask definitions are: 0=Marked for Delete 1=Not found in TargetSystem 2=Contains locked properties So Value = 2 => Bit 1 set to True => Not found in TargetSystem. Normal, means no Bit set => Value = 0 And, ootb there are no other processes setting this value. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/29084/xmarkedfordeletion-2 > Identity Manager 8.0.2 - One Identity Manager Connector User Guide Public Sub CCC_Util_MarkAsOutstanding(XObjectKey As String) Dim OKey As New DbObjectKey(XObjectKey) Dim e As IEntity e = Session.Source.Get(OKey) e.State = VI.DB.Entities.EntityState.OutStanding Using uow = Session.StartUnitOfWork() uow.Put(e) uow.Commit() End Using End Sub From \\< https://www.oneidentity.com/community/identity-manager/f/forum/20582/how-to-set-unsaccountb-as-outstanding-in-vb-script-in-v7-xmarkedfordeletion/57469#57469 > \u0427\u0442\u043e\u0431\u044b \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 Outstanding, \u043d\u0430\u0434\u043e \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430 Custom Target System Type \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0417\u0430\u0439\u0442\u0438 \u0432 Target System Syncronization \u0438 \u0442\u0430\u043c \u043c\u043e\u0436\u043d\u043e \u0443\u0436\u0435 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442\u044b https://support.oneidentity.com/technical-documents/identity-manager/8.1/administration-guide-for-connecting-to-custom-target-systems/3 \u0427\u0442\u043e\u0431\u044b \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043d\u043e\u0432\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u043c\u043e\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043b\u0430\u0433 Can be published - \u044d\u0442\u043e \u0434\u0430\u0441\u0442 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 HandleOutstanding \u0438 \u0438\u043d\u0437\u0435\u0440\u0442\u0438\u0442\u044c \u0432 \u0446\u0435\u043b\u0435\u0432\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043e\u0431\u044a\u0435\u043a\u0442 \u0441\u043d\u043e\u0432\u0430 To publish outstanding objects Create a process for each table with outstanding objects you want to publish. The process is triggered by the event \"HandleOutstanding\" and provisions the objects. Use the process function \"AdHocProjection\" of the process component \"ProjectorComponent\". For more detailed information about defining processes, see One Identity Manager Configuration Guide. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0/administration-guide-for-connecting-to-custom-target-systems/3 > Meta value Meaning IsLoaded This value specifies whether the object is loaded from the database. IsChanged This value specifies whether the object is altered when it is loaded from the database. IsDifferent This value specifies whether the new value is different from the old value. You can access to the column through: Columnname[C]. IsDeleted This value specifies whether the object is marked for deletion. Table 267: Meta Values and their Meaning From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/84 > \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0441\u0445\u0435\u043c\u044b \u0445\u0440\u0430\u043d\u0438\u043c\u044b\u043c\u0438 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430\u043c\u0438 You cannot create custom functions, triggers or database procedures with the program Schema Extension. If you require custom functions, triggers or database procedures, add them with a suitable query tool into the database. Keep to the following conventions for name database components. Name begin with the string CCC_. All names are a maximum of 30 characters long. It is recommended to use UpperCamelCase for as notation for the names. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0.3/configuration-guide/101#TOPIC-1153571 > Multi-request resources Identity Manager 8.0 - IT Shop Administration Guide (oneidentity.com)","title":"22) FULLSYNC"},{"location":"1.%20Misc/#it-shop-approval-policy","text":"\u041e\u0440\u0438\u0433\u0438\u043d\u0430\u043b \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e CN \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 AD If Not CBool(Variables(\"FULLSYNC\")) Then Dim CN, CNfix, DNold, DNnew,Domain, wherePart As String Dim i As Integer Dim f As ISqlFormatter = Connection.SqlFormatter If $Givenname$ \\<> $Givenname[o]$ Or $Surname$ \\<> $Surname[o]$ Then If $Givenname$\\<>\"\" AndAlso $Surname$\\<>\"\" Then CN = $Surname$ & \" \" & $Givenname$ ElseIf $Givenname$\\<>\"\" Then CN = $Givenname$ ElseIf $Surname$\\<>\"\" Then CN = $Surname$ Else CN = $cn$ End If Else CN = $cn$ End If Dim cnLen as Integer = Base.TableDef.Columns(\"CN\").MaxLen CN = VID_Left(CN, cnLen) If $cn[o]$\\<>CN Or $UID_ADSContainer[o]$\\<>$UID_ADSContainer$ Then i=1 CNFix = CN If $UID_ADSContainer[o]$ \\<> \"\" Then DNold = $FK(UID_ADSContainer[o]).DistinguishedName$ Else DNold = $FK(UID_ADSDomain[o]).DistinguishedName$ End If If $UID_ADSContainer$ \\<> \"\" Then DNnew = $FK(UID_ADSContainer).DistinguishedName$ Else DNnew = $FK(UID_ADSDomain).DistinguishedName$ End If Domain = $UID_ADSDomain$ If DNold \\<> \"\" And DNold \\<> DNnew Then wherePart = f.OrRelation( _ f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNnew), ValType.String), _ f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNold), ValType.String) _ ) Else wherePart = f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNnew), ValType.String) End If Do While Connection.Exists( \"ADSAccount\", _ f.AndRelation( _ f.UidComparison(\"UID_ADSAccount\", $UID_ADSAccount$, CompareOperator.NotEqual), _ f.UidComparison(\"UID_ADSDomain\", Domain), _ wherePart _ )) CN = VID_Left(CNfix, cnLen - (1 + CStr(i).Length)) & \"_\" & i If DNold \\<> \"\" And DNold \\<> DNnew Then wherePart = f.OrRelation( _ f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNnew), ValType.String), _ f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNold), ValType.String) _ ) Else wherePart = f.Comparison(\"DistinguishedName\", ADS_CreateDN(\"cn\", CN, DNnew), ValType.String) End If i=i+1 Loop End If Value = CN End If Oracle DB ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-FD31AB9E86D47A4EABE18EFBF3F642A9\\</P>\\</Key>, CCC_Test2) #If Not SCRIPTDEBUGGER Then References Devart.Data.Oracle.dll Imports Devart.Data.Oracle #End If Public Function GetOracleConnectionString() As String Dim cs As New Devart.Data.Oracle.OracleConnectionStringBuilder() cs.ConnectMode = Devart.Data.Oracle.OracleConnectMode.Default cs.Sid = \"\" cs.ServiceName = \"OIM_SD\" cs.UserId = \"OIM_SD\" cs.Password = \"Password123\" cs.Server = \"[REDACTED_IP]\" cs.Direct = True Return cs.ConnectionString End Function Public Sub OracleExecute() Dim dbFac As IDbFactory = DbApp.GetFactoryByName(\"VI.DB.Oracle.ViOracleFactory,VI.DB.Oracle\") Dim strSQL As String Dim tabnum As String Dim myP1 As New Devart.Data.Oracle.OracleParameter myP1.ParameterName = \"tabno\" myP1.Value = 873 strSQL = \"ussc_enable_employee\" 'strSQL = \"UPDATE ADMIN.ITSM_PERSONS SET PER_JOBTitle = '\u0421\u0442\u0430\u0440\u0448\u0438\u0439 \u0438\u043d\u0441\u043f\u0435\u043a\u0442\u043e\u0440 \u043a\u0430\u043d\u0446\u0435\u043b\u044f\u0440\u0438\u0438' WHERE PER_OID = 281478295650441\" Using sf = DbApp.ConnectTo(GetOracleConnectionString()).Using(dbFac).BuildSessionFactory() Using dbSession = sf.OpenDbSession() Try dbSession.SqlExecuteStoredProcedure(strSQL) 'dbSession.SqlExecuteNonQuery(strSQL) Catch ex As Exception 'MsgBox(ex) Throw New Exception(\"Error\", ex) End Try End Using End Using End Sub \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c select ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-CB992DB7D1CA2E49A313987CCF7AAA82\\</P>\\</Key>, CCC_Test3) Public Sub CCC_Test3() Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"select * from employee where tab_num LIKE '873'\", .CommandType = CommandType.Text } Dim dr As OracleDataReader = cmd.ExecuteReader() dr.Read() MsgBox(dr.Item(\"ENABLED\")) OracleConnection.Dispose() End Using End Sub -------------------- \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-CB992DB7D1CA2E49A313987CCF7AAA82\\</P>\\</Key>, CCC_Test3) Public Sub CCC_Test3() Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \" ussc_disable_employee \", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add (New OracleParameter(\"v_login\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"873\" cmd.ExecuteNonQuery() OracleConnection.Dispose() End Using End Sub \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f HP, \u0447\u0435\u0440\u0435\u0437 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-CB992DB7D1CA2E49A313987CCF7AAA82\\</P>\\</Key>, CCC_Test3) Public Sub CCC_Test3() Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"ussc_create_user\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_login\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"ivanovsa\" cmd.Parameters.Add(New OracleParameter(\"v_password\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"qwe123\" cmd.Parameters.Add(New OracleParameter(\"v_firstname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"Semen\" cmd.Parameters.Add(New OracleParameter(\"v_middlename\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"Andreevich\" cmd.Parameters.Add(New OracleParameter(\"v_lastname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"Ivanov\" cmd.Parameters.Add(New OracleParameter(\"v_email\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"<[redacted-email]>\" cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"111234\" cmd.ExecuteNonQuery() OracleConnection.Dispose() End Using End Sub \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0441 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 HP Public Function CCC_UNSAccountB_HP_Insert(ByVal dbsUnsAccount As SingleDbObjectSnapshot) As String 'return value should be the UNSAccountB.ObjectGUID 'ussc_create_user - Create user account in HP Service desk Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName = \"c:\\data\\HP\\hp.log\" Dim login As String = dbsUnsAccount.GetValue(\"Accountname\").String Dim email As String = login + \"<@surgut.[redacted-domain]>\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"ussc_create_user\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_login\", OracleDbType.VarChar, ParameterDirection.Input)).Value = login cmd.Parameters.Add(New OracleParameter(\"v_password\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"qwe123\" cmd.Parameters.Add(New OracleParameter(\"v_firstname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"FirstName\").String cmd.Parameters.Add(New OracleParameter(\"v_middlename\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"CCC_MiddleName\").String cmd.Parameters.Add(New OracleParameter(\"v_lastname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"LastName\").String cmd.Parameters.Add(New OracleParameter(\"v_email\", OracleDbType.VarChar, ParameterDirection.Input)).Value = email cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"Description\").String Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try OracleConnection.Dispose() End Using Return dbsUnsAccount.GetValue(\"Description\").String End Function \u0421\u043a\u0440\u0438\u043f\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f Employee HP Public Function CCC_UNSAccountB_HPusers_Insert(ByVal dbsUnsAccount As SingleDbObjectSnapshot) As String 'return value should be the UNSAccountB.ObjectGUID 'ussc_create_employee - Create employee in HP Service desk Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName = \"c:\\data\\HP\\hp.log\" Dim login As String = dbsUnsAccount.GetValue(\"Accountname\").String Dim email As String = login + \"<@surgut.[redacted-domain]>\" Dim adlogin As String = login + \"<@domain>\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"ussc_create_employee\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"Description\").String cmd.Parameters.Add(New OracleParameter(\"v_firstname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"FirstName\").String cmd.Parameters.Add(New OracleParameter(\"v_middlename\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"CCC_MiddleName\").String cmd.Parameters.Add(New OracleParameter(\"v_lastname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"LastName\").String cmd.Parameters.Add(New OracleParameter(\"v_position\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"CCC_Position\").String cmd.Parameters.Add(New OracleParameter(\"v_email\", OracleDbType.VarChar, ParameterDirection.Input)).Value = email cmd.Parameters.Add(New OracleParameter(\"v_organization\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_adlogin\", OracleDbType.VarChar, ParameterDirection.Input)).Value = adlogin cmd.Parameters.Add(New OracleParameter(\"v_location\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_host\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_socket\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_room\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_defaulphone\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_street\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" cmd.Parameters.Add(New OracleParameter(\"v_oid\", OracleDbType.VarChar, ParameterDirection.Input)).Value = \"\" Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try OracleConnection.Dispose() End Using Return dbsUnsAccount.GetValue(\"Description\").String End Function \u0421\u043a\u0440\u0438\u043f\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 HP Public Sub CCC_UnsAccountBInUnsGroupB_HP_Add(ByVal dbsUnsAccount As SingleDbObjectSnapshot, ByVal dbsUnsGroup As SingleDbObjectSnapshot) Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName = \"c:\\data\\HP\\hp.log\" Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"add_usr_role\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_login\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"Accountname\").String cmd.Parameters.Add(New OracleParameter(\"v_role\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsGroup.GetValue(\"UID_UNSGroupB\").String Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try OracleConnection.Dispose() End Using End Sub ----- \u0421\u043a\u0440\u0438\u043f\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f HP Public Sub CCC_UNSAccountB_HPusers_Update(ByVal dbsUnsAccount As SingleDbObjectSnapshot) Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName As String = \"c:\\data\\HP\\hp.log\" Dim tabnum As String = dbsUnsAccount.GetValue(\"Description\").String Dim tabnum_correct As String = tabnum.Substring(3) Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() If dbsUnsAccount.GetValue(\"LastName\").String \\<> \"\" Then Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"USSC_UPDATE_EMP_LASTNAME\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = tabnum_correct cmd.Parameters.Add(New OracleParameter(\"v_lastname\", OracleDbType.VarChar, ParameterDirection.Input)).Value = dbsUnsAccount.GetValue(\"LastName\").String Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try End If If dbsUnsAccount.GetValue(\"Accountname\").String \\<> \"\" Then Dim login As String = dbsUnsAccount.GetValue(\"Accountname\").String Dim adlogin As String = login + \"<@domain>\" Dim cmd1 As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"USSC_UPDATE_EMP_ADLOGIN\", .CommandType = CommandType.StoredProcedure } cmd1.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = tabnum_correct cmd1.Parameters.Add(New OracleParameter(\"v_adlogin\", OracleDbType.VarChar, ParameterDirection.Input)).Value = adlogin Try 'VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> TABNUM: {1}, AD_LOGIN: {2}\", Now.ToString(), tabnum, adlogin)) cmd1.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try End If OracleConnection.Dispose() End Using End Sub \u0421\u043a\u0440\u0438\u043f\u0442 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f HP Public Function CCC_UNSAccountB_HPusers_Disabled(ByVal tabnum As String) As String Dim oradb As String = \"Data Source=[REDACTED_IP];User Id=[REDACTED_USER];Password=[REDACTED];Service name=OIM_SD;Direct=True\" Dim strLOGFileName As String = \"c:\\data\\HP\\hp.log\" 'Dim login As String = dbsUnsAccount.GetValue(\"Accountname\").String Using OracleConnection = New OracleConnection(oradb) OracleConnection.Open() Dim cmd As New OracleCommand With { .Connection = OracleConnection, .CommandText = \"USSC_DISABLE_EMPLOYEE\", .CommandType = CommandType.StoredProcedure } cmd.Parameters.Add(New OracleParameter(\"v_tabnum\", OracleDbType.VarChar, ParameterDirection.Input)).Value = tabnum Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try OracleConnection.Dispose() End Using Return tabnum End Function Directum \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u043d\u0435 \u0440\u043e\u0431\u0438\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u0432 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0443\u0447\u0435\u0442\u043a\u0430 \u0432 SQL \u0438 \u0434\u043e\u0441\u0442\u0443\u043f \u0441 Windows \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0435\u0439) Public Function CCC_UNSAccountB_Directum_Insert(ByVal dbsUnsAccount As SingleDbObjectSnapshot) As String Dim connetionString As String = \"Data Source=[REDACTED_IP]\\MSSQLSERVER; Initial Catalog=DIRECTUM;Integrated Security=false; User ID=[REDACTED_USER];Password=;\" Using conn As New System.Data.SqlClient.SqlConnection(connetionString) Using cmd As New System.Data.SqlClient.SqlCommand(\"INSERT INTO Employees (Name, Department, Salary) VALUES (@Name, @Department, @Salary)\", conn) cmd.CommandType = CommandType.Text cmd.Parameters.AddWithValue(\"@Name\", _name) cmd.Parameters.AddWithValue(\"@City\", _departmenmt) cmd.Parameters.AddWithValue(\"@City\", _salary) conn.Open() Dim i As Integer = cmd.ExecuteNonQuery() conn.Close() Return CType(i, String) End Using End Using End Function ------------------- Directum \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f Public Sub CCC_UNSAccountB_Directum_Update(ByVal dbsUnsAccount As SingleDbObjectSnapshot) Dim strLOGFileName As String = \"c:\\data\\Directum\\Directum.log\" Dim connetionString As String = \"Data Source=[REDACTED_IP]; Initial Catalog=DIRECTUM;Integrated Security=false; User ID=[REDACTED_USER];Password=[REDACTED];\" Using conn As New System.Data.SqlClient.SqlConnection(connetionString) Using cmd As New System.Data.SqlClient.SqlCommand(\"OIM_UpdateUser\", conn) cmd.CommandType = CommandType.StoredProcedure cmd.Parameters.AddWithValue(\"@LoginName\", dbsUnsAccount.GetValue(\"Accountname\").String) cmd.Parameters.AddWithValue(\"@NewName\", dbsUnsAccount.GetValue(\"DisplayName\").String) 'cmd.Parameters.Add(New System.Data.SqlClient.SqlParameter(\"@LoginName\", login)) 'cmd.Parameters.Add(New System.Data.SqlClient.SqlParameter(\"@NewName\", newname)) conn.Open() Try cmd.ExecuteNonQuery() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try conn.Close() End Using End Using End Sub Directum \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f Public Function CCC_UNSAccountB_Directum_Disabled(ByVal login As String) As String Dim strLOGFileName As String = \"c:\\data\\Directum\\Directum.log\" Dim connetionString As String = \"Data Source=[REDACTED_IP]; Initial Catalog=DIRECTUM;Integrated Security=false; User ID=[REDACTED_USER];Password=[REDACTED];\" Using conn As New System.Data.SqlClient.SqlConnection(connetionString) Using cmd As New System.Data.SqlClient.SqlCommand(\"OIM_DisableUser\", conn) cmd.CommandType = CommandType.StoredProcedure cmd.Parameters.AddWithValue(\"@LoginName\", login) conn.Open() Try cmd.ExecuteNonQuery() VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> User: {1} is disabled\", Now.ToString(), login)) Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try conn.Close() End Using End Using Return login End Function Directum \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f Public Function CCC_UNSAccountB_Directum_Enabled(ByVal login As String) As String Dim strLOGFileName As String = \"c:\\data\\Directum\\Directum.log\" Dim connetionString As String = \"Data Source=[REDACTED_IP]; Initial Catalog=DIRECTUM;Integrated Security=false; User ID=[REDACTED_USER];Password=[REDACTED];\" Using conn As New System.Data.SqlClient.SqlConnection(connetionString) Using cmd As New System.Data.SqlClient.SqlCommand(\"OIM_EnableUser\", conn) cmd.CommandType = CommandType.StoredProcedure cmd.Parameters.AddWithValue(\"@LoginName\", login) conn.Open() Try cmd.ExecuteNonQuery() VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> User: {1} is enabled\", Now.ToString(), login)) Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now.ToString(), ViException.ErrorString(ex))) End Try conn.Close() End Using End Using Return login End Function \u0421\u043a\u0440\u0438\u043f\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f\u044b AD Public Sub \u0421\u0421\u0421_ADSAccountInADSGroup_Del(ByVal UID_ADSGroup As String, ByVal UID_ADSAccount As String) Dim strLOGFileName = \"c:\\temp\\logs\\temp.txt\" Dim ADSAccountInADSGroup_query = Query.From(\"ADSAccountInADSGroup\") _ .Where(Function(t) t.Column(\"UID_ADSGroup\") = UID_ADSGroup And t.Column(\"UID_ADSAccount\") = UID_ADSAccount) _ .SelectAll() Dim ADSAccountInADSGroups = Session.Source.GetCollection(ADSAccountInADSGroup_query, EntityCollectionLoadType.Bulk) Using uow = Session.StartUnitOfWork() ' Walk through the list of all persons For Each ADSAccountInADSGroup As IEntity In ADSAccountInADSGroups ' Mark for deletion ADSAccountInADSGroup.MarkForDeletion() ' put the object in the unit of work uow.Put(ADSAccountInADSGroup) Next ' All person objects will be saved here! Try uow.Commit() Catch ex As Exception VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> ERROR: {1}\", Now().ToString(), ViException.ErrorString(ex))) End Try End Using End Sub ---------","title":"IT SHOP: Approval policy"},{"location":"1.%20Misc/#bulk-delete-outstanding-objects","text":"Public Sub CCC_Entity_DeleteOutStandingFromDB(ObjectKeys As IEnumerable(Of String)) Dim f = Connection.SqlFormatter ' Set connection variable to hint about the management of OutStanding objects Session.Variables.Put(\"ManageOutstanding\", True) Session.Variables.Put(\"NoCollisionTest\", True) Session.Variables.Put(\"ManageOutstandingOperation\", \"DELETE\") ' Group the ObjectKeys by table Dim keysByTable = ObjectKeys _ .Select(Function(k) New DbObjectKey(k)) _ .GroupBy(Function(k) k.Tablename, StringComparer.OrdinalIgnoreCase) Try ' Create a unit of work here to optimize execution Using uow = Session.StartUnitOfWork() ' Iterate through the keys for each table For Each tableEntry In keysByTable ' Partition the workload into junks defined by the limit of the IN clause. For Each part In tableEntry.Partition(f.InClauseLimit) ' Define the query for the current partition Dim q = Query _ .From(tableEntry.Key) _ .Where(Function(t) t.Column(\"XObjectKey\").In(part)) _ .SelectNonLobs() ' Fetch a partition of the data using Bulk collection Dim entities = Session.Source().GetCollection(q, EntityCollectionLoadType.Bulk) ' For each entity of the collection For Each e In entities ' Call the customizer method to delete the outstanding object e.CallMethod(\"DeleteOutstanding\") ' put the entity to save in the unit of work uow.Put(e) Next Next Next ' Write the changes to the database uow.Commit() End Using Finally ' Remove the connection variable that hints about the management of OutStanding objects Session.Variables.Remove(\"ManageOutstanding\") Session.Variables.Remove(\"NoCollisionTest\") Session.Variables.Remove(\"ManageOutstandingOperation\") End Try End Sub -------------- API $authdata = @{AuthString = \"Module=DialogUser;User=[REDACTED_USER];Password=\" } $authJson = ConvertTo-Json $authdata -Depth 2 # Login (important, pass the NAME for your session variable in -SessionVariable) Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/auth/apphost \" -Body $authJson.ToString() -Method Post -UseDefaultCredentials -Headers @{Accept = \"application/json\" } -SessionVariable wsession #\"https://t-oneim-4.domain/AppServer/api/entity/Department/30002471\" Invoke-WebRequest -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Department/30002471 \" -WebSession $wsession ------- API $authdata = @{AuthString = \"Module=DialogUser;User=[REDACTED_USER];Password=[REDACTED]\" } $authJson = ConvertTo-Json $authdata -Depth 2 # Login (important, pass the NAME for your session variable in -SessionVariable) Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/auth/apphost \" -Body $authJson.ToString() -Method Post -UseDefaultCredentials -Headers @{Accept = \"application/json\" } -SessionVariable wsession #\"https://t-oneim-4.domain/AppServer/api/entity/Department/30002471\" #Get Department Invoke-WebRequest -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Department/30002471 \" -WebSession $wsession #Get list users with where $a = Invoke-WebRequest -Uri \" https://localhost/AppServer/api/entities/Person?lastname=\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u04394&limit=2 \" -WebSession $wsession #Create a new object and return URI of new object $FirstName = \"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\" $LastName = \"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u04394\" $MiddleName = \"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447\" $UID_Department = \"10013364\" $body = @{values = @{FirstName = $FirstName; LastName = $LastName; MiddleName = $MiddleName; UID_Department = $UID_Department; IsExternal = 0; BirthDate = \"1993-05-14\"; Gender = 1 } } | ConvertTo-Json $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person \" -WebSession $wsession -Method Post -Body $body -ContentType \"application/json; charset=utf-8\").uri #Change Employee Description $Description = \"\u041c\u0430\u0441\u0442\u0435\u0440 \u0446\u0435\u0445\u0430\" $body = @{values = @{Description = $Description } } | ConvertTo-Json $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person/8b93c671-fafb-466b-9148-ad0d340c310e \" -WebSession $wsession -Method Put -Body $body -ContentType \"application/json; charset=utf-8\").uri #Change Employee Department $Department = \"10013365\" $body = @{values = @{UID_Department = $Department } } | ConvertTo-Json $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain.ru/AppServer/api/entity/Person/8b93c671-fafb-466b-9148-ad0d340c310e \" -WebSession $wsession -Method Put -Body $body -ContentType \"application/json; charset=utf-8\").uri #Deactivation $Deactivation_start = [DateTime]::ParseExact('2019.11.24 18:55:00', 'yyyy.MM.dd HH:mm:ss', $null) $Deactivation_start1 = $Deactivation_start.ToString(\"yyyy-MM-dd HH:mm:ss.000\") $Deactivation_end = [DateTime]::ParseExact('2019.12.06 18:55:00', 'yyyy.MM.dd HH:mm:ss', $null) $Deactivation_end1 = $Deactivation_end.ToString(\"yyyy-MM-dd HH:mm:ss.000\") $body = @{values = @{DeactivationStart = $Deactivation_start1; DeactivationEnd = $Deactivation_end1 } } | ConvertTo-Json $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person/8b93c671-fafb-466b-9148-ad0d340c310e \" -WebSession $wsession -Method Put -Body $body -ContentType \"application/json; charset=utf-8\").uri #Delete Employee $newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person/8b93c671-fafb-466b-9148-ad0d340c310e \" -WebSession $wsession -Method Delete -Body $body -ContentType \"application/json; charset=utf-8\").uri #logout Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/auth/logout \" -WebSession $wsession -Method Post ------ Central Account '$CustomProperty01$ If CStr($ImportSource$) \\<> \"ADS\" And CStr($Lastname$) \\<> \"\" And CStr($Firstname$) \\<> \"\" And CStr($Middlename$) \\<> \"\" And _ (Not CBool(Connection.Variables.Get(\"FULLSYNC\")) Or CStr($ImportSource$).StartsWith(\"EBS\") Or CStr($ImportSource$).StartsWith(\"SAP\") ) Then If CStr(Connection.GetConfigParm(\"QER\\Person\\CentralAccountGlobalUnique\"))=\"1\" Then Value = CCC_AE_BuildCentralAccountGlobalUnique( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) Else Value = CCC_AE_BuildCentralAccount( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) End If End If If CStr($ImportSource$) \\<> \"ADS\" And CStr($Lastname$) \\<> \"\" And CStr($Firstname$) \\<> \"\" And CStr($Middlename$) = \"\" And _ (Not CBool(Connection.Variables.Get(\"FULLSYNC1\")) Or CStr($ImportSource$).StartsWith(\"EBS\") Or CStr($ImportSource$).StartsWith(\"SAP\") ) Then If CStr(Connection.GetConfigParm(\"QER\\Person\\CentralAccountGlobalUnique\"))=\"1\" Then Value = CCC_AE_BuildCentralAccountGlobalUnique( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) Else Value = CCC_AE_BuildCentralAccount( GetValue(\"UID_Person\").String, $Lastname$, $Firstname$, $Middlename$) End If End If Global Unique ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-65B50C3A86A10C45AB53FD0B36D6FD70\\</P>\\</Key>, CCC_AE_BuildCentralAccount) ''' \\<summary> ''' Returns the central user account of a person (for use in templates). ''' \\</summary> #If Not SCRIPTDEBUGGER Then Imports System.Collections.Generic Imports System.Data #End If Public Function CCC_AE_BuildCentralAccount( _ ByVal uid_person As String, _ ByVal Lastname As String, _ ByVal Firstname As String, _ ByVal Middlename As String) As String If String.IsNullOrEmpty(Lastname) AndAlso String.IsNullOrEmpty(Firstname) Then Return String.Empty End If Dim i As Int32 Dim accnt As String = \"\" Dim accntPrefix As String = \"\" Dim personAccnt As String = \"\" Dim f As ISqlFormatter = Connection.SqlFormatter If Firstname.Length > 0 And Lastname.Length > 0 And Middlename.Length > 0 Then accnt = Lastname & Firstname.Substring(0,1) & Middlename.Substring(0,1) ElseIf Firstname.Length > 0 And Lastname.Length > 0 Then accnt = Lastname & Firstname.Substring(0,1) ElseIf Firstname.Length > 0 Then accnt = Firstname Else accnt = Lastname End If accnt = VI_AE_FormatConvertUmlaut_Sonderzeichen(accnt) accnt = CCC_AE_FormatConvert_to_Latin(accnt) accntPrefix = accnt ' load collection of all persons having the same account (prefix) Dim persons As IColDbObject = Connection.CreateCol(\"Person\") persons.Prototype.WhereClause = f.AndRelation( _ f.Comparison(\"CentralAccount\",accntPrefix + \"%\", ValType.String,CompareOperator.Like,FormatterOptions.IgnoreCase), _ f.UidComparison(\"UID_Person\", uid_person, CompareOperator.NotEqual) _ ) persons.Prototype.Columns(\"CentralAccount\").IsDisplayItem = True persons.Load() ' put them in a list of centralaccounts Dim existing As New List(Of String) For Each person As IColElem In persons personAccnt = person.GetValue(\"CentralAccount\").String If Not existing.Contains(personAccnt, StringComparer.InvariantCultureIgnoreCase) Then existing.Add(personAccnt) End If Next ' check if centralaccount is already in use, if yes ' start adding an index until we found a free centralaccount While True If Not existing.Contains(accnt, StringComparer.InvariantCultureIgnoreCase) Then 'Return accnt.ToUpperInvariant() Return accnt End If i = i + 1 accnt = accntPrefix & CStr(i) End While Return String.Empty End Function ' VI-KEY(\\<Key>\\<T>DialogScript\\</T>\\<P>CCC-00E4BBC650D89941A84A1105CEC6E021\\</P>\\</Key>, CCC_AE_BuildCentralAccountGlobalUnique) ''' \\<summary> ''' Finds the central account that is already assigned to an employee or a user account in a target system. ''' \\</summary> #If Not SCRIPTDEBUGGER Then Imports System.Collections.Generic Imports System.Data #End If Public Function CCC_AE_BuildCentralAccountGlobalUnique(ByVal uid_person As String, ByVal Lastname As String, ByVal Firstname As String, ByVal Middlename As String) As String Dim i As Int32 Dim account As String Dim accountPrefix As String Dim f As ISqlFormatter = Connection.SqlFormatter If String.IsNullOrEmpty(Lastname) AndAlso String.IsNullOrEmpty(Firstname) Then Return String.Empty End If CCC_AE_BuildCentralAccountGlobalUnique = String.Empty If Firstname.Length > 0 And Lastname.Length > 0 And Middlename.Length > 0 Then account = Lastname & Firstname.Substring(0,1) & Middlename.Substring(0,1) ElseIf Firstname.Length > 0 And Lastname.Length > 0 Then account = Lastname & Firstname.Substring(0,1) ElseIf Firstname.Length > 0 Then account = Firstname Else account = Lastname End If account = VI_AE_FormatConvertUmlaut_Sonderzeichen(account) account = CCC_AE_FormatConvert_to_Latin(account) accountPrefix = account 'fill existing addresses in a list Dim existing As New List(Of String) Dim dummy As New Object() Dim dummyPerson As ISingleDbObject dummyPerson = Connection.CreateSingle(\"Person\") Dim pattern As String = accountPrefix & \"%\" Dim myObjectKey As New DbObjectKey(\"Person\", uid_person) Dim accountName As String Dim objectKeyString As String Dim objectKey As DbObjectKey Using rd As IDataReader = CType(dummyPerson.Custom.CallMethod(\"SearchCentralAccount\", pattern), IDataReader) While rd.Read() accountName = rd.GetString(rd.GetOrdinal(\"AccountName\")) objectKeyString = rd.GetString(rd.GetOrdinal(\"ObjectKeyPerson\")) If Not String.IsNullOrEmpty(objectKeyString) Then objectKey = New DbObjectKey(objectKeyString) 'only addresses which not belong to the actual employee will be considered If myObjectKey.Equals(objectKey) Then Continue While End If End If existing.Add(accountName) End While End Using While True Dim centralAccount As String = account ' Does not exists? If Not existing.Contains(centralAccount, StringComparer.InvariantCultureIgnoreCase) Then 'Return centralAccount.ToUpperInvariant() Return centralAccount End If ' next trial i = i + 1 account = accountPrefix & CStr(i) End While End Function ------ --\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 > 1 \u0443\u0447\u0435\u0442\u043a\u0438 \u0432 \u0410\u0414 SELECT p.CentralAccount,LastName, FirstName, MiddleName, count(ad.UID_Person) AS CountADAcc FROM Person AS p LEFT JOIN ADSAccount AS ad ON p.UID_Person = ad.UID_Person GROUP BY p.CentralAccount,FirstName, LastName, MiddleName HAVING count(ad.UID_Person) >1 --\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0443 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u0442 \u0443\u0447\u0435\u0442\u043a\u0438 \u0432 \u0410\u0414 SELECT p.CentralAccount,LastName, FirstName, MiddleName, count(ad.UID_Person) AS CountADAcc FROM Person AS p LEFT JOIN ADSAccount AS ad ON p.UID_Person = ad.UID_Person GROUP BY p.CentralAccount,FirstName, LastName, MiddleName HAVING count(ad.UID_Person) =0 ------ \u0421\u043a\u0440\u0438\u043f\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0443\u0447\u0435\u0442\u043a\u0438 \u0432 HP CCC_UNSAccountB_HP_Insert \u0422\u0430\u0431\u043b\u0438\u0446\u0430 AdSAccount \u043f\u043e\u043b\u0435 DisplayName If Not CBool(Variables(\"FULLSYNC\")) _ AndAlso ($GivenName[o]$ \\<> $GivenName$ _ OrElse $Surname[o]$ \\<> $Surname$ orElse $FK(UID_Person).Middlename$ \\<> $FK(UID_Person).Middlename[o]$) Then If $Givenname$\\<>\"\" AndAlso $Surname$\\<>\"\" AndAlso $FK(UID_Person).Middlename$\\<>\"\" Then Value = $Surname$ & \" \" & $Givenname$ & \" \" & $FK(UID_Person).Middlename$ ElseIf $FK(UID_Person).Middlename$=\"\" AndAlso $Givenname$\\<>\"\" AndAlso $Surname$\\<>\"\" Then Value = $Surname$ & \" \" & $Givenname$ ElseIf $Givenname$\\<>\"\" Then Value = $Givenname$ ElseIf $Surname$\\<>\"\" Then Value = $Surname$ End If End If \u0422\u0430\u0431\u043b\u0438\u0446\u0430 Person \u043f\u043e\u043b\u0435 DefaultEmailAddress #If EX2K Or NOTES Then Dim defaultMailAddress As String If Len($CentralAccount$) > 0 AndAlso Len ($UID_Person$) > 0 Then defaultMailAddress = VI_AE_CreatedefaultMailAddress($centralaccount$,$uid_person$) ' check if mail address is valid If VID_IsSMTPAddress(defaultMailAddress) Then Value = defaultMailAddress End If End If #End If","title":"Bulk Delete Outstanding Objects"},{"location":"10.%20One%20Identity%20Risk%20Index/","text":"10. One Identity Risk Index 12 \u0430\u043f\u0440\u0435\u043b\u044f 2022 \u0433. 15:44 Identity Manager 8.0 - Risk Assessment Administration Guide (oneidentity.com) \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f RiskIndex QER\\CalculateRiskIndex \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0440\u0438\u0441\u043a\u0430 \u0412 Manager \u0438\u0434\u0435\u043c \u0432 \u043f\u0443\u043d\u043a\u0442 Risk Index Functions \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043d\u0443\u0436\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 (Person) Assignments - \u0434\u043b\u044f \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0440\u0438\u0441\u043a\u0430 (\u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e - \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f) Properties - \u0434\u043b\u044f \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. \u041c\u043e\u0436\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u043b\u0430\u0441\u044c \u043f\u0443\u0442\u0430\u043d\u0438\u0446\u0430. \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u0439 (CCCRiskIndex_Crossing ) \u041f\u0440\u0438\u043c\u0435\u0440 Assignments select p.XObjectKey as ObjectKeyTarget, risk.CCC_RiskIndex as SourceValue , risk.XObjectKey as ObjectKeySource from Person p join PersonInOrg on p.UID_Person = PersonInOrg.UID_Person Join CCCRiskIndex_Crossing risk on PersonInOrg.UID_Org = risk.CCC_BusinessRole where (p.CCC_KT = 'true' and risk.CCC_KT = 'true') or (p.CCC_PDN = 'true' and risk.CCC_PDN = 'true') or (p.CCC_PublicInformation = 'true' and risk.CCC_Public = 'true') \u041f\u0440\u0438\u043c\u0435\u0440 Properties select xObjectKey as ObjectKeyTarget, 1.0 as SourceValue from Person p where exists (select top 1 1 from PersonInOrg where UID_Person = p.UID_Person and UID_Org = '1e550bc1-5ea4-4ade-9de5-ecca92465374' ) select xObjectKey as ObjectKeyTarget, 1.0 as SourceValue from Person p where CCC_PublicInformation = 'true' \u0417\u0430\u043f\u0443\u0441\u043a \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0440\u0438\u0441\u043a\u0430, \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430 - Calculate risk indexes ----- \u041f\u0440\u0438\u043c\u0435\u0440 SQL \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0430 select CCC_RiskIndex, Person.CentralAccount from CCCRiskIndex_Crossing risk join Org org on risk.CCC_BusinessRole = org.UID_Org join PersonInOrg on org.UID_Org = PersonInOrg.UID_org join Person on PersonInOrg.UID_Person = Person.UID_Person where (Person.CCC_KT = 'true' and risk.CCC_KT = 'true') or (Person.CCC_PDN = 'true' and risk.CCC_PDN = 'true') or (Person.CCC_PublicInformation = 'true' and risk.CCC_Public = 'true')","title":"10. One Identity Risk Index"},{"location":"10.%20One%20Identity%20Risk%20Index/#identity-manager-80-risk-assessment-administration-guide-oneidentitycom","text":"","title":"Identity Manager 8.0 - Risk Assessment Administration Guide (oneidentity.com)"},{"location":"10.%20One%20Identity%20Risk%20Index/#_1","text":"","title":""},{"location":"10.%20One%20Identity%20Risk%20Index/#riskindex","text":"QER\\CalculateRiskIndex","title":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f RiskIndex"},{"location":"10.%20One%20Identity%20Risk%20Index/#_2","text":"\u0412 Manager \u0438\u0434\u0435\u043c \u0432 \u043f\u0443\u043d\u043a\u0442 Risk Index Functions \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043d\u0443\u0436\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 (Person) Assignments - \u0434\u043b\u044f \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0440\u0438\u0441\u043a\u0430 (\u043a\u0430\u043a \u043f\u0440\u0430\u0432\u0438\u043b\u043e - \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f) Properties - \u0434\u043b\u044f \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. \u041c\u043e\u0436\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u043b\u0430\u0441\u044c \u043f\u0443\u0442\u0430\u043d\u0438\u0446\u0430. \u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0435\u0440\u0435\u0441\u0435\u0447\u0435\u043d\u0438\u0439 (CCCRiskIndex_Crossing ) \u041f\u0440\u0438\u043c\u0435\u0440 Assignments select p.XObjectKey as ObjectKeyTarget, risk.CCC_RiskIndex as SourceValue , risk.XObjectKey as ObjectKeySource from Person p join PersonInOrg on p.UID_Person = PersonInOrg.UID_Person Join CCCRiskIndex_Crossing risk on PersonInOrg.UID_Org = risk.CCC_BusinessRole where (p.CCC_KT = 'true' and risk.CCC_KT = 'true') or (p.CCC_PDN = 'true' and risk.CCC_PDN = 'true') or (p.CCC_PublicInformation = 'true' and risk.CCC_Public = 'true') \u041f\u0440\u0438\u043c\u0435\u0440 Properties select xObjectKey as ObjectKeyTarget, 1.0 as SourceValue from Person p where exists (select top 1 1 from PersonInOrg where UID_Person = p.UID_Person and UID_Org = '1e550bc1-5ea4-4ade-9de5-ecca92465374' ) select xObjectKey as ObjectKeyTarget, 1.0 as SourceValue from Person p where CCC_PublicInformation = 'true' \u0417\u0430\u043f\u0443\u0441\u043a \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0440\u0438\u0441\u043a\u0430, \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430 - Calculate risk indexes ----- \u041f\u0440\u0438\u043c\u0435\u0440 SQL \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0430 select CCC_RiskIndex, Person.CentralAccount from CCCRiskIndex_Crossing risk join Org org on risk.CCC_BusinessRole = org.UID_Org join PersonInOrg on org.UID_Org = PersonInOrg.UID_org join Person on PersonInOrg.UID_Person = Person.UID_Person where (Person.CCC_KT = 'true' and risk.CCC_KT = 'true') or (Person.CCC_PDN = 'true' and risk.CCC_PDN = 'true') or (Person.CCC_PublicInformation = 'true' and risk.CCC_Public = 'true')","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0440\u0438\u0441\u043a\u0430"},{"location":"11.%20One%20Identity%20%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%20%D0%BF%D0%BE%20%D0%B8%D0%BC%D0%BF%D0%BE%D1%80%D1%82%D1%83%20%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9/","text":"11. One Identity \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 6 \u043d\u043e\u044f\u0431\u0440\u044f 2020 \u0433. 13:55 #If Not SCRIPTDEBUGGER Then References VI.DataImport.dll Imports System.Collections.Generic Imports System.IO Imports System.Globalization Imports VI.DB.Entities Imports VI.DB.Specialized Imports VI.DataImport #End If Public Sub CCC_Person_Import (ByVal dfImport As DataFileImport) ' Standard variables Dim logSection As IDisposable ' Table Dim table = Connection.Tables(\"Person\") ' Line counter Dim counter As New LineCounter() ' Value provider Dim lineData As New LineValueProvider(New String() {\"ID\", \"FName\", \"LName\", \"SiteRegion\", \"OrigCostCenter\", \"ZeroFilledCostCenter\", \"Department\", \"employee_status\", \"Company\", \"DefaultYardID\", \"DefaultSiteID\", \"ExceptSiteID\", \"Title\", \"ExceptTitle\", \"ExceptTelephone\", \"ExceptFax\", \"UID_PersonHead\",\"JobCode\",\"JobCodeText\", \"JobCodeType\", \"\", \"\"}) ' Import from an external database Dim lineProvider As ILineProvider Dim dbLineProvider As New DbLineProvider() dbLineProvider.ProviderName = \"System.Data.SqlClient.SqlClientFactory, System.Data, Version=[REDACTED_IP], Culture=neutral, PublicKeyToken=b77a5c561934e089\" dbLineProvider.ConnectionString = \"Data Source=\" + Connection.GetConfigParm(\"Custom\\DataImport\\EmployeeImport\\dataSource\") _ + \";Initial Catalog=\" + Connection.GetConfigParm(\"Custom\\DataImport\\EmployeeImport\\catalog\") _ + \";User ID=\" + Connection.GetConfigParm(\"Custom\\DataImport\\EmployeeImport\\user\") + \";Password=\" + dfIMport.Options + \";Pooling=False\" dbLineProvider.TimeZone = TimeZoneInfo.FindSystemTimeZoneById(\"Central Standard Time\") ' SQL statement Dim statement As New PlainSqlStatement() statement.Statement = \"select ID,FName,LName,SiteRegion,OrigCostCenter,ZeroFilledCostCenter,Department,employee_status,Company,DefaultYardID,DefaultSiteID,ExceptSiteID,Title,ExceptTitle,ExceptTelephone,ExceptFax,UID_PersonHead,JobCode, JobCodeText, JobCodeType \" & _ \" from [dbo].[CCC_D1_Employee_Build]\" '0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 'DefaultSiteID = CustomProperty08 'ExceptSiteID = CustomProperty03 dbLineProvider.Statement = statement lineProvider = dbLineProvider ' ' Configure column resolution ' ' Column indices Const iPersonnelNumber = 0 Const iFirstName = 1 Const iLastName = 2 Const iCustomProperty02 = 3 Const iCustomProperty04 = 4 Const iUID_ProfitCenter = 5 Const iUID_Department = 6 Const iCustomProperty10 = 7 Const iCompanyMember = 8 Const iCustomProperty01 = 9 Const iCustomProperty08 = 10 Const iCustomProperty03 = 11 Const iPersonalTitle = 12 Const iCustomProperty05 = 13 Const iCustomProperty06 = 14 Const iCustomProperty07 = 15 Const iUID_PersonHead = 16 Const iCCC_JobCode = 17 Const iCCC_JobCodeText = 18 Const iCCC_JobCodeType = 19 ' Resolver to get column data from import data Dim columnCompanyMember As IResolveImportValue = New ResolveImportValueSimple(\"CompanyMember\") Dim columnCustomProperty01 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty01\") Dim columnCustomProperty02 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty02\") Dim columnCustomProperty03 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty03\") Dim columnCustomProperty04 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty04\") Dim columnCustomProperty05 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty05\") Dim columnCustomProperty06 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty06\") Dim columnCustomProperty07 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty07\") Dim columnCustomProperty08 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty08\") Dim columnCustomProperty09 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty09\") Dim columnCustomProperty10 As IResolveImportValue = New ResolveImportValueSimple(\"CustomProperty10\") Dim columnFirstName As IResolveImportValue = New ResolveImportValueSimple(\"FirstName\") Dim columnLastName As IResolveImportValue = New ResolveImportValueSimple(\"LastName\") Dim columnPersonalTitle As IResolveImportValue = New ResolveImportValueSimple(\"PersonalTitle\") Dim columnPersonnelNumber As IResolveImportValue = New ResolveImportValueSimple(\"PersonnelNumber\") ' Build a dictionary: The last parameter forces exceptions when duplicate keys are found Dim columnUID_Department As New ResolveImportValueHashed( _ Connection, _ ObjectWalker.ColDefs(table, \"FK(UID_Department).DepartmentName\"), False) ' Build a dictionary: The last parameter forces exceptions when duplicate keys are found Dim columnUID_Locality As New ResolveImportValueHashed( _ Connection, _ ObjectWalker.ColDefs(table, \"FK(UID_Locality).Ident_locality\"), False) ' Build a dictionary: The last parameter forces exceptions when duplicate keys are found Dim columnUID_PersonHead As New ResolveImportValueHashed( _ Connection, _ ObjectWalker.ColDefs(table, \"FK(UID_PersonHead).PersonnelNumber\"), False) 'Dim columnUID_PersonHead As IResolveImportValue = New ResolveImportValueSimple(\"UID_PersonHead\") Dim columnCCC_JobCode As IResolveImportValue = New ResolveImportValueSimple(\"CCC_JobCode\") Dim columnCCC_JobCodeText As IResolveImportValue = New ResolveImportValueSimple(\"CCC_JobCodeText\") Dim columnCCC_JobCodeType As IResolveImportValue = New ResolveImportValueSimple(\"CCC_JobCodeType\") ' Build a dictionary: The last parameter forces exceptions when duplicate keys are found Dim columnUID_ProfitCenter As New ResolveImportValueHashed( _ Connection, _ ObjectWalker.ColDefs(table, \"FK(UID_ProfitCenter).AccountNumber\"), False) Try ' ' Create a dictionary for the destination table ' Dim colImport As IEntityCollection Dim elemsByKey As New Dictionary(Of String, IEntity)(StringComparer.OrdinalIgnoreCase) Dim imported As New HashSet(Of DbObjectKey)() logSection = dfImport.LogSection(#LD(\"Indexing existing data...\")#) Try Dim query As Query = Query.From(\"Person\").SelectNone() ' Set keys and values as display items to load them with the collection query = query.Select(\"CompanyMember\") query = query.Select(\"CustomProperty01\") query = query.Select(\"CustomProperty02\") query = query.Select(\"CustomProperty03\") query = query.Select(\"CustomProperty04\") query = query.Select(\"CustomProperty05\") query = query.Select(\"CustomProperty06\") query = query.Select(\"CustomProperty07\") query = query.Select(\"CustomProperty08\") query = query.Select(\"CustomProperty09\") query = query.Select(\"CustomProperty10\") query = query.Select(\"FirstName\") query = query.Select(\"LastName\") query = query.Select(\"PersonalTitle\") query = query.Select(\"PersonnelNumber\") query = query.Select(\"UID_Department\") query = query.Select(\"UID_Locality\") query = query.Select(\"UID_PersonHead\") query = query.Select(\"UID_ProfitCenter\") query = query.Select(\"xmarkedfordeletion\") query = query.Select(\"CCC_JobCode\") query = query.Select(\"CCC_JobCodeText\") query = query.Select(\"CCC_JobCodeType\") ' Load the collection colImport = Session.Source().GetCollection(query, EntityCollectionLoadType.Slim) ' Put the entries in the dictionary For Each elem In colImport Dim key As String key = elem.GetValue(\"PersonnelNumber\").String If elemsByKey.ContainsKey(key) Then dfImport.Log(MsgSeverity.Serious, #LD(\"Duplicate key: {0}\", key)#) Else elemsByKey.Add(key, elem) End If Next Finally If Not logSection Is Nothing Then logSection.Dispose() logSection = Nothing End If End Try logSection = dfImport.LogSection(#LD(\"Import data from file\")#) Try For Each line As Line In lineProvider.GetLines(counter) ' Pay attention to the Stop flag If StopProcessing Then dfImport.Log(MsgSeverity.Warning, #LD(\"Import was stopped.\")#) Exit For End If Try ' Get raw data from the current line Dim key As String line.Add(\"Fixed value\") line.Add(\"Fixed value\") Dim valCCC_JobCode As String Dim resCCC_JobCode As String Dim valCCC_JobCodeText As String Dim resCCC_JobCodeText As String Dim valCCC_JobCodeType As String Dim resCCC_JobCodeType As String Dim valCompanyMember As String Dim resCompanyMember As String Dim valCustomProperty01 As String Dim resCustomProperty01 As String Dim valCustomProperty02 As String Dim resCustomProperty02 As String Dim valCustomProperty03 As String Dim resCustomProperty03 As String Dim valCustomProperty04 As String Dim resCustomProperty04 As String Dim valCustomProperty05 As String Dim resCustomProperty05 As String Dim valCustomProperty06 As String Dim resCustomProperty06 As String Dim valCustomProperty07 As String Dim resCustomProperty07 As String Dim valCustomProperty08 As String Dim resCustomProperty08 As String Dim valCustomProperty09 As String Dim resCustomProperty09 As String Dim valCustomProperty10 As String Dim resCustomProperty10 As String Dim valFirstName As String Dim resFirstName As String Dim valLastName As String Dim resLastName As String Dim valPersonalTitle As String Dim resPersonalTitle As String Dim valPersonnelNumber As String Dim resPersonnelNumber As String Dim valUID_Department As String Dim resUID_Department As String Dim valUID_Locality As String Dim resUID_Locality As String Dim valUID_PersonHead As String Dim resUID_PersonHead As String Dim valUID_ProfitCenter As String Dim resUID_ProfitCenter As String valCompanyMember = line.GetValue(iCompanyMember) valCustomProperty01 = line.GetValue(iCustomProperty01) valCustomProperty02 = line.GetValue(iCustomProperty02) valCustomProperty03 = line.GetValue(iCustomProperty03) valCustomProperty04 = line.GetValue(iCustomProperty04) valCustomProperty05 = line.GetValue(iCustomProperty05) valCustomProperty06 = line.GetValue(iCustomProperty06) valCustomProperty07 = line.GetValue(iCustomProperty07) valCustomProperty08 = line.GetValue(iCustomProperty08) valCustomProperty09 = \"Fixed value\" valCustomProperty10 = line.GetValue(iCustomProperty10) valFirstName = line.GetValue(iFirstName) valLastName = line.GetValue(iLastName) valPersonalTitle = line.GetValue(iPersonalTitle) valPersonnelNumber = line.GetValue(iPersonnelNumber) valUID_Department = line.GetValue(iUID_Department) valUID_Locality = \"Fixed value\" valUID_PersonHead = line.GetValue(iUID_PersonHead) valUID_ProfitCenter = line.GetValue(iUID_ProfitCenter) valCCC_JobCode = line.GetValue(iCCC_JobCode) valCCC_JobCodeText = line.GetValue(iCCC_JobCodeText) valCCC_JobCodeType = line.GetValue(iCCC_JobCodeType) ' ' Here is the place to check and change raw data ' lineData.Line = line Value = valCustomProperty09 ' Start of convert script for CustomProperty09 Value=\"Feed Employee\" ' End of convert script for CustomProperty09 valCustomProperty09 = DbVal.ConvertTo(Of String)(Value) 'DefaultSiteID = CustomProperty08 'ExceptSiteID = CustomProperty03 Value = valUID_Locality 'VID_WRITE2LOG(\"\\DC1IAMOPSQAS01\\c\\$\\working\\Data_Import_Logs\\personimport_locality.log\", \"Locality value = \" & valUID_Locality) 'VID_WRITE2LOG(\"\\DC1IAMOPSQAS01\\c\\$\\working\\Data_Import_Logs\\personimport_locality.log\", \"ExceptSiteID = \" & valCustomProperty03) 'VID_WRITE2LOG(\"\\DC1IAMOPSQAS01\\c\\$\\working\\Data_Import_Logs\\personimport_locality.log\", \"DefaultSiteID = \" & valCustomProperty08) ' Start of convert script for UID_Locality If Not String.IsNullOrEmpty(valCustomProperty03) 'Value = line.GetValue(\"ExceptSiteID\").String Value = valCustomProperty03 Else 'Value = GetValue(\"DefaultSiteID\").String Value = valCustomProperty08 End If ' End of convert script for UID_Locality valUID_Locality = DbVal.ConvertTo(Of String)(Value) 'VID_WRITE2LOG(\"\\DC1IAMOPSQAS01\\c\\$\\working\\Data_Import_Logs\\personimport_locality.log\", \"Ending value = \" & valUID_Locality) ' Convert raw data to final column data values resCompanyMember = DbVal.ConvertTo(Of String)(columnCompanyMember.ResolveValue(valCompanyMember), lineProvider.Culture) resCustomProperty01 = DbVal.ConvertTo(Of String)(columnCustomProperty01.ResolveValue(valCustomProperty01), lineProvider.Culture) resCustomProperty02 = DbVal.ConvertTo(Of String)(columnCustomProperty02.ResolveValue(valCustomProperty02), lineProvider.Culture) resCustomProperty03 = DbVal.ConvertTo(Of String)(columnCustomProperty03.ResolveValue(valCustomProperty03), lineProvider.Culture) resCustomProperty04 = DbVal.ConvertTo(Of String)(columnCustomProperty04.ResolveValue(valCustomProperty04), lineProvider.Culture) resCustomProperty05 = DbVal.ConvertTo(Of String)(columnCustomProperty05.ResolveValue(valCustomProperty05), lineProvider.Culture) resCustomProperty06 = DbVal.ConvertTo(Of String)(columnCustomProperty06.ResolveValue(valCustomProperty06), lineProvider.Culture) resCustomProperty07 = DbVal.ConvertTo(Of String)(columnCustomProperty07.ResolveValue(valCustomProperty07), lineProvider.Culture) resCustomProperty08 = DbVal.ConvertTo(Of String)(columnCustomProperty08.ResolveValue(valCustomProperty08), lineProvider.Culture) resCustomProperty09 = DbVal.ConvertTo(Of String)(columnCustomProperty09.ResolveValue(valCustomProperty09), lineProvider.Culture) resCustomProperty10 = DbVal.ConvertTo(Of String)(columnCustomProperty10.ResolveValue(valCustomProperty10), lineProvider.Culture) resFirstName = DbVal.ConvertTo(Of String)(columnFirstName.ResolveValue(valFirstName), lineProvider.Culture) resLastName = DbVal.ConvertTo(Of String)(columnLastName.ResolveValue(valLastName), lineProvider.Culture) resPersonalTitle = DbVal.ConvertTo(Of String)(columnPersonalTitle.ResolveValue(valPersonalTitle), lineProvider.Culture) resPersonnelNumber = DbVal.ConvertTo(Of String)(columnPersonnelNumber.ResolveValue(valPersonnelNumber), lineProvider.Culture) resUID_Department = DbVal.ConvertTo(Of String)(columnUID_Department.ResolveValue(valUID_Department), lineProvider.Culture) resUID_Locality = DbVal.ConvertTo(Of String)(columnUID_Locality.ResolveValue(valUID_Locality), lineProvider.Culture) resUID_PersonHead = DbVal.ConvertTo(Of String)(columnUID_PersonHead.ResolveValue(valUID_PersonHead), lineProvider.Culture) resUID_ProfitCenter = DbVal.ConvertTo(Of String)(columnUID_ProfitCenter.ResolveValue(valUID_ProfitCenter), lineProvider.Culture) resCCC_JobCode = DbVal.ConvertTo(Of String)(columnCCC_JobCode.ResolveValue(valCCC_JobCode), lineProvider.Culture) resCCC_JobCodeText = DbVal.ConvertTo(Of String)(columnCCC_JobCodeText.ResolveValue(valCCC_JobCodeText), lineProvider.Culture) resCCC_JobCodeType = DbVal.ConvertTo(Of String)(columnCCC_JobCodeType.ResolveValue(valCCC_JobCodeType), lineProvider.Culture) ' ' Here is the place to check and change final column data ' ' ' Here starts the standard handling. It is recommended to not change anything beyond this point. ' ' ' Create key for this line ' key = DbVal.ConvertTo(Of String)(resPersonnelNumber) Dim elem As IEntity = Nothing Dim entity As IEntity = Nothing If elemsByKey.TryGetValue(key, elem) Then ' ' Found -> Update ' ' Mark element for superset handling imported.Add(New DbObjectKey(table, elem)) ' Map values Dim fullEntity As New Lazy(Of IEntity)(Function() elem.Create(Session)) If DbVal.Compare(elem.GetRaw(\"CompanyMember\"), resCompanyMember, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CompanyMember\", resCompanyMember) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty01\"), resCustomProperty01, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty01\", resCustomProperty01) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty02\"), resCustomProperty02, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty02\", resCustomProperty02) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty03\"), resCustomProperty03, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty03\", resCustomProperty03) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty04\"), resCustomProperty04, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty04\", resCustomProperty04) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty05\"), resCustomProperty05, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty05\", resCustomProperty05) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty06\"), resCustomProperty06, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty06\", resCustomProperty06) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty07\"), resCustomProperty07, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty07\", resCustomProperty07) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty08\"), resCustomProperty08, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty08\", resCustomProperty08) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty09\"), resCustomProperty09, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty09\", resCustomProperty09) End If If DbVal.Compare(elem.GetRaw(\"CustomProperty10\"), resCustomProperty10, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CustomProperty10\", resCustomProperty10) End If If DbVal.Compare(elem.GetRaw(\"FirstName\"), resFirstName, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"FirstName\", resFirstName) End If If DbVal.Compare(elem.GetRaw(\"LastName\"), resLastName, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"LastName\", resLastName) End If If DbVal.Compare(elem.GetRaw(\"PersonalTitle\"), resPersonalTitle, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"PersonalTitle\", resPersonalTitle) End If If DbVal.Compare(elem.GetRaw(\"UID_Department\"), resUID_Department, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"UID_Department\", resUID_Department) End If If DbVal.Compare(elem.GetRaw(\"UID_Locality\"), resUID_Locality, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"UID_Locality\", resUID_Locality) End If If DbVal.Compare(elem.GetRaw(\"UID_PersonHead\"), resUID_PersonHead, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"UID_PersonHead\", resUID_PersonHead) End If If DbVal.Compare(elem.GetRaw(\"UID_ProfitCenter\"), resUID_ProfitCenter, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"UID_ProfitCenter\", resUID_ProfitCenter) End If If DbVal.Compare(elem.GetRaw(\"CCC_JobCode\"), resCCC_JobCode, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CCC_JobCode\", resCCC_JobCode) End If If DbVal.Compare(elem.GetRaw(\"CCC_JobCodeText\"), resCCC_JobCodeText, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CCC_JobCodeText\", resCCC_JobCodeText) End If If DbVal.Compare(elem.GetRaw(\"CCC_JobCodeType\"), resCCC_JobCodeType, ValType.String) \\<> 0 Then fullEntity.Value.PutValue(\"CCC_JobCodeType\", resCCC_JobCodeType) End If If fullEntity.IsValueCreated Or elem.IsDeleted() Then entity = fullEntity.Value Else counter.Increment(LineType.Unchanged) End If Else ' ' Not found -> Insert ' entity = Session.Source().CreateNew(\"Person\") ' Fill keys and values entity.PutValue(\"CompanyMember\", resCompanyMember) entity.PutValue(\"CustomProperty01\", resCustomProperty01) entity.PutValue(\"CustomProperty02\", resCustomProperty02) entity.PutValue(\"CustomProperty03\", resCustomProperty03) entity.PutValue(\"CustomProperty04\", resCustomProperty04) entity.PutValue(\"CustomProperty05\", resCustomProperty05) entity.PutValue(\"CustomProperty06\", resCustomProperty06) entity.PutValue(\"CustomProperty07\", resCustomProperty07) entity.PutValue(\"CustomProperty08\", resCustomProperty08) entity.PutValue(\"CustomProperty09\", resCustomProperty09) entity.PutValue(\"CustomProperty10\", resCustomProperty10) entity.PutValue(\"FirstName\", resFirstName) entity.PutValue(\"LastName\", resLastName) entity.PutValue(\"PersonalTitle\", resPersonalTitle) entity.PutValue(\"PersonnelNumber\", resPersonnelNumber) entity.PutValue(\"UID_Department\", resUID_Department) entity.PutValue(\"UID_Locality\", resUID_Locality) entity.PutValue(\"UID_PersonHead\", resUID_PersonHead) entity.PutValue(\"UID_ProfitCenter\", resUID_ProfitCenter) entity.PutValue(\"CCC_JobCode\", resCCC_JobCode) entity.PutValue(\"CCC_JobCodeText\", resCCC_JobCodeText) entity.PutValue(\"CCC_JobCodeType\", resCCC_JobCodeType) End If ' ' Additional values can be put into the entity here ' If Not entity Is Nothing Then If entity.IsDeleted() Then ' Recall deleted entity entity.MarkForRecall() End If Dim isUpdate As Boolean = entity.IsLoaded ' Save it If entity.IsDifferent Then entity.Save(Session) If isUpdate Then counter.Increment(LineType.Updated) Else counter.Increment(LineType.Inserted) End If Else counter.Increment(LineType.Unchanged) End If If elem Is Nothing Then ' Include in our collection to avoid double imports of elements Dim keyInsert As String keyInsert = entity.GetValue(\"PersonnelNumber\").String elemsByKey(keyInsert) = entity imported.Add(New DbObjectKey(table, entity)) End If End If Catch ex As Exception dfImport.Log(MsgSeverity.Serious, #LD(\"Error in line {0}: {1}\", counter(LineType.Total), ViException.ErrorString(ex))#) dfImport.Log(MsgSeverity.Serious, #LD(\"Line data was: {0}\", line.ToString())#) counter.Increment(LineType.Error) End Try If (counter(LineType.Total) Mod 100) = 0 Then dfImport.SetProgressInfo(#LD(\"{0} lines imported, {1} ignored, {2} inserted, {3} updated, {4} errors\", counter(LineType.Total), counter(LineType.Unchanged), counter(LineType.Inserted), counter(LineType.Updated), counter(LineType.Error))#) End If Next ' ForEach line Finally If Not logSection Is Nothing Then logSection.Dispose() logSection = Nothing End If End Try ' ' No superset handling ' Finally End Try Using dfImport.LogSection(#LD(\"Results\")#) dfImport.Log(#LD(\"{0} lines imported\", counter(LineType.Total))#) dfImport.Log(#LD(\"{0} header lines\", counter(LineType.Header))#) dfImport.Log(#LD(\"{0} inserted\", counter(LineType.Inserted))#) dfImport.Log(#LD(\"{0} changed\", counter(LineType.Updated))#) dfImport.Log(#LD(\"{0} deleted\", counter(LineType.Deleted))#) dfImport.Log(#LD(\"{0} not changed\", counter(LineType.Unchanged))#) dfImport.Log(#LD(\"{0} not found\", counter(LineType.NotFound))#) dfImport.Log(#LD(\"{0} empty lines\", counter(LineType.Empty))#) dfImport.Log(#LD(\"{0} errors\", counter(LineType.Error))#) End Using End Sub https://www.oneidentity.com/community/identity-manager/f/forum/22079/sync-process-fails-for-user-with-locked-property","title":"11. One Identity \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"},{"location":"12.%20Logs/","text":"12. Logs 28 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2020 \u0433. 11:03 \u0425\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 %LocalAppData%\\One Identity\\One Identity Manager\\ https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/configuration-guide/132 How to Enable TRACE Logging (261074) (oneidentity.com) QBM_Pjournal \u043f\u0438\u0448\u0435\u0442 \u0432 DialogJournal ---- 1) \u041c\u043e\u0436\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f Job Server (Insert) \u041d\u0430 Job Server SQLProvider \u043f\u0435\u0440\u0435\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c, \u0442\u0430\u043a \u043a\u0430\u043a \u0441\u0431\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443. \u041b\u043e\u0433\u0438 OneIdentity \u041b\u043e\u0433\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 Powershell (\u0432 \u043f\u0430\u043f\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0442 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d jobserver) \u041a\u043e\u043d\u0444\u0438\u0433 \u043b\u043e\u0433\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0418 \u0442\u0430\u043c \u043f\u0443\u0442\u044c \u043a \u043b\u043e\u0433\u0430\u043c \u0443\u043a\u0430\u0437\u0430\u043d APPServer C:\\inetpub\\wwwroot\\AppServer\\App_Data\\Logs . Enable Tracing first and try a new test - in globallog.config (This is found in the installation folder), change this line(s) below, from \\<logger name=\"*\" minlevel=\"Info\" writeTo=\"viewer\"/> to \\<logger name=\"*\" minlevel=\"Trace\" writeTo=\"viewer\"/> You need also to uncomment the \\<-- ... --> that are under these line. 2. Enable the sync logs See also https://support.oneidentity.com/identity-manager/kb/267514/how-to-enable-synchronization-logging-and-retrieve-the-synchronization-summary-267514- 3. Send these logs aswell if you have them generated(they should be on the involved Jobserver): - %LOCALAPPDATA%\\One Identity\\One Identity Manager\\StdioProcessor\\StdioProcessor.log - %LOCALAPPDATA%\\One Identity\\One Identity Manager\\SynchronizationEditor\\SynchronizationEditor.log - %LOCALAPPDATA%\\One Identity\\One Identity Manager\\Projector.Isolator\\Projector.Isolator.log 4. Export sync project as a .projshell file. see also: https://support.oneidentity.com/identity-manager/kb/187752/how-to-export-the-synchronization-project-shell-from-the-synchronization-editor 5. Send Sync Report: from sync editor | Help | Generate synchronization analysis report The logs are located in this folder C:\\Users\\your-account\\AppData\\local\\OneIdentity\\OneIdentityManager or C:\\windows\\System32\\config\\systemprofile\\AppData\\Local\\One Identity\\One Identity Manager \u0423\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0443\u0442\u044c \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u043e\u0432 JobSever Log Severity level https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwi6huGW3uH4AhWhVvEDHc0RDEIQFnoECAwQAw&url=https%3A%2F%2Fsupport.oneidentity.com%2Ftechnical-documents%2Fidentity-manager%2F8.0%2Fconfiguration-guide%2F127&usg=AOvVaw3_xddk1Ink2RFlKIv-00Dd Displaying Messages in the Database Journal The database journal is used to store information, warning and error messages from different components of One Identity Manager, for example, DBQueue Processor, Configuration Wizard or One Identity Manager Service. Actions in the program \"Job Queue Info\", such as re-enabling process steps, are also written to the database journal. To display items from database journal In the Job Queue Info, go to View | System log . From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/configuration-guide/124#TOPIC-910139 > Extended Debugging in the One Identity Manager Service There are two parameters available in the One Identity Manager Service configuration module that you can use to extend debugging functionality: DebugMode Component debugging mode (ComponentDebugMode) One Identity Manager Service writes more detailed data into the log file if the parameter \"DebugMode\" is set, for example, all parameters that are passed to a component as well as the processing results together with OUT parameters. Individual One Identity Manager Service process components can output additional process data to the One Identity Manager Service log file. To do this you set the parameter \"ComponentDebugMode\" in the configuration module. You should only use \"ComponentDebugMode\" for localizing errors because the effect on performance means that it is not recommended for normal use. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0.2/configuration-guide/128 > ----- NLOG \u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443 Log2Console \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0440\u0435\u0441\u0438\u0432\u0435\u0440 \u041d\u0430 JobServer \u0432 \u0444\u0430\u0439\u043b\u0435 \"C:\\Program Files\\One Identity\\One Identity Manager\\globallog.config\" \u0418\u0437 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u043e\u0432 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u043c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 writeti='chainsaw' \u0418 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 target type=Chainsaw \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 ip \u0430\u0434\u0440\u0435\u0441 \u043c\u0430\u0448\u0438\u043d\u044b \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c Log2Console How to Enable and Collect IT Shop Logs (\u041b\u043e\u0433\u0438 \u043f\u043e\u0440\u0442\u0430\u043b\u0430) From \\< https://support.oneidentity.com/identity-manager/kb/230911/how-to-enable-and-collect-it-shop-logs > 1. On the server where the Identity Manager web portal is installed, navigate to C:\\inetpub\\wwwroot\\IdentityManager\\bin and open WebDesigner.ConfigFileEditor.exe to edit the web.config file located under C:\\inetpub\\wwwroot\\IdentityManager: 2. Connect to the database: 3. Click to expand the \"Log\" section. Enable the logging level as specified by Support. \"Trace\" is used to gather verbose logging. Support will normally request both the \"Application log\" and the \"Database log\": Save the config file once logging has been enabled. This will trigger a restart of the application pool. 4. After reproducing the issue, gather the required application and database logs from the C:\\inetpub\\wwwroot\\IdentityManager\\App_Data\\Logs directory. E.g.: \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e FrozenDetect \u041e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 VID_Jobqueue_Notify_Frozen \u041f\u0438\u0441\u044c\u043c\u043e plaintext \u0431\u0435\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e \u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u041f\u0440\u043e\u0446\u0435\u0441\u0441 DPR_DPRProjectionStartInfo_Run_Synchronization Notifications about process step handling You have the possibility to send a message when a process step has succeeded or when it has failed. Prerequisite for using the notification system is an SMTP host, set up for sending mail and activation of the configuration parameter for mail notification. Use the various configuration parameters for mail notifications for setting up notifications. For detailed information about configuring the email notification, see the One Identity Manager Installation Guide . To configure mail notification for a process step In the Designer, select the process in the Process Orchestration category. Start the Process Editor with the Edit process task. Click on the element for the process step in the process document. Select the Process step properties view. On the General tab, enable the Notification (success) and Notification (error) options. Enter the data for sending notifications on the Notification on success and Notification on error tabs. NOTE: You must enter all data in VB.NET syntax. Use #LD notation for language-dependent formatting of the information. Property Meaning Sender email address Email address of the notification sender. Recipient email address Email address of the notification recipient. Subject Subject line. Message The message to be sent. Table 116: Properties for notifications NOTE: Email notifications are only sent during processing if all the data is entered for a case (failure or success). Example for configuring an email message Sender email address Value = Connection.GetConfigParm(\"Common\\MailNotification\\DefaultSender\") Recipient email address Value = Connection.GetConfigParm(\"Common\\MailNotification\\DefaultAddress\") Subject Value = #LD(\"Error updating the Active Directory user account {0}.\", \\$CanonicalName\\$)# Message Value = #LD(\"The user account {0} could not be updated.)# The process VID_SendMail (DialogDatabase table) is used to send email notifications from the process handling. This process uses the parameters of the vid_InsertForSendMail database procedure. To customize this process, create a copy of the process and edit it. TIP: To send the error messages logged by the One Identity Manager Service in case of an error by email notification, the vid_InsertForSendMail database procedure supplies the pcAdditionalMessage parameter. To access this functionality, use the variable [AdditionalMessage] when you set up your failure notification message. Example of a message: Value = \"Process failed.\" & vbcrlf _ & vbcrlf _ & \"------------------------------------------------------------------------\" & vbcrlf _ & \"[AdditionalMessage]\" From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.5/configuration-guide/60#TOPIC-1651083 > Notify on sync failure - Forum - Identity Manager Community - One Identity Community VID_Jobqueue_Notify_Frozen","title":"12. Logs"},{"location":"12.%20Logs/#-","text":"1) \u041c\u043e\u0436\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f Job Server (Insert) \u041d\u0430 Job Server SQLProvider \u043f\u0435\u0440\u0435\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c, \u0442\u0430\u043a \u043a\u0430\u043a \u0441\u0431\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443.","title":"----"},{"location":"12.%20Logs/#oneidentity","text":"\u041b\u043e\u0433\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 Powershell (\u0432 \u043f\u0430\u043f\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0442 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d jobserver) \u041a\u043e\u043d\u0444\u0438\u0433 \u043b\u043e\u0433\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0418 \u0442\u0430\u043c \u043f\u0443\u0442\u044c \u043a \u043b\u043e\u0433\u0430\u043c \u0443\u043a\u0430\u0437\u0430\u043d","title":"\u041b\u043e\u0433\u0438 OneIdentity"},{"location":"12.%20Logs/#appserver","text":"C:\\inetpub\\wwwroot\\AppServer\\App_Data\\Logs","title":"APPServer"},{"location":"12.%20Logs/#enable-tracing-first-and-try-a-new-test","text":"- in globallog.config (This is found in the installation folder), change this line(s) below, from \\<logger name=\"*\" minlevel=\"Info\" writeTo=\"viewer\"/> to \\<logger name=\"*\" minlevel=\"Trace\" writeTo=\"viewer\"/> You need also to uncomment the \\<-- ... --> that are under these line. 2. Enable the sync logs See also https://support.oneidentity.com/identity-manager/kb/267514/how-to-enable-synchronization-logging-and-retrieve-the-synchronization-summary-267514- 3. Send these logs aswell if you have them generated(they should be on the involved Jobserver): - %LOCALAPPDATA%\\One Identity\\One Identity Manager\\StdioProcessor\\StdioProcessor.log - %LOCALAPPDATA%\\One Identity\\One Identity Manager\\SynchronizationEditor\\SynchronizationEditor.log - %LOCALAPPDATA%\\One Identity\\One Identity Manager\\Projector.Isolator\\Projector.Isolator.log 4. Export sync project as a .projshell file. see also: https://support.oneidentity.com/identity-manager/kb/187752/how-to-export-the-synchronization-project-shell-from-the-synchronization-editor 5. Send Sync Report: from sync editor | Help | Generate synchronization analysis report The logs are located in this folder C:\\Users\\your-account\\AppData\\local\\OneIdentity\\OneIdentityManager or C:\\windows\\System32\\config\\systemprofile\\AppData\\Local\\One Identity\\One Identity Manager","title":". Enable Tracing first and try a new test"},{"location":"12.%20Logs/#jobsever","text":"","title":"\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0443\u0442\u044c \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u043e\u0432 JobSever"},{"location":"12.%20Logs/#_1","text":"","title":""},{"location":"12.%20Logs/#log-severity-level","text":"https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwi6huGW3uH4AhWhVvEDHc0RDEIQFnoECAwQAw&url=https%3A%2F%2Fsupport.oneidentity.com%2Ftechnical-documents%2Fidentity-manager%2F8.0%2Fconfiguration-guide%2F127&usg=AOvVaw3_xddk1Ink2RFlKIv-00Dd","title":"Log Severity level"},{"location":"12.%20Logs/#_2","text":"","title":""},{"location":"12.%20Logs/#displaying-messages-in-the-database-journal","text":"The database journal is used to store information, warning and error messages from different components of One Identity Manager, for example, DBQueue Processor, Configuration Wizard or One Identity Manager Service. Actions in the program \"Job Queue Info\", such as re-enabling process steps, are also written to the database journal. To display items from database journal In the Job Queue Info, go to View | System log . From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/configuration-guide/124#TOPIC-910139 > Extended Debugging in the One Identity Manager Service There are two parameters available in the One Identity Manager Service configuration module that you can use to extend debugging functionality: DebugMode Component debugging mode (ComponentDebugMode) One Identity Manager Service writes more detailed data into the log file if the parameter \"DebugMode\" is set, for example, all parameters that are passed to a component as well as the processing results together with OUT parameters. Individual One Identity Manager Service process components can output additional process data to the One Identity Manager Service log file. To do this you set the parameter \"ComponentDebugMode\" in the configuration module. You should only use \"ComponentDebugMode\" for localizing errors because the effect on performance means that it is not recommended for normal use. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0.2/configuration-guide/128 >","title":"Displaying Messages in the Database Journal"},{"location":"12.%20Logs/#_3","text":"","title":""},{"location":"12.%20Logs/#-_1","text":"","title":"-----"},{"location":"12.%20Logs/#nlog","text":"\u0421\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u043c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443 Log2Console \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u0440\u0435\u0441\u0438\u0432\u0435\u0440 \u041d\u0430 JobServer \u0432 \u0444\u0430\u0439\u043b\u0435 \"C:\\Program Files\\One Identity\\One Identity Manager\\globallog.config\" \u0418\u0437 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u043e\u0432 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u043c \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 writeti='chainsaw' \u0418 \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 target type=Chainsaw \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 ip \u0430\u0434\u0440\u0435\u0441 \u043c\u0430\u0448\u0438\u043d\u044b \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c Log2Console","title":"NLOG"},{"location":"12.%20Logs/#how-to-enable-and-collect-it-shop-logs","text":"From \\< https://support.oneidentity.com/identity-manager/kb/230911/how-to-enable-and-collect-it-shop-logs > 1. On the server where the Identity Manager web portal is installed, navigate to C:\\inetpub\\wwwroot\\IdentityManager\\bin and open WebDesigner.ConfigFileEditor.exe to edit the web.config file located under C:\\inetpub\\wwwroot\\IdentityManager: 2. Connect to the database: 3. Click to expand the \"Log\" section. Enable the logging level as specified by Support. \"Trace\" is used to gather verbose logging. Support will normally request both the \"Application log\" and the \"Database log\": Save the config file once logging has been enabled. This will trigger a restart of the application pool. 4. After reproducing the issue, gather the required application and database logs from the C:\\inetpub\\wwwroot\\IdentityManager\\App_Data\\Logs directory. E.g.:","title":"How to Enable and Collect IT Shop Logs (\u041b\u043e\u0433\u0438 \u043f\u043e\u0440\u0442\u0430\u043b\u0430)"},{"location":"12.%20Logs/#frozendetect","text":"\u041e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 VID_Jobqueue_Notify_Frozen \u041f\u0438\u0441\u044c\u043c\u043e plaintext \u0431\u0435\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u0432 \u043a\u0430\u043a\u0438\u0445-\u043b\u0438\u0431\u043e","title":"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e FrozenDetect"},{"location":"12.%20Logs/#_4","text":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 DPR_DPRProjectionStartInfo_Run_Synchronization Notifications about process step handling You have the possibility to send a message when a process step has succeeded or when it has failed. Prerequisite for using the notification system is an SMTP host, set up for sending mail and activation of the configuration parameter for mail notification. Use the various configuration parameters for mail notifications for setting up notifications. For detailed information about configuring the email notification, see the One Identity Manager Installation Guide . To configure mail notification for a process step In the Designer, select the process in the Process Orchestration category. Start the Process Editor with the Edit process task. Click on the element for the process step in the process document. Select the Process step properties view. On the General tab, enable the Notification (success) and Notification (error) options. Enter the data for sending notifications on the Notification on success and Notification on error tabs. NOTE: You must enter all data in VB.NET syntax. Use #LD notation for language-dependent formatting of the information. Property Meaning Sender email address Email address of the notification sender. Recipient email address Email address of the notification recipient. Subject Subject line. Message The message to be sent. Table 116: Properties for notifications NOTE: Email notifications are only sent during processing if all the data is entered for a case (failure or success). Example for configuring an email message Sender email address Value = Connection.GetConfigParm(\"Common\\MailNotification\\DefaultSender\") Recipient email address Value = Connection.GetConfigParm(\"Common\\MailNotification\\DefaultAddress\") Subject Value = #LD(\"Error updating the Active Directory user account {0}.\", \\$CanonicalName\\$)# Message Value = #LD(\"The user account {0} could not be updated.)# The process VID_SendMail (DialogDatabase table) is used to send email notifications from the process handling. This process uses the parameters of the vid_InsertForSendMail database procedure. To customize this process, create a copy of the process and edit it. TIP: To send the error messages logged by the One Identity Manager Service in case of an error by email notification, the vid_InsertForSendMail database procedure supplies the pcAdditionalMessage parameter. To access this functionality, use the variable [AdditionalMessage] when you set up your failure notification message. Example of a message: Value = \"Process failed.\" & vbcrlf _ & vbcrlf _ & \"------------------------------------------------------------------------\" & vbcrlf _ & \"[AdditionalMessage]\" From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.5/configuration-guide/60#TOPIC-1651083 > Notify on sync failure - Forum - Identity Manager Community - One Identity Community","title":"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u043e \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438"},{"location":"12.%20Logs/#vid_jobqueue_notify_frozen","text":"","title":"VID_Jobqueue_Notify_Frozen"},{"location":"13.%20Performance%20Issues/","text":"13. Performance Issues 19 \u043c\u0430\u0440\u0442\u0430 2024 \u0433. 11:45 Troubleshooting Performance Issues (4342412) Return Did this article solve an issue for you? [Select Rating] Title Troubleshooting Performance Issues Description Some initial steps and information to gather to assist with troubleshooting performance issues. Please provide all relevant information to Support when opening a new service request. Resolution **Troubleshooting steps/questions: *1. Determine where the performance issue is, i.e., front-end tools like Manager; IT Shop; dbqueue. * Turn on SQL logging: ** How to Enable TRACE Logging 2. Identity Manager Performance (including the web portal and DBQueue processing) is very often a result of database performance. * Is the Database server meeting the minimum system requirements? (Please refer to the Release Notes for the specific version) ** Execute *Select * from qbmvsystemoverview to confirm database server statistics, as well as the One Identity Manager (1IM) version and module information. Please save as .csv file. See also: How to configure settings as per the System Information Overview ***3. Is there a long running query (or queries) in the SQL logs? What happens when this is run manually? * Create an actual execution plan for this query (see below). ** Execution plans provide feedback for DBAs on why a query may be performing badly, how to improve this, i.e. indexes, defragmentation, etc. DBAs should review the actual execution plan and provide a copy to Support for review. Note: Ensure this is the actual execution plan: Display an Actual Execution Plan . ***4. Is the SQL server running on a virtual system? *** Identity Manager Database Virtualization Recommendations **Synchronization Performance ** Several factors can contribute to how long a synchronization with a target system takes to complete. Are there outstanding patches for the synchronization project? In the Synchronization Editor go to Edit | Update synchronization project... then apply any applicable patches. Is the latest service pack installed? Ensure the latest service pack has been applied so that the synchronization is not affected by any resolved issues. Check for existing patches as well for the applicable version: Identity Manager - Download Software . Support may request the synchronization project for further review: How to export the Synchronization Project shell from the Synchronization Editor Database Performance: ** For version 8.x and above please run Select * from qbmvsystemoverview and review (as well as provide to Support). Additionally, review the System Information Overview (available from the Help menu in front end tools: Help | Info...** ) The recommended setup values for DBServer are included in the overview where indicated by (rec.), for example: maximum degree of parallelism ( rec. 2 \\<= maxdop \\<= 2) optimize for ad hoc workload (rec. 1) Cost Threshold for Parallelism (rec. >= 60) Input/Output (I/O): SQL Server is usually high in I/O activity and in most cases the database is larger than the amount of memory installed on a server and therefore SQL Server has to pull data from the disk to satisfy query requirements. For more information please see: Investigating I/O bottlenecks . The following query will provide latency values for databases. The Average Total Latency column represents the total latency. SELECT DB_NAME(vfs.database_id) AS database_name ,physical_name AS [Physical Name], size_on_disk_bytes / 1024 / 1024. AS [Size of Disk] , CAST(io_stall_read_ms/(1.0 + num_of_reads) AS NUMERIC(10,1)) AS [Average Read latency] , CAST(io_stall_write_ms/(1.0 + num_of_writes) AS NUMERIC(10,1)) AS [Average Write latency] , CAST((io_stall_read_ms + io_stall_write_ms) /(1.0 + num_of_reads + num_of_writes) AS NUMERIC(10,1)) AS [Average Total Latency], num_of_bytes_read / NULLIF(num_of_reads, 0) AS [Average Bytes Per Read], num_of_bytes_written / NULLIF(num_of_writes, 0) AS [Average Bytes Per Write] FROM sys.dm_io_virtual_file_stats(NULL, NULL) AS vfs JOIN sys.master_files AS mf ON vfs.database_id = mf.database_id AND vfs.file_id = mf.file_id ORDER BY [Average Total Latency] DESC The following values may help to evaluate the disk performance against latency: Average Total Latency (ms) Rating \\<1 ms Excellent \\<5 ms Very good \\<5 \u2013 10 ms Good \\< 10 \u2013 20 ms Poor \\< 20 \u2013 100 ms Bad \\<100 ms -500 ms Very Bad > 500 ms Awful Please see SQL Server troubleshooting: Disk I/O problems for more information. Fragmentation: Fragmented indexes can cause poor performance. Database Administrators (DBA) should look into any fragmented indexes on affected tables. See also, sys.dm_db_index_physical_stats (Transact-SQL) . The following query will display table indexes, ordered by the highest fragmented: SELECT OBJECT_NAME(ips.OBJECT_ID) ,i.NAME ,ips.index_id ,index_type_desc ,avg_fragmentation_in_percent ,avg_page_space_used_in_percent ,page_count FROM sys.dm_db_index_physical_stats(DB_ID(), NULL, NULL, NULL, 'SAMPLED') ips INNER JOIN sys.indexes i ON (ips.object_id = i.object_id) AND (ips.index_id = i.index_id) ORDER BY avg_fragmentation_in_percent DESC SQL Logging: SQL logs should ALWAYS be gathered for performance related issues. This will confirm if there is some long running query causing the slowdown. SQL logs can be gathered in various places, depending on the issue. For example, slow response in the web portal requires gathering SQL logging from the web.config, which is not enabled by default. Please refer to the relevant documentation for the version of tool requiring SQL logging. See also How to Enable and Collect IT Shop Logs . Execution Plan Any long running SQL queries (as determined from the SQL logs) should be run manually. And from that the DBA should create an execution plan for analysis. Execution Plans Note: Ensure this is the actual execution plan: Display an Actual Execution Plan . System Requirements SQL Server and Oracle Database servers should ALWAYS meet the minimum system requirements! Please refer to the system requirements for the specific version of One Identity Manager. Identity Manager - Technical Documentation Trace Flag Enabling Trace flag 2453 may improve overall database performance. The Database Journal may report this, \"Trace flag 2453 should be enabled.\" Steps to enable this are included in Knowledge Base Article 226333 , What does \"Trace flag 2453 should be enabled.\" mean? Attachments [Serverinfo](https://prod.cfm.quest.com/5a05cec0-c1cf-4e34-beac-d3024647df9b.sql?Expires=1710830984&Signature=k3kEjlGVTrvIxJjZRYRUDhyrOQM8wmloxAGlOIx2qjg2SLMTc7~cIQNFinIo1QOAqM6COSawRHFgAxcbcBDcGzLwaXyPSnh23DupTKcqqBCzoM7gHz25TzJkDykSbcZnw6Bs9fHGfJ-zqZMpKLqdORhZKmepVgN0mpNrgUcjuhQ_&Key-Pair-Id=[REDACTED_USER] Additional Information Further reading: Are I/O latencies killing your performance? Do Not Forget to Maintain Your Indexes Improve SQL performance \u2013 find your missing indexes From \\< https://support.oneidentity.com/kb/4342412/troubleshooting-performance-issues >","title":"13. Performance Issues"},{"location":"14.%20Mail%20Template/","text":"14. Mail Template 22 \u0438\u044e\u043d\u044f 2021 \u0433. 19:00 DialogScript Called in mail-template with Public Function CCC_HtmlMailText(obj As IEntity) As String Return \"<h1 style='color:red'>\" & obj.Display & \"</h1>\" End Function $SCRIPT(CCC_HtmlMailText):HTML$ From \\< https://www.oneidentity.com/community/identity-manager/f/forum/30123/how-to-present-a-table-with-dynamic-data-in-email-templates > Build Links Script: VI_BuildITShopLinks Using scripts in mail templates For more information about using scripts, see the One Identity Manager Configuration Guide . In mail templates, any parameters can be used when calling a script. Syntax \\$SCRIPT(ScriptName, \"Options\")\\$ The Options parameter is optional and is passed as a string. Custom parameters can be coded in any way in this string. Quotes (\"\") are masked by doubling. In the script, the parameter is passed as the second parameter after the base object. The base object can be either IEntity or ISingleDbObject. Script example Public Function CCC_Script(baseEntity as IEntity, options as String) as String Dim arr = options.Split(\"|\"c) Dim p1 = arr(0) Dim p2 = arr(1) End Function Example of use in mail templates \\$SCRIPT(CCC_Script, \"Param1|Param2\")\\$ Support for dynamically generated HTML code in mail templates For detailed information about using dollar (\\$) notation, see the One Identity Manager Configuration Guide . In dollar notation, you can select the HTML type. The HTML code is accepted in scripts and columns but not masked. There is no security check. Example script with HTML code: Public Function CCC_HtmlMailText(obj As IEntity) As String Return \"\\<h1 style='color:red'>\" & obj.Display & \"\\</h1>\" End Function Call in mail template: \\$SCRIPT(CCC_HtmlMailText):HTML\\$ From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.3/operational-guide/13#TOPIC-1481199 > \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0438\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d \u043d\u0443\u0436\u043d\u043e \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0448\u0430\u0433\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043f\u043e\u0447\u0442\u044b \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0438 \u0435\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0412 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \\$PC(Roles)\\$ \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: Select the category IT Shop | Basic configuration data | Mail templates | Predefined . Email notifications are generated through default processes during process handling. To use email notifications based on mail templates for other business procedures, for example creating user accounts, you have to create custom mail templates and processes. The process task \"SendRichMail\" is provided for this through the process component \"MailComponent\". https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/93 \u041d\u0435 \u0434\u0430\u0435\u0442 \u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b. \u041d\u0430\u0434\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0432 \u043d\u043e\u0432\u044b\u0439 \u0438 \u0442\u0430\u043c \u0443\u0436\u0435 \u043f\u0440\u0430\u0432\u0438\u0442\u044c. \u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d \u041d\u0430\u0434\u043e \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0437\u0430\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c ParamName \u0438 ParamValue \u0412 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u043e\u0431\u0440\u0430\u0449\u0430\u0435\u043c\u0441\u044f \u0442\u0430\u043a \\$PC(ParamName)\\$ \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0442\u0430\u043a: \\$Script(VI_GetRichMailSignature_Caption)\\$ --- \u0427\u0442\u043e\u0431\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0441\u044f Mail Definition - \u043d\u0430\u0434\u043e \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c Culture (Value = \"ru\") ---- \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c, \u043c\u043e\u0436\u043d\u043e \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0448\u0430\u0433\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0443\u043a\u0430\u0437\u0430\u0442\u044c Value = CCC_Department_Get_XDateInserted(\\$DepartmentName\\$) \u0418 \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u044d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \\$PC(Date1)\\$ \u0421\u0430\u043c \u0441\u043a\u0440\u0438\u043f\u0442: Public Function CCC_Department_Get_XDateInserted(ByVal department As String) As String ' Get the SQL formatter for our connection Dim f As ISqlFormatter = Session.SqlFormatter ' Build the WHERE clause for our request Dim where As String = f.Comparison(\"DepartmentName\", department, ValType.String) Dim Date1 As DateTime Date1 = Session.Source.GetSingleValue(Of DateTime)(\"Department\", \"XDateInserted\", where) Return Date1.ToString() End Function ------ \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u041f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432 pre-script generating values(\"ContactEmail\") = \\$FK(UID_Department).FK(UID_PersonHead).ContactEmail\\$ \u0412 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u043f\u0438\u0441\u0430\u0442\u044c Value = values(\"ContactEmail\") \u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0423\u043a\u0430\u0437\u0430\u0442\u044c BaseObject \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 XObjectKey Value = \\$FK(UID_Person).XObjectKey\\$","title":"14. Mail Template"},{"location":"14.%20Mail%20Template/#build-links","text":"Script: VI_BuildITShopLinks Using scripts in mail templates For more information about using scripts, see the One Identity Manager Configuration Guide . In mail templates, any parameters can be used when calling a script. Syntax \\$SCRIPT(ScriptName, \"Options\")\\$ The Options parameter is optional and is passed as a string. Custom parameters can be coded in any way in this string. Quotes (\"\") are masked by doubling. In the script, the parameter is passed as the second parameter after the base object. The base object can be either IEntity or ISingleDbObject. Script example Public Function CCC_Script(baseEntity as IEntity, options as String) as String Dim arr = options.Split(\"|\"c) Dim p1 = arr(0) Dim p2 = arr(1) End Function Example of use in mail templates \\$SCRIPT(CCC_Script, \"Param1|Param2\")\\$ Support for dynamically generated HTML code in mail templates For detailed information about using dollar (\\$) notation, see the One Identity Manager Configuration Guide . In dollar notation, you can select the HTML type. The HTML code is accepted in scripts and columns but not masked. There is no security check. Example script with HTML code: Public Function CCC_HtmlMailText(obj As IEntity) As String Return \"\\<h1 style='color:red'>\" & obj.Display & \"\\</h1>\" End Function Call in mail template: \\$SCRIPT(CCC_HtmlMailText):HTML\\$ From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.3/operational-guide/13#TOPIC-1481199 > \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0438\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d \u043d\u0443\u0436\u043d\u043e \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0448\u0430\u0433\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043f\u043e\u0447\u0442\u044b \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0438 \u0435\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0412 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \\$PC(Roles)\\$ \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442: Select the category IT Shop | Basic configuration data | Mail templates | Predefined . Email notifications are generated through default processes during process handling. To use email notifications based on mail templates for other business procedures, for example creating user accounts, you have to create custom mail templates and processes. The process task \"SendRichMail\" is provided for this through the process component \"MailComponent\". https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/93 \u041d\u0435 \u0434\u0430\u0435\u0442 \u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0440\u0435\u0434\u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b. \u041d\u0430\u0434\u043e \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0435\u0433\u043e \u0432 \u043d\u043e\u0432\u044b\u0439 \u0438 \u0442\u0430\u043c \u0443\u0436\u0435 \u043f\u0440\u0430\u0432\u0438\u0442\u044c. \u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d \u041d\u0430\u0434\u043e \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0437\u0430\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c ParamName \u0438 ParamValue \u0412 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u043e\u0431\u0440\u0430\u0449\u0430\u0435\u043c\u0441\u044f \u0442\u0430\u043a \\$PC(ParamName)\\$ \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043c\u043e\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0442\u0430\u043a: \\$Script(VI_GetRichMailSignature_Caption)\\$ --- \u0427\u0442\u043e\u0431\u044b \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0441\u044f Mail Definition - \u043d\u0430\u0434\u043e \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c Culture (Value = \"ru\") ---- \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0441 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c, \u043c\u043e\u0436\u043d\u043e \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0448\u0430\u0433\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0443\u043a\u0430\u0437\u0430\u0442\u044c Value = CCC_Department_Get_XDateInserted(\\$DepartmentName\\$) \u0418 \u0437\u0430\u0442\u0435\u043c \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u044d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \\$PC(Date1)\\$ \u0421\u0430\u043c \u0441\u043a\u0440\u0438\u043f\u0442: Public Function CCC_Department_Get_XDateInserted(ByVal department As String) As String ' Get the SQL formatter for our connection Dim f As ISqlFormatter = Session.SqlFormatter ' Build the WHERE clause for our request Dim where As String = f.Comparison(\"DepartmentName\", department, ValType.String) Dim Date1 As DateTime Date1 = Session.Source.GetSingleValue(Of DateTime)(\"Department\", \"XDateInserted\", where) Return Date1.ToString() End Function ------ \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u041f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432 pre-script generating values(\"ContactEmail\") = \\$FK(UID_Department).FK(UID_PersonHead).ContactEmail\\$ \u0412 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u043f\u0438\u0441\u0430\u0442\u044c Value = values(\"ContactEmail\") \u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0423\u043a\u0430\u0437\u0430\u0442\u044c BaseObject \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 XObjectKey Value = \\$FK(UID_Person).XObjectKey\\$","title":"Build Links"},{"location":"15.%20%D0%9D%D0%B0%D1%88%D0%B0%20%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0%20POST/","text":"15. \u041d\u0430\u0448\u0430 \u0441\u043b\u0443\u0436\u0431\u0430 POST 13 \u043d\u043e\u044f\u0431\u0440\u044f 2020 \u0433. 17:30 \u0421\u043b\u0443\u0436\u0431\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 POST \u0441 \u0442\u0435\u043b\u043e\u043c XML - \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0443\u0435\u0442 \u0442\u0435\u043b\u043e \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043d\u0430 App server One Identity \u0432 \u0442\u0435\u043b\u0435 JSON \u0422\u0440\u0430\u0431\u043b\u0448\u0443\u0442\u0438\u043d\u0433 \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u043b\u0443\u0436\u0431\u0430 \u0438 \u0432\u044b\u0434\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0432 \u043f\u0430\u043f\u043a\u0435 \u0435\u0441\u0442\u044c \u0444\u0430\u0439\u043b config \u0438 \u043f\u0430\u043f\u043a\u0430 logs \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 config Put this XML with name \"config.xml\" in webservice executepath. Description: All parameters apply after restart. auth2app = true - log to %executepath%\\logs\\date%_app_authstatus.log post2app = true - log to %executepath%\\logs\\date%_post2appserverstatus.log get2app = true - log to %executepath%\\logs\\date%_get2appserverstatus.log put2app = true - log to %executepath%\\logs\\date%_put2appserverstatus json2app = true - log to %executepath%\\logs\\date%_json2appserver.log appserverhost = OneIM AppServer , format: between \\<appserverhost> - , %host% your ISS site where published OneIM AppServer applogin = OneIM AppServer account login hash = OneIM AppServer account password hash newpass = element for generating new hash in %executepath%\\newhash.txt, use this when password from OneIM AppServer account was changed. If not need must be filled with value \"notset\", else service will be stopped. 1. Type new password between \\<newpass> and start service. Hash will be generated in %executepath%\\newhash.txt. Service will be stopped. 2. Updated \\<hash> in this config, with value from newhash.txt. 3. Type \"notset\" without quotes beetween \\<newpass>. 4. Start service.","title":"15. \u041d\u0430\u0448\u0430 \u0441\u043b\u0443\u0436\u0431\u0430 POST"},{"location":"15.%20%D0%9D%D0%B0%D1%88%D0%B0%20%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0%20POST/#_1","text":"\u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u043b\u0443\u0436\u0431\u0430 \u0438 \u0432\u044b\u0434\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0438 \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0432 \u043f\u0430\u043f\u043a\u0435 \u0435\u0441\u0442\u044c \u0444\u0430\u0439\u043b config \u0438 \u043f\u0430\u043f\u043a\u0430 logs","title":"\u0422\u0440\u0430\u0431\u043b\u0448\u0443\u0442\u0438\u043d\u0433"},{"location":"15.%20%D0%9D%D0%B0%D1%88%D0%B0%20%D1%81%D0%BB%D1%83%D0%B6%D0%B1%D0%B0%20POST/#config","text":"Put this XML with name \"config.xml\" in webservice executepath. Description: All parameters apply after restart. auth2app = true - log to %executepath%\\logs\\date%_app_authstatus.log post2app = true - log to %executepath%\\logs\\date%_post2appserverstatus.log get2app = true - log to %executepath%\\logs\\date%_get2appserverstatus.log put2app = true - log to %executepath%\\logs\\date%_put2appserverstatus json2app = true - log to %executepath%\\logs\\date%_json2appserver.log appserverhost = OneIM AppServer , format: between \\<appserverhost> - , %host% your ISS site where published OneIM AppServer applogin = OneIM AppServer account login hash = OneIM AppServer account password hash newpass = element for generating new hash in %executepath%\\newhash.txt, use this when password from OneIM AppServer account was changed. If not need must be filled with value \"notset\", else service will be stopped. 1. Type new password between \\<newpass> and start service. Hash will be generated in %executepath%\\newhash.txt. Service will be stopped. 2. Updated \\<hash> in this config, with value from newhash.txt. 3. Type \"notset\" without quotes beetween \\<newpass>. 4. Start service.","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0444\u0430\u0439\u043b\u0430 config"},{"location":"16.%20Processes/","text":"16. Processes 9 \u0430\u043f\u0440\u0435\u043b\u044f 2020 \u0433. 10:11 Process Orchestration \u0412 \u043d\u0430\u0447\u0430\u043b\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0432 PreScript Generating \u0432 \u043a\u043e\u043d\u0446\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c (), \u043a\u0430\u043a \u0432 \u043b\u0430\u0431\u0435 \u0417\u0430\u043c\u0435\u043d\u044f\u0435\u043c \u043a\u0430\u0432\u044b\u0447\u043a\u0438 \u043d\u0430 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \"\" \u0423 \u0437\u0430\u0434\u0430\u043d\u0438\u044f Designer \u2013 Process Orchestration \u2013 Process Automation CCC_Export Person to CSV \u0412\u044b\u0441\u0442\u0430\u0432\u0438\u043b Activation Schedule \u0432 Deactivate, \u0430 \u0431\u044b\u043b \u0421\u0421\u0421_Export Person to CSV \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u0441\u043e\u0445\u0440\u044f\u043d\u044f\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043d\u0430 Job \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b AD \u041f\u0440\u043e\u0446\u0435\u0441\u0441 HandleObjectComponent - Insert \u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c UID \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u041d\u0430\u0434\u043e \u0432 \u0448\u0430\u0433\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f\u044b HandleObjectComponent \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0435 ResultingKeyParam \u0443\u043a\u0430\u0437\u0430\u0442\u044c Value = \"UIDADSGroup\" \u041d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0448\u0430\u0433\u0435 \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 val_UID_ADSGroup \u041f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 Value = \"&OUT(UIDADSGroup)&\" https://slourc.wordpress.com/2015/03/01/d1im-designer-deleguer-automatiquement-les-droits-de-responsable-sur-une-personne-a-un-assistant/ \u0421\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 Manager Designer - \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u043e\u0447\u0442\u044b \u0437\u0430\u044f\u0432\u0438\u0442\u0435\u043b\u044e \u043f\u0440\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \"VI_ESS_PersonWantsOrg_Send Mail when Closed\", connected it to the event \"ORDERGRANTED\" values Pre-Script \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u043c\u0430\u0448\u0438\u043d\u0435. \u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c values - \u0442\u043e\u043b\u044c\u043a\u043e string! \u041f\u043e\u044d\u0442\u043e\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c DateTime, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u0434\u043e \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u0438 \u043f\u043e\u0442\u043e\u043c \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0434\u0435\u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0432 DateTime \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043c\u0435\u0436\u0434\u0443 \u0448\u0430\u0433\u0430\u043c\u0438! \u0412\u044b\u0437\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0432 \u0448\u0430\u0433\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0439\u0442\u0438 \u043f\u043e \u043f\u0443\u0442\u0438 Successor(Error) We've a process to insert account to Target System. At the one of the step we executing script. If something goes wrong we are throwing an exception: Public Function VRS_UNSAccountB_Insert(...) As Boolean ... If retMessages.Length = 0 Then Return True Else Throw New Exception(retMessages.ToString()) End If End Function How to pass this exception to \"Notification on error\" Message body? * * Configure your script or process to throw an exception with your string object: Throw New ViException(strMessageForMail) Then in the process notification on error tab in the Message part where you specify Value = \"Something\" You can reference a special parameter called \"[AdditionalMessage]\" (must be wrapped in \"'s) - this will contain whatever you put in the string for the exception. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/22422/how-to-get-exception-message-inside-notification-on-error-message > SQLComponent - Exists - \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043f\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044e Where \u041d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0432 Error Handong - Split Processing Split processing Process steps that are only required for branching the process are labeled with this option. An example could be a process step that checks for the existence of a directory. The next process step to be processed is either the step on success or the step on error (without generating an error message) depending on the return value. \u0420\u0430\u0441\u0447\u0435\u0442 \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0445 \u0432 \u0448\u0430\u0433\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u041e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 SQL QER_PITShopHelperFillAll From \\< https://www.oneidentity.com/community/identity-manager/f/forum/20571/recalculate-workflow-step-when-personhead-change > \u0412\u044b\u0437\u043e\u0432 \u0445\u0440\u0430\u043d\u0438\u043c\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b SQL Dim f As ISqlFormatter = Connection.SqlFormatter Value = f.StoredProcedure(\"vi_ReCalcPWOHelperPWO\",\"'|CP|'\", \"'\" & CStr(Connection.Variables(\"GenProcID\")) & \"'\") From \\< https://www.oneidentity.com/community/identity-manager/f/forum/20571/recalculate-workflow-step-when-personhead-change > Process Monitoring \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c ProcID \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438.(\u0441\u043c \u0432 Scripts) ProcID \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0441\u0432\u044f\u0437\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0441\u043e\u0431\u043e\u0439. \u0415\u0441\u043b\u0438 \u043c\u044b \u0438\u043c\u0435\u0435\u043c 2 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0434\u043b\u044f \u043f\u0435\u0440\u0432\u043e\u0439 \u0434\u0435\u043b\u0430\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432\u043e \u0432\u0442\u043e\u0440\u043e\u0439, \u0442\u043e \u043f\u0440\u0438 \u0432\u043d\u0435\u0441\u0435\u043d\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c ProcID \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0442\u043e\u043c \u0432 DialogWatchOperation \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u043a\u0430\u043a\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0432\u044f\u0437\u0430\u043d \u0441 \u044d\u0442\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u043c (DialogProcess) \u0414\u043b\u044f \u0441\u0430\u043c\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u0442\u043e\u044f\u0442\u044c \u0433\u0430\u043b\u043a\u0430 ProcessHistory \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DialogProcess. \u0418 \u0434\u043b\u044f \u043a\u043e\u0440\u043d\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 - Process Information - Full process Tracking \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0443 \u0432 DialogWatchOperation \u0434\u043b\u044f \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u043e\u044f\u0442\u044c \u0433\u0430\u043b\u043a\u0438 Log Changes \u0438 Log Changes when deleted \u0412 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0443 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0415\u0441\u043b\u0438 \u043c\u044b \u0437\u0430\u043f\u0443\u043a\u0430\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u0438 \u043e\u043d \u043f\u043e\u0440\u043e\u0436\u0434\u0430\u0435\u0442 \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b, \u0442\u043e \u044d\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0441 \u043e\u0434\u043d\u0438\u043c ProcessID \u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435, \u0432 \u0448\u0430\u0433\u0435 \u0437\u0430\u043f\u0443\u043a\u0430 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440: CStr(Connection.Variables(\"GenProcID\")) - \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 ProcID \u0412 \u0441\u043a\u0440\u0438\u043f\u0442\u0435 \u0434\u0435\u043b\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0442\u0438\u043f\u0430 String - ProcID \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441 ProcID \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 For Index As Integer = 1 To 10 If Session.Source.Exists(\"JobQueue\", String.Format(\"GenProcID = N'{0}' and JobChainName \\<> N'CCC_SED_DeleteProduct'\", ProcID)) Then Threading.Thread.Sleep(60000) End If Next \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c ProcID Using uow = Session.StartUnitOfWork(ProcID) For Each colElement As IEntity In colSEDESet dbESet = Connection.CreateSingle(\"Eset\",colElement.GetValue(\"UID_ESet\")) crESetHasEntitlement = dbESet.GetCR(\"ESetHasEntitlement\", \"UID_Eset\") For Each colElement1 As IColElem In crESetHasEntitlement.Children dbESetHasEntitlement1 = colElement1.Create() dbESetHasEntitlement = Session.Source.Get(\"ESetHasEntitlement\", colElement1.GetValue(\"UID_ESetHasEntitlement\")) dbESetHasEntitlement.MarkForDeletion() uow.Put(dbESetHasEntitlement) Next Next uow.Commit() \u0414\u043b\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 \u043d\u0435 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f Assign, Remove\u2026 \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 Designer \u043f\u043e\u043b\u0435 isAssignmentWithEvent Assign by event \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 many-to-many \u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u0442 \\$CCC_dtEmailSent:Date\\$ > Date.Parse(\"12/30/1900\",CultureInfo.InvariantCulture) \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0415\u0441\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0438\u0437 \u0448\u0430\u0433\u043e\u0432 \u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430 - \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u0430\u044f \u0438\u043b\u0438 \u043d\u0435\u0442 \u041d\u0443\u0436\u043d\u043e \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0448\u0430\u0433\u0435, \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0448\u0430\u0433 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 (CommandComponent - Compare)","title":"16. Processes"},{"location":"16.%20Processes/#_1","text":"","title":""},{"location":"16.%20Processes/#ad","text":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 HandleObjectComponent - Insert","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b AD"},{"location":"16.%20Processes/#uid","text":"\u041d\u0430\u0434\u043e \u0432 \u0448\u0430\u0433\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f\u044b HandleObjectComponent \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0435 ResultingKeyParam \u0443\u043a\u0430\u0437\u0430\u0442\u044c Value = \"UIDADSGroup\" \u041d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0448\u0430\u0433\u0435 \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 val_UID_ADSGroup \u041f\u0440\u0438\u0441\u0432\u043e\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 Value = \"&OUT(UIDADSGroup)&\" https://slourc.wordpress.com/2015/03/01/d1im-designer-deleguer-automatiquement-les-droits-de-responsable-sur-une-personne-a-un-assistant/","title":"\u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c UID \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0448\u0430\u0433 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430"},{"location":"16.%20Processes/#_2","text":"Manager Designer - \u041f\u0440\u043e\u0446\u0435\u0441\u0441","title":"\u0421\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"16.%20Processes/#_3","text":"\"VI_ESS_PersonWantsOrg_Send Mail when Closed\", connected it to the event \"ORDERGRANTED\"","title":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u043e\u0447\u0442\u044b \u0437\u0430\u044f\u0432\u0438\u0442\u0435\u043b\u044e \u043f\u0440\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430"},{"location":"16.%20Processes/#values","text":"Pre-Script \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0439 \u043c\u0430\u0448\u0438\u043d\u0435. \u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c values - \u0442\u043e\u043b\u044c\u043a\u043e string! \u041f\u043e\u044d\u0442\u043e\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c DateTime, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043d\u0430\u0434\u043e \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u0438 \u043f\u043e\u0442\u043e\u043c \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0434\u0435\u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0432 DateTime \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u043c\u0435\u0436\u0434\u0443 \u0448\u0430\u0433\u0430\u043c\u0438!","title":"values"},{"location":"16.%20Processes/#successorerror","text":"We've a process to insert account to Target System. At the one of the step we executing script. If something goes wrong we are throwing an exception: Public Function VRS_UNSAccountB_Insert(...) As Boolean ... If retMessages.Length = 0 Then Return True Else Throw New Exception(retMessages.ToString()) End If End Function How to pass this exception to \"Notification on error\" Message body? * * Configure your script or process to throw an exception with your string object: Throw New ViException(strMessageForMail) Then in the process notification on error tab in the Message part where you specify Value = \"Something\" You can reference a special parameter called \"[AdditionalMessage]\" (must be wrapped in \"'s) - this will contain whatever you put in the string for the exception. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/22422/how-to-get-exception-message-inside-notification-on-error-message >","title":"\u0412\u044b\u0437\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0443 \u0432 \u0448\u0430\u0433\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0439\u0442\u0438 \u043f\u043e \u043f\u0443\u0442\u0438 Successor(Error)"},{"location":"16.%20Processes/#sqlcomponent-exists-where","text":"\u041d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0432 Error Handong - Split Processing Split processing Process steps that are only required for branching the process are labeled with this option. An example could be a process step that checks for the existence of a directory. The next process step to be processed is either the step on success or the step on error (without generating an error message) depending on the return value.","title":"SQLComponent - Exists - \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u0442 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u043f\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044e Where"},{"location":"16.%20Processes/#_4","text":"\u041e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 SQL QER_PITShopHelperFillAll From \\< https://www.oneidentity.com/community/identity-manager/f/forum/20571/recalculate-workflow-step-when-personhead-change >","title":"\u0420\u0430\u0441\u0447\u0435\u0442 \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0445 \u0432 \u0448\u0430\u0433\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f"},{"location":"16.%20Processes/#sql","text":"Dim f As ISqlFormatter = Connection.SqlFormatter Value = f.StoredProcedure(\"vi_ReCalcPWOHelperPWO\",\"'|CP|'\", \"'\" & CStr(Connection.Variables(\"GenProcID\")) & \"'\") From \\< https://www.oneidentity.com/community/identity-manager/f/forum/20571/recalculate-workflow-step-when-personhead-change >","title":"\u0412\u044b\u0437\u043e\u0432 \u0445\u0440\u0430\u043d\u0438\u043c\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b SQL"},{"location":"16.%20Processes/#process-monitoring","text":"","title":"Process Monitoring"},{"location":"16.%20Processes/#procid-scripts","text":"","title":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c ProcID \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438.(\u0441\u043c \u0432 Scripts)"},{"location":"16.%20Processes/#procid","text":"\u0415\u0441\u043b\u0438 \u043c\u044b \u0438\u043c\u0435\u0435\u043c 2 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0434\u043b\u044f \u043f\u0435\u0440\u0432\u043e\u0439 \u0434\u0435\u043b\u0430\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432\u043e \u0432\u0442\u043e\u0440\u043e\u0439, \u0442\u043e \u043f\u0440\u0438 \u0432\u043d\u0435\u0441\u0435\u043d\u0438\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c ProcID \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0442\u043e\u043c \u0432 DialogWatchOperation \u043c\u043e\u0436\u043d\u043e \u0443\u0432\u0438\u0434\u0435\u0442\u044c, \u043a\u0430\u043a\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0432\u044f\u0437\u0430\u043d \u0441 \u044d\u0442\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435\u043c (DialogProcess) \u0414\u043b\u044f \u0441\u0430\u043c\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u0442\u043e\u044f\u0442\u044c \u0433\u0430\u043b\u043a\u0430 ProcessHistory \u0434\u043b\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DialogProcess. \u0418 \u0434\u043b\u044f \u043a\u043e\u0440\u043d\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 - Process Information - Full process Tracking \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0443 \u0432 DialogWatchOperation \u0434\u043b\u044f \u043f\u043e\u043b\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u043e\u044f\u0442\u044c \u0433\u0430\u043b\u043a\u0438 Log Changes \u0438 Log Changes when deleted \u0412 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433\u0443 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0415\u0441\u043b\u0438 \u043c\u044b \u0437\u0430\u043f\u0443\u043a\u0430\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u0438 \u043e\u043d \u043f\u043e\u0440\u043e\u0436\u0434\u0430\u0435\u0442 \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b, \u0442\u043e \u044d\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0441 \u043e\u0434\u043d\u0438\u043c ProcessID \u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435, \u0432 \u0448\u0430\u0433\u0435 \u0437\u0430\u043f\u0443\u043a\u0430 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440: CStr(Connection.Variables(\"GenProcID\")) - \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 ProcID \u0412 \u0441\u043a\u0440\u0438\u043f\u0442\u0435 \u0434\u0435\u043b\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0442\u0438\u043f\u0430 String - ProcID \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441 ProcID \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 For Index As Integer = 1 To 10 If Session.Source.Exists(\"JobQueue\", String.Format(\"GenProcID = N'{0}' and JobChainName \\<> N'CCC_SED_DeleteProduct'\", ProcID)) Then Threading.Thread.Sleep(60000) End If Next \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c ProcID Using uow = Session.StartUnitOfWork(ProcID) For Each colElement As IEntity In colSEDESet dbESet = Connection.CreateSingle(\"Eset\",colElement.GetValue(\"UID_ESet\")) crESetHasEntitlement = dbESet.GetCR(\"ESetHasEntitlement\", \"UID_Eset\") For Each colElement1 As IColElem In crESetHasEntitlement.Children dbESetHasEntitlement1 = colElement1.Create() dbESetHasEntitlement = Session.Source.Get(\"ESetHasEntitlement\", colElement1.GetValue(\"UID_ESetHasEntitlement\")) dbESetHasEntitlement.MarkForDeletion() uow.Put(dbESetHasEntitlement) Next Next uow.Commit()","title":"ProcID \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u0441\u0432\u044f\u0437\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0441\u043e\u0431\u043e\u0439."},{"location":"16.%20Processes/#assign-remove","text":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432 Designer \u043f\u043e\u043b\u0435 isAssignmentWithEvent Assign by event \u0422\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 many-to-many","title":"\u0414\u043b\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 \u043d\u0435 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u044f Assign, Remove\u2026"},{"location":"16.%20Processes/#_5","text":"\\$CCC_dtEmailSent:Date\\$ > Date.Parse(\"12/30/1900\",CultureInfo.InvariantCulture)","title":"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0434\u0430\u0442"},{"location":"16.%20Processes/#_6","text":"\u0415\u0441\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0438\u0437 \u0448\u0430\u0433\u043e\u0432 \u0438 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430 - \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u0443\u0441\u0442\u0430\u044f \u0438\u043b\u0438 \u043d\u0435\u0442 \u041d\u0443\u0436\u043d\u043e \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0448\u0430\u0433\u0435, \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0441\u043a\u0440\u0438\u043f\u0442\u0430, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0448\u0430\u0433 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 (CommandComponent - Compare)","title":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430"},{"location":"17.%20One%20Identity%20AD/","text":"17. One Identity AD 25 \u043c\u0430\u0440\u0442\u0430 2020 \u0433. 17:55 Identity Manager 8.1 - Administration Guide for Connecting to Active Directory (oneidentity.com) 6) \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 AD PersonAutoFullSync \u2013 Search - \u043f\u043e\u0438\u0441\u043a \u0438 \u0441\u0446\u0435\u043b\u0435\u043d\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u0411\u0414 One identity. \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0432 \u0411\u0414, \u0430 \u0432 AD \u043e\u043d \u0435\u0441\u0442\u044c - \u043e\u043d \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0411\u0414. Search and Create - \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0431\u0443\u0434\u0443\u0442 \u0441\u0446\u0435\u043f\u043b\u044f\u0442\u044c\u0441\u044f \u0441 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430\u043c\u0438 \u0438\u0437 AD, \u0430 \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0411\u0414, \u0430 \u0435\u0441\u0442\u044c \u0432 AD - \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d \u0432 \u0411\u0414. \u0421\u0442\u0430\u0432\u0438\u043c SEARCH PersonAutoDefault - \u0442\u043e\u0436\u0435, \u043d\u043e \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 AD ( \u0423\u0422\u041e\u0427\u041d\u0418\u0422\u042c!!! ). \u0421\u0442\u0430\u0432\u0438\u043c SEARCH PersonUpdate - \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u0435\u0436\u0434\u0443 \u0411\u0414 \u0438 AD. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 AD \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0442 \u043a \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c \u0432 person. \u0412\u044b\u043a\u043b \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 AD https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/31 \u0421\u043a\u0440\u0438\u043f\u0442 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ADSAccount (Designer - Table \u2013 Person - ADSAccount) How to Create Employees From ADSAccounts (150319) Return Was this article helpful? [Select Rating] Title How to Create Employees From ADSAccounts Description What are the steps required to provision Employee objects from ADSAccounts? Resolution ***Please note: the following steps are specific to version 6.1.x. For version 7.x and above there is some overlap, but many of the specific process names, for example, have changed. The creation of Employees based on ADSAccounts is implemented out-of-the-box. To control the behavior there are the configuration parameters available: Using TargetSystem\\ADS\\PersonAutoFullSync with the CREATE option, a sync will create the Employees based on existing AD accounts. Using TargetSystem\\ADS\\PersonAutoDefault will work as well, with CREATE, when an ADSAccount is created. One action is done by the FullSync (TargetSystem\\ADS\\PersonAutoFullSync), the other for all manual actions (TargetSystem\\ADS\\PersonAutoDefault). In the end either the process \"VI_ADS/EX2K_ADSAccount_Insert/Update (Fullsync)\" will be generated (for inserts/updates of accounts by the sync) or the process \"VI_ADS_ADSAccount_Update_UpdatePerson\" (for manual inserts/updates). Both processes contain a ScriptExec job which executes the script \"VI_PersonUpdate_ADS\" or \"VI_PersonAuto_ADS\". The creation of an Employee for the given account is implemented in these scripts. So it would be possible use these scripts to create Employee objects: either call this script for single cases in the ObjectBrowser (ScriptTester) or in the Designer. Or create a custom defined process/script/... which calls one of the mentioned scripts.*** https://support.oneidentity.com/identity-manager/kb/150319/how-to-create-employees-from-adsaccounts \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Employee \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 ad account \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0435\u043d\u0430 1) \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 TargetSystem\\ADS\\PersonAutoFullSync = SEARCH AND CREATE 2) \u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 ADS_PersonAuto_Mapping_ADSAccount (\u043f\u0440\u043e\u0446\u0435\u0441\u0441 ADS_ADSDomain_SearchandCreate_Person_PostSync \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 ) \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442 \u0412 \u043d\u0435\u043c \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 215, \u0433\u0434\u0435 If String.IsNullOrEmpty(persUid) And InStr(1, VID_UCase(searchMode), \"CREATE\") > 0 \u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c If String.IsNullOrEmpty(persUid) And InStr(1, VID_UCase(searchMode), \"CREATE\") > 0 And myAcc.CreateWalker(Session).GetValue(\"FK(UID_ADSDomain).DisplayName\") = Connection.GetConfigParm(\"Custom\\DomainAllowCreatePerson\") Or String.IsNullOrEmpty(persUid) And InStr(1, VID_UCase(searchMode), \"CREATE\") > 0 And Connection.GetConfigParm(\"Custom\\DomainAllowCreatePerson\") = \"1\" Then \u041f\u0435\u0440\u0435\u0434 \u044d\u0442\u0438\u043c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \" Custom\\DomainAllowCreatePerson \" \u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u0441\u0445\u0435\u043c\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 \u043a AD. Error accessing schema: Directory server. \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044b: TCP 445 (smb) 88 (\u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u043b\u044f smb - kerb) 389 (LDAP) 636 (LDAPS) UDP 389 (LDAP) - \u0434\u043b\u044f \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u044f https://support.oneidentity.com/technical-documents/identity-manager/8.1.4/administration-guide-for-connecting-to-active-directory/2#TOPIC-1523800 Is it mandatory to open port 445 for AD synchronization. - Forum - Identity Manager Community - One Identity Community \u041f\u043e\u0442\u043e\u043c\u0443, \u0447\u0442\u043e SyncEditor \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 pipe PIPE\\wkssvc PIPE\\lsarpc \u041e\u0442\u043a\u0430\u0437\u043e\u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u043e\u0441\u0442\u044c \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 \u043a AD You could convert the CP_ADServer variable into a scripted variable in the sync project (for a FullSync my comments from above apply. No synchronization optimization allowed then). In the script, you could determine a DC of your domain and do some other checks as well (ping, login, whatsoever). The sample script is just taking the first domain controller it gets from the collection: Further enhancements would be to check the DC classes, ping time, etc. > References System.DirectoryServices.dll Imports System.DirectoryServices.ActiveDirectory Dim RootDN as String = VariableSet.Item(\"CP_ADRootdn\") Dim DomainName As String = RootDN.Replace(\",dc=\",\".\").Replace(\"dc=\",\"\") Dim DomainCon As New DirectoryContext(DirectoryContextType.Domain, DomainName) Dim DCs As DomainControllerCollection = Domain.GetDomain(DomainCon).DomainControllers Return DCs.Item(0).Name 'For Each DC As DirectoryServices.ActiveDirectory.DomainController In DCs ' Return DC.Name 'Next From \\< https://www.oneidentity.com/community/identity-manager/f/forum/31749/failover-mechanism-for-active-directory-connector/77450 > \u041f\u043e\u0440\u0442\u044b Communications Port and Firewall Configuration One Identity Manager is made up of several components that can be executed in different network segments. In addition, One Identity Manager requires access to various network services, which can also be installed in different network segments. You must open various ports depending on which components and services you want to install behind the firewall. The following ports are required: Default port Description 1433 Port for communicating with the One Identity Manager database. 1880 Port for the HTTP protocol of One Identity Manager Service. 2880 Port for access tests with the Synchronization Editor, such as in the target system browser or for simulating synchronization. 80 Port for accessing web applications. 88 Kerberos authentication system. (if Kerberos authentication is implemented). Required for authentication against Active Directory. 135 Microsoft End Point Mapper (EPMAP) (also, DCE/RPC Locator Service). 137 NetBIOS Name Service. 139 NetBIOS Session Service. 389 Lightweight Directory Access Protocol (LDAP Standard). Target system server communications port. 445 Microsoft-DS Active Directory, Windows shares. Required for synchronization (TCP/UDP) 53 Domain Name System (DNS), mainly through UDP. Required for access to the Active Directory total structure. 636 Lightweight Directory Access Protocol using TLS/SSL (LDAP S). Required for access to the Active Directory total structure. 3268 Global catalog. Required for searching in the global catalog. Either port 3268 or 3269 should be open depending on the connection settings. 3269 Global catalog over SSL. Required for searching in the global catalog. Either port 3268 or 3269 should be open depending on the connection settings. Table 3: Communications port From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1/administration-guide-for-connecting-to-active-directory/2 > Even for authentication to AD port 445 is needed according to Microsoft. Authentication to AD AD uses the following ports to support user and computer authentication, according to the Active Directory and Active Directory Domain Services Port Requirements article: SMB over IP (Microsoft-DS): port 445 TCP, UDP Kerberos: port 88 TCP, UDP LDAP: port 389 UDP DNS: port 53 TCP, UDP RPC: Dynamically-assigned ports TCP, unless restricted From \\< https://www.oneidentity.com/community/identity-manager/f/forum/33331/active-directory-schema-loading-crash-when-dc-in-dmz >","title":"17. One Identity AD"},{"location":"17.%20One%20Identity%20AD/#identity-manager-81-administration-guide-for-connecting-to-active-directory-oneidentitycom","text":"","title":"Identity Manager 8.1 - Administration Guide for Connecting to Active Directory (oneidentity.com)"},{"location":"17.%20One%20Identity%20AD/#_1","text":"6) \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 AD PersonAutoFullSync \u2013 Search - \u043f\u043e\u0438\u0441\u043a \u0438 \u0441\u0446\u0435\u043b\u0435\u043d\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u0411\u0414 One identity. \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435\u0442 \u0432 \u0411\u0414, \u0430 \u0432 AD \u043e\u043d \u0435\u0441\u0442\u044c - \u043e\u043d \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0411\u0414. Search and Create - \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0431\u0443\u0434\u0443\u0442 \u0441\u0446\u0435\u043f\u043b\u044f\u0442\u044c\u0441\u044f \u0441 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430\u043c\u0438 \u0438\u0437 AD, \u0430 \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0411\u0414, \u0430 \u0435\u0441\u0442\u044c \u0432 AD - \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d \u0432 \u0411\u0414. \u0421\u0442\u0430\u0432\u0438\u043c SEARCH PersonAutoDefault - \u0442\u043e\u0436\u0435, \u043d\u043e \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 AD ( \u0423\u0422\u041e\u0427\u041d\u0418\u0422\u042c!!! ). \u0421\u0442\u0430\u0432\u0438\u043c SEARCH PersonUpdate - \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u0435\u0436\u0434\u0443 \u0411\u0414 \u0438 AD. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 AD \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0442 \u043a \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c \u0432 person. \u0412\u044b\u043a\u043b \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 AD https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/31 \u0421\u043a\u0440\u0438\u043f\u0442 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ADSAccount (Designer - Table \u2013 Person - ADSAccount)","title":""},{"location":"17.%20One%20Identity%20AD/#_2","text":"","title":""},{"location":"17.%20One%20Identity%20AD/#how-to-create-employees-from-adsaccounts-150319","text":"Return Was this article helpful? [Select Rating]","title":"How to Create Employees From ADSAccounts (150319)"},{"location":"17.%20One%20Identity%20AD/#title","text":"How to Create Employees From ADSAccounts","title":"Title"},{"location":"17.%20One%20Identity%20AD/#description","text":"What are the steps required to provision Employee objects from ADSAccounts?","title":"Description"},{"location":"17.%20One%20Identity%20AD/#resolution","text":"***Please note: the following steps are specific to version 6.1.x. For version 7.x and above there is some overlap, but many of the specific process names, for example, have changed. The creation of Employees based on ADSAccounts is implemented out-of-the-box. To control the behavior there are the configuration parameters available: Using TargetSystem\\ADS\\PersonAutoFullSync with the CREATE option, a sync will create the Employees based on existing AD accounts. Using TargetSystem\\ADS\\PersonAutoDefault will work as well, with CREATE, when an ADSAccount is created. One action is done by the FullSync (TargetSystem\\ADS\\PersonAutoFullSync), the other for all manual actions (TargetSystem\\ADS\\PersonAutoDefault). In the end either the process \"VI_ADS/EX2K_ADSAccount_Insert/Update (Fullsync)\" will be generated (for inserts/updates of accounts by the sync) or the process \"VI_ADS_ADSAccount_Update_UpdatePerson\" (for manual inserts/updates). Both processes contain a ScriptExec job which executes the script \"VI_PersonUpdate_ADS\" or \"VI_PersonAuto_ADS\". The creation of an Employee for the given account is implemented in these scripts. So it would be possible use these scripts to create Employee objects: either call this script for single cases in the ObjectBrowser (ScriptTester) or in the Designer. Or create a custom defined process/script/... which calls one of the mentioned scripts.*** https://support.oneidentity.com/identity-manager/kb/150319/how-to-create-employees-from-adsaccounts","title":"Resolution"},{"location":"17.%20One%20Identity%20AD/#employee-ad-account","text":"1) \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 TargetSystem\\ADS\\PersonAutoFullSync = SEARCH AND CREATE 2) \u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 ADS_PersonAuto_Mapping_ADSAccount (\u043f\u0440\u043e\u0446\u0435\u0441\u0441 ADS_ADSDomain_SearchandCreate_Person_PostSync \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 ) \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442 \u0412 \u043d\u0435\u043c \u0432 \u0441\u0442\u0440\u043e\u043a\u0435 215, \u0433\u0434\u0435 If String.IsNullOrEmpty(persUid) And InStr(1, VID_UCase(searchMode), \"CREATE\") > 0 \u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c If String.IsNullOrEmpty(persUid) And InStr(1, VID_UCase(searchMode), \"CREATE\") > 0 And myAcc.CreateWalker(Session).GetValue(\"FK(UID_ADSDomain).DisplayName\") = Connection.GetConfigParm(\"Custom\\DomainAllowCreatePerson\") Or String.IsNullOrEmpty(persUid) And InStr(1, VID_UCase(searchMode), \"CREATE\") > 0 And Connection.GetConfigParm(\"Custom\\DomainAllowCreatePerson\") = \"1\" Then \u041f\u0435\u0440\u0435\u0434 \u044d\u0442\u0438\u043c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \" Custom\\DomainAllowCreatePerson \"","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 Employee \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 ad account \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0434\u043e\u043c\u0435\u043d\u0430"},{"location":"17.%20One%20Identity%20AD/#ad-error-accessing-schema-directory-server","text":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044b: TCP 445 (smb) 88 (\u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u043b\u044f smb - kerb) 389 (LDAP) 636 (LDAPS) UDP 389 (LDAP) - \u0434\u043b\u044f \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u044f https://support.oneidentity.com/technical-documents/identity-manager/8.1.4/administration-guide-for-connecting-to-active-directory/2#TOPIC-1523800 Is it mandatory to open port 445 for AD synchronization. - Forum - Identity Manager Community - One Identity Community \u041f\u043e\u0442\u043e\u043c\u0443, \u0447\u0442\u043e SyncEditor \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 pipe PIPE\\wkssvc PIPE\\lsarpc","title":"\u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442\u0441\u044f \u0441\u0445\u0435\u043c\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 \u043a AD. Error accessing schema: Directory server."},{"location":"17.%20One%20Identity%20AD/#ad","text":"You could convert the CP_ADServer variable into a scripted variable in the sync project (for a FullSync my comments from above apply. No synchronization optimization allowed then). In the script, you could determine a DC of your domain and do some other checks as well (ping, login, whatsoever). The sample script is just taking the first domain controller it gets from the collection: Further enhancements would be to check the DC classes, ping time, etc. > References System.DirectoryServices.dll Imports System.DirectoryServices.ActiveDirectory Dim RootDN as String = VariableSet.Item(\"CP_ADRootdn\") Dim DomainName As String = RootDN.Replace(\",dc=\",\".\").Replace(\"dc=\",\"\") Dim DomainCon As New DirectoryContext(DirectoryContextType.Domain, DomainName) Dim DCs As DomainControllerCollection = Domain.GetDomain(DomainCon).DomainControllers Return DCs.Item(0).Name 'For Each DC As DirectoryServices.ActiveDirectory.DomainController In DCs ' Return DC.Name 'Next From \\< https://www.oneidentity.com/community/identity-manager/f/forum/31749/failover-mechanism-for-active-directory-connector/77450 > \u041f\u043e\u0440\u0442\u044b Communications Port and Firewall Configuration One Identity Manager is made up of several components that can be executed in different network segments. In addition, One Identity Manager requires access to various network services, which can also be installed in different network segments. You must open various ports depending on which components and services you want to install behind the firewall. The following ports are required: Default port Description 1433 Port for communicating with the One Identity Manager database. 1880 Port for the HTTP protocol of One Identity Manager Service. 2880 Port for access tests with the Synchronization Editor, such as in the target system browser or for simulating synchronization. 80 Port for accessing web applications. 88 Kerberos authentication system. (if Kerberos authentication is implemented). Required for authentication against Active Directory. 135 Microsoft End Point Mapper (EPMAP) (also, DCE/RPC Locator Service). 137 NetBIOS Name Service. 139 NetBIOS Session Service. 389 Lightweight Directory Access Protocol (LDAP Standard). Target system server communications port. 445 Microsoft-DS Active Directory, Windows shares. Required for synchronization (TCP/UDP) 53 Domain Name System (DNS), mainly through UDP. Required for access to the Active Directory total structure. 636 Lightweight Directory Access Protocol using TLS/SSL (LDAP S). Required for access to the Active Directory total structure. 3268 Global catalog. Required for searching in the global catalog. Either port 3268 or 3269 should be open depending on the connection settings. 3269 Global catalog over SSL. Required for searching in the global catalog. Either port 3268 or 3269 should be open depending on the connection settings. Table 3: Communications port From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1/administration-guide-for-connecting-to-active-directory/2 > Even for authentication to AD port 445 is needed according to Microsoft. Authentication to AD AD uses the following ports to support user and computer authentication, according to the Active Directory and Active Directory Domain Services Port Requirements article: SMB over IP (Microsoft-DS): port 445 TCP, UDP Kerberos: port 88 TCP, UDP LDAP: port 389 UDP DNS: port 53 TCP, UDP RPC: Dynamically-assigned ports TCP, unless restricted From \\< https://www.oneidentity.com/community/identity-manager/f/forum/33331/active-directory-schema-loading-crash-when-dc-in-dmz >","title":"\u041e\u0442\u043a\u0430\u0437\u043e\u0443\u0441\u0442\u043e\u0439\u0447\u0438\u0432\u043e\u0441\u0442\u044c \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 \u043a AD"},{"location":"18.%20One%20Identity%20Permissions/","text":"18. One Identity Permissions 2 \u0430\u043f\u0440\u0435\u043b\u044f 2020 \u0433. 14:54 \u0427\u0442\u043e\u0431\u044b Employee \u043c\u043e\u0433 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u0432\u0438\u0434\u0435\u0442\u044c \u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u043d\u0430\u0434\u043e 1) \u0412 Manager \u0432 OneIM Manager \u2013 Base Role \u0441\u043e\u0437\u0434\u0430\u0442\u044c Application role \u0441 Perm Group = CCCEditRole 2) \u041f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u044c Employee \u0432 \u044d\u0442\u0443 App Role \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043b\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430, \u043a \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0430 \u0443\u0437 1IM \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 We need to ensure that any schema extensions get assigned access permissions. If you have a schema extension attribute, on Person say, and there are not permissions set then you will see this text: \\<hidden:XXXX> Permission groups are created at Install time to help with this: CCCEditPermissions , CCCViewPermisions , CCCEditRole and CCCViewRole . We just need to ensure that the standard permission groups inherit these new permissions. This is done in Designer->Permissions : Optional: Just verify the permission of the CCC*Permission roles: And now, alles gut. To avoid seeing a cached value of the web pages, you should: Delete all the Cache directories in the Web Portal IIS AppData folder iisreset Login again to the portal","title":"18. One Identity Permissions"},{"location":"18.%20One%20Identity%20Permissions/#_1","text":"We need to ensure that any schema extensions get assigned access permissions. If you have a schema extension attribute, on Person say, and there are not permissions set then you will see this text: \\<hidden:XXXX> Permission groups are created at Install time to help with this: CCCEditPermissions , CCCViewPermisions , CCCEditRole and CCCViewRole . We just need to ensure that the standard permission groups inherit these new permissions. This is done in Designer->Permissions : Optional: Just verify the permission of the CCC*Permission roles: And now, alles gut. To avoid seeing a cached value of the web pages, you should: Delete all the Cache directories in the Web Portal IIS AppData folder iisreset Login again to the portal","title":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"19.%20One%20Identity%20%D0%BF%D0%BE%D1%87%D1%82%D0%BE%D0%B2%D1%8B%D0%B5%20%D1%83%D0%B2%D0%B5%D0%B4%D0%BE%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F/","text":"19. One Identity \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f 15 \u0438\u044e\u043d\u044f 2022 \u0433. 18:25 Using scripts in mail templates For more information about using scripts, see the One Identity Manager Configuration Guide . In mail templates, any parameters can be used when calling a script. Syntax \\$SCRIPT(ScriptName, \"Options\")\\$ The Options parameter is optional and is passed as a string. Custom parameters can be coded in any way in this string. Quotes (\"\") are masked by doubling. In the script, the parameter is passed as the second parameter after the base object. The base object can be either IEntity or ISingleDbObject. Script example Public Function CCC_Script(baseEntity as IEntity, options as String) as String Dim arr = options.Split(\"|\"c) Dim p1 = arr(0) Dim p2 = arr(1) End Function Example of use in mail templates \\$SCRIPT(CCC_Script, \"Param1|Param2\")\\$ Support for dynamically generated HTML code in mail templates For detailed information about using dollar (\\$) notation, see the One Identity Manager Configuration Guide . In dollar notation, you can select the HTML type. The HTML code is accepted in scripts and columns but not masked. There is no security check. Example script with HTML code: Public Function CCC_HtmlMailText(obj As IEntity) As String Return \"\\<h1 style='color:red'>\" & obj.Display & \"\\</h1>\" End Function Call in mail template: \\$SCRIPT(CCC_HtmlMailText):HTML\\$ From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.3/operational-guide/13#TOPIC-1481199 >","title":"19. One Identity \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0435 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"},{"location":"2.%20Sync/","text":"2. Sync 7 \u0438\u044e\u043b\u044f 2021 \u0433. 11:44 Synchronization editor problem: mapping property with script retrieve object - Forum - Identity Manager Community - One Identity Community [\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438](onenote:#section-id=[REDACTED_USER] Data Import Identity Manager 8.1.2 - Target System Synchronization Reference Guide (oneidentity.com) \u0423 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u0434\u0432\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b (CSV \u0438 SAP). \u041f\u0440\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 CSV \u0443 \u043d\u0430\u0441 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f \u0443 Person \u0438 \u044d\u0442\u043e \u0441\u0440\u0430\u0437\u0443 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 SAP. \u041f\u043e\u044d\u0442\u043e\u043c\u0443, CSV (\u0432\u0442\u043e\u0440\u0438\u0447\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b) \u043c\u044b \u0441\u0442\u0430\u0432\u0438\u043c \u0433\u0430\u043b\u043a\u0443 Data Import, \u0447\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 FULLSYNC = FALSE. \u042d\u0442\u043e \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u043f\u0440\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0432\u0442\u043e\u0440\u0438\u0447\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 \u0438 \u0431\u0443\u0434\u0443\u0442 \u0432\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 SAP. \u0415\u0441\u043b\u0438 \u0433\u0430\u043b\u043a\u0438 \u043d\u0435 \u0441\u0442\u043e\u0438\u0442, \u0442\u043e FULLSYNC = TRUE \u0438 \u043c\u043d\u043e\u0433\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043d\u0435 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442! \u042d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043b\u044f Workflow \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 1IM (???? \u043f\u043e\u0445\u043e\u0434\u0443 \u043d\u0435\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u0443 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0443\u0447\u0435\u0442\u043e\u043a \u0441\u0440\u0430\u0437\u0443 \u0431\u0443\u0434\u0443\u0442 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b ) To prevent immediately provisioning of a primary system during synchronization, open the primary system synchronization project and disable the Import data option in the synchronization step. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.2/target-system-synchronization-reference-guide/7 > \u0422\u043e \u0435\u0441\u0442\u044c, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u044d\u0442\u043e\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u043e\u0439 \u0443\u0447\u0435\u0442\u043a\u0438 \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 If Not CBool(Variables(\"FULLSYNC\")) Then If Not String.IsNullOrEmpty(\\$UID_UNSRootB\\$) AndAlso _ Not String.IsNullOrEmpty(\\$cn\\$) Then If String.IsNullOrEmpty(\\$UID_ParentUNSContainerB\\$) Then Value = TSB_CreateDN( _ \"CN\", _ \\$cn\\$,\\$FK(UID_UNSRootB).DistinguishedName\\$) Else Value = TSB_CreateDN( _ \"CN\", _ \\$cn\\$,\\$FK(UID_ParentUNSContainerB).DistinguishedName\\$) End If End If End If \u0412 \u043e\u0431\u0449\u0435\u043c - \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043d\u0435 \u0445\u043e\u0440\u043e\u0448\u0438\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f\u043c \u0432 \u0432\u0438\u0434\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u043d\u0435 \u043d\u0443\u0436\u043d\u044b\u0445! ---- \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 Identity Manager 8.1.1 - Target System Synchronization Reference Guide (oneidentity.com) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0438\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c Extert mode \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043d\u0430\u0448 \u043f\u0440\u043e\u0435\u043a\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u043c Edit -> Create Template \u042d\u0442\u043e\u0442 \u0448\u0430\u0431\u043b\u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0432\u0438\u0434\u0435\u043d \u0432 Database -> Manage Templates \u0412 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0438\u0434\u0435\u043c \u0432 Target System -> Edit Connection -> \u041f\u0440\u043e\u0431\u0435\u0433\u0430\u0435\u043c\u0441\u044f \u043f\u043e \u0448\u0430\u0433\u0430\u043c \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c Config file \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0442\u043e\u0433\u043e \u0436\u0435 \u0442\u0438\u043f\u0430, \u0447\u0442\u043e \u0438 \u0448\u0430\u0431\u043b\u043e\u043d \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0438 \u043f\u043e\u0442\u043e\u043c \u043d\u0430\u0448 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0439 Conf File \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043d\u0430\u0448 \u0448\u0430\u0431\u043b\u043e\u043d Base Object \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 Custom Target System (\u043c\u043e\u0436\u043d\u043e \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c) \u041f\u043e\u0441\u043b\u0435 \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c sews - \u043f\u043e\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u043d\u0443\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 - \u044d\u0442\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430. ---- \u041c\u0430\u043f\u043f\u0438\u043d\u0433 \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0445 Schema Class (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e UNSContainer) \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b, \u0442\u0430\u043a \u043a\u0430\u043a \u0441\u043f\u0440\u0430\u0432\u0430 \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0437\u043d\u044b\u0435, \u0430 \u0441\u043b\u0435\u0432\u0430 - \u043e\u0434\u043d\u0438 \u0427\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0412\u0430\u0436\u043d\u043e!!! \u0414\u043b\u044f \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043e\u0442\u043b\u0438\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430!!! \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, DistinguishedName \u0427\u0442\u043e\u0431\u044b, \u0435\u0441\u043b\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0443\u0442 \u0438\u043c\u0435\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438\u0437 \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c - \u043d\u0435 \u0431\u044b\u043b\u043e \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0438, \u0438\u0437 \u043a\u0430\u043a\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043d\u0430\u0434\u043e \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f!!! Dim users As String = \\$Users\\$ Dim vrtUsers As String() = Split(users, \",\") Dim vrtUsers1 As New List(Of String) For Each user as String In vrtUsers vrtUsers1.add(\"CN=\" + user + \",system=Ranger2\") Next Dim qw As String = string.Join(\";\",vrtUsers1) Dim vrtUsers2 As String() = Split(qw, \";\") return vrtUsers2 Identity Manager 8.1.4 - Target System Synchronization Reference Guide (oneidentity.com) \u0414\u043b\u044f \u0443\u0441\u043b\u043e\u0432\u0438\u044f Update AdHoc \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c \\$XDateSubItem[o]:Date\\$ \\<> \\$XDateSubItem:Date\\$ \u0423 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 \u043f\u043e\u0447\u0435\u043c\u0443-\u0442\u043e Update \u0438 Delete \u043a\u0430\u043a Insert \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442 (\u0432\u0438\u0434\u043d\u043e \u0431\u044b\u043b\u043e, \u0447\u0435\u0440\u0435\u0437 Log2Console) \u0424\u0438\u0448\u043a\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c PolicyID \u0438 Permission \u0432 \u0448\u0430\u0433\u0435 AdHoc \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 Update UNSGroupB. \u041d\u0430\u0434\u043e \u0431\u044b\u043b\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 ForceSyncOf: Value = \"UNSContainerB.ObjectGUID,Description\". \u0418 \u043e\u043d, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0441\u043c\u043e\u0433 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c Update - \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u043b Insert. \u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043d\u043e\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0432 UNSGroupB \u0432 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440 PowerShell \u0411\u044b\u043b\u043e \u0421\u0442\u0430\u043b\u043e \u042f \u0441\u0442\u0430\u043b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437 1IM \u043d\u0435 \u043c\u0430\u0441\u0441\u0438\u0432 \u0441\u0442\u0440\u043e\u043a, \u0430 \u0441\u0442\u0440\u043e\u043a\u0443 (Join \u043c\u0430\u0441\u0441\u0438\u0432\u0430) \u0420\u0430\u0437\u0434\u0435\u043b\u0438\u043b \u043e\u0434\u0438\u043d \u043f\u0440\u043e\u0446\u0435\u0441\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043a\u043b\u044e\u0447\u0430\u043b \u0432 \u0441\u0435\u0431\u044f \u0438 \u0447\u0442\u0435\u043d\u0438\u0435 \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0432 Target system, \u043d\u0430 2 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445. \u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \"There is no mapping for this schema type, which was defined many-to-many mapping\" \u043f\u0440\u0438 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0435 Multi-reference mapping rule \u041d\u0430\u0434\u043e \u0432 \u0441\u0445\u0435\u043c\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0441\u044b\u043b\u0430\u0435\u0442\u0441\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442 M:N \u0441\u043b\u0435\u0432\u0430 \u0441 \u0433\u0430\u043b\u043a\u043e\u0439 Enable relative complement \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Maps objects referenced by multiple references \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 DPR_DPRProjectionStartInfo_Run_Synchronization PostSync \u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 DPR_DPRProjectionStartInfo_Run_Synchronization \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0448\u0430\u0433 \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u0441\u043e\u0431\u044b\u0442\u0438\u044f PostSync \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b (BaseObject) \u0441 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435\u0439 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 uidDprJournal - \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0439 \u0436\u0443\u0440\u043d\u0430\u043b \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u0415\u0441\u043b\u0438 \u043c\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044e PostSync - \u0442\u043e \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043f\u043e\u0441\u043b\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u0445\u0432\u0430\u0442\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b. the logged Information of the synchronization runs are stored in the One Identity Manager database in the tables starting with DPRJournal... You can use the report DPR_Journal_Summary to export the complete log using the report component. To generate the report the Parameter uidDPRJournal has to be set to the UID_DPRJournal of the synchronization journal you want to export. But you have to fetch the UID_DPRJournal from the database using the Information about the start stratup configuration in your process chain. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/5033/send-synchronization-editor-log-with-a-mail/13122 > \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0418\u043c\u0435\u0435\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 DPRJournal - \u0432 \u043d\u0435\u0439 \u043f\u043e\u043b\u0435 UID_DPRProjectionConfig \u041c\u043e\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Insert \u0438 Update (\u0442\u0430\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0430) \u0441 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u043c \u043f\u043e UID_DPRProjectionConfig \u0438 \u043e\u0442\u043b\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 ProjectionState = Error \u0415\u0449\u0451 \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 DPRJournalMessage, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 DPRJournal. The process tasks FullProjection and AdHocProjection provide an out-parameter called UID_DialogJournal that provide the UID of the created synchronization journal for further processing. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/26100/custom-logging-on-sync-events >","title":"2. Sync"},{"location":"2.%20Sync/#synchronization-editor-problem-mapping-property-with-script-retrieve-object-forum-identity-manager-community-one-identity-community","text":"","title":"Synchronization editor problem: mapping property with script retrieve object - Forum - Identity Manager Community - One Identity Community"},{"location":"2.%20Sync/#onenotesection-idredacted_user","text":"","title":"[\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438](onenote:#section-id=[REDACTED_USER]"},{"location":"2.%20Sync/#data-import","text":"Identity Manager 8.1.2 - Target System Synchronization Reference Guide (oneidentity.com) \u0423 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c \u0434\u0432\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b (CSV \u0438 SAP). \u041f\u0440\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 CSV \u0443 \u043d\u0430\u0441 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0438\u043c\u044f \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u044f \u0443 Person \u0438 \u044d\u0442\u043e \u0441\u0440\u0430\u0437\u0443 \u0434\u043e\u043b\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 SAP. \u041f\u043e\u044d\u0442\u043e\u043c\u0443, CSV (\u0432\u0442\u043e\u0440\u0438\u0447\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b) \u043c\u044b \u0441\u0442\u0430\u0432\u0438\u043c \u0433\u0430\u043b\u043a\u0443 Data Import, \u0447\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 FULLSYNC = FALSE. \u042d\u0442\u043e \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u0442 \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u0431\u0443\u0434\u0443\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u043f\u0440\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0432\u0442\u043e\u0440\u0438\u0447\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u043e\u0439 \u0438 \u0431\u0443\u0434\u0443\u0442 \u0432\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 SAP. \u0415\u0441\u043b\u0438 \u0433\u0430\u043b\u043a\u0438 \u043d\u0435 \u0441\u0442\u043e\u0438\u0442, \u0442\u043e FULLSYNC = TRUE \u0438 \u043c\u043d\u043e\u0433\u0438\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u043d\u0435 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442! \u042d\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043b\u044f Workflow \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 1IM (???? \u043f\u043e\u0445\u043e\u0434\u0443 \u043d\u0435\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u0443 \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0443\u0447\u0435\u0442\u043e\u043a \u0441\u0440\u0430\u0437\u0443 \u0431\u0443\u0434\u0443\u0442 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b ) To prevent immediately provisioning of a primary system during synchronization, open the primary system synchronization project and disable the Import data option in the synchronization step. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.2/target-system-synchronization-reference-guide/7 > \u0422\u043e \u0435\u0441\u0442\u044c, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0441 \u044d\u0442\u043e\u0439 \u043f\u0435\u0440\u0441\u043e\u043d\u043e\u0439 \u0443\u0447\u0435\u0442\u043a\u0438 \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0438\u0441\u0442\u0435\u043c \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f! \u041f\u0440\u0438\u043c\u0435\u0440 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0448\u0430\u0431\u043b\u043e\u043d\u0430 If Not CBool(Variables(\"FULLSYNC\")) Then If Not String.IsNullOrEmpty(\\$UID_UNSRootB\\$) AndAlso _ Not String.IsNullOrEmpty(\\$cn\\$) Then If String.IsNullOrEmpty(\\$UID_ParentUNSContainerB\\$) Then Value = TSB_CreateDN( _ \"CN\", _ \\$cn\\$,\\$FK(UID_UNSRootB).DistinguishedName\\$) Else Value = TSB_CreateDN( _ \"CN\", _ \\$cn\\$,\\$FK(UID_ParentUNSContainerB).DistinguishedName\\$) End If End If End If \u0412 \u043e\u0431\u0449\u0435\u043c - \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043d\u0435 \u0445\u043e\u0440\u043e\u0448\u0438\u043c \u043f\u043e\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u044f\u043c \u0432 \u0432\u0438\u0434\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u043d\u0435 \u043d\u0443\u0436\u043d\u044b\u0445! ----","title":"Data Import"},{"location":"2.%20Sync/#_1","text":"Identity Manager 8.1.1 - Target System Synchronization Reference Guide (oneidentity.com)","title":"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438"},{"location":"2.%20Sync/#_2","text":"\u0412\u043a\u043b\u044e\u0447\u0430\u0435\u043c Extert mode \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043d\u0430\u0448 \u043f\u0440\u043e\u0435\u043a\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0448\u0430\u0431\u043b\u043e\u043d\u043e\u043c Edit -> Create Template \u042d\u0442\u043e\u0442 \u0448\u0430\u0431\u043b\u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0432\u0438\u0434\u0435\u043d \u0432 Database -> Manage Templates \u0412 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0438\u0434\u0435\u043c \u0432 Target System -> Edit Connection -> \u041f\u0440\u043e\u0431\u0435\u0433\u0430\u0435\u043c\u0441\u044f \u043f\u043e \u0448\u0430\u0433\u0430\u043c \u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c Config file \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0442\u043e\u0433\u043e \u0436\u0435 \u0442\u0438\u043f\u0430, \u0447\u0442\u043e \u0438 \u0448\u0430\u0431\u043b\u043e\u043d \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0438 \u043f\u043e\u0442\u043e\u043c \u043d\u0430\u0448 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0439 Conf File \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043d\u0430\u0448 \u0448\u0430\u0431\u043b\u043e\u043d Base Object \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 Custom Target System (\u043c\u043e\u0436\u043d\u043e \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u0442\u044c) \u041f\u043e\u0441\u043b\u0435 \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c sews - \u043f\u043e\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0435\u0433\u043e \u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u043d\u0443\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 - \u044d\u0442\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430. ----","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0438\u0437 \u0448\u0430\u0431\u043b\u043e\u043d\u0430"},{"location":"2.%20Sync/#schema-class-unscontainer","text":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b, \u0442\u0430\u043a \u043a\u0430\u043a \u0441\u043f\u0440\u0430\u0432\u0430 \u0434\u0430\u043d\u043d\u044b\u0435 \u0440\u0430\u0437\u043d\u044b\u0435, \u0430 \u0441\u043b\u0435\u0432\u0430 - \u043e\u0434\u043d\u0438","title":"\u041c\u0430\u043f\u043f\u0438\u043d\u0433 \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0445 Schema Class (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0432 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e UNSContainer)"},{"location":"2.%20Sync/#_3","text":"\u0412\u0430\u0436\u043d\u043e!!! \u0414\u043b\u044f \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043e\u0442\u043b\u0438\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430!!! \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, DistinguishedName \u0427\u0442\u043e\u0431\u044b, \u0435\u0441\u043b\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0443\u0442 \u0438\u043c\u0435\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438\u0437 \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c - \u043d\u0435 \u0431\u044b\u043b\u043e \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0438, \u0438\u0437 \u043a\u0430\u043a\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u043d\u0430\u0434\u043e \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f!!! Dim users As String = \\$Users\\$ Dim vrtUsers As String() = Split(users, \",\") Dim vrtUsers1 As New List(Of String) For Each user as String In vrtUsers vrtUsers1.add(\"CN=\" + user + \",system=Ranger2\") Next Dim qw As String = string.Join(\";\",vrtUsers1) Dim vrtUsers2 As String() = Split(qw, \";\") return vrtUsers2 Identity Manager 8.1.4 - Target System Synchronization Reference Guide (oneidentity.com) \u0414\u043b\u044f \u0443\u0441\u043b\u043e\u0432\u0438\u044f Update AdHoc \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c \\$XDateSubItem[o]:Date\\$ \\<> \\$XDateSubItem:Date\\$","title":"\u0427\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0435"},{"location":"2.%20Sync/#-update-delete-insert-log2console","text":"\u0424\u0438\u0448\u043a\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c PolicyID \u0438 Permission \u0432 \u0448\u0430\u0433\u0435 AdHoc \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 Update UNSGroupB. \u041d\u0430\u0434\u043e \u0431\u044b\u043b\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 ForceSyncOf: Value = \"UNSContainerB.ObjectGUID,Description\". \u0418 \u043e\u043d, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0441\u043c\u043e\u0433 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c Update - \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u043b Insert.","title":"\u0423 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 \u043f\u043e\u0447\u0435\u043c\u0443-\u0442\u043e Update \u0438 Delete \u043a\u0430\u043a Insert \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u044e\u0442 (\u0432\u0438\u0434\u043d\u043e \u0431\u044b\u043b\u043e, \u0447\u0435\u0440\u0435\u0437 Log2Console)"},{"location":"2.%20Sync/#unsgroupb-powershell","text":"\u0411\u044b\u043b\u043e \u0421\u0442\u0430\u043b\u043e \u042f \u0441\u0442\u0430\u043b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c \u0438\u0437 1IM \u043d\u0435 \u043c\u0430\u0441\u0441\u0438\u0432 \u0441\u0442\u0440\u043e\u043a, \u0430 \u0441\u0442\u0440\u043e\u043a\u0443 (Join \u043c\u0430\u0441\u0441\u0438\u0432\u0430) \u0420\u0430\u0437\u0434\u0435\u043b\u0438\u043b \u043e\u0434\u0438\u043d \u043f\u0440\u043e\u0446\u0435\u0441\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043a\u043b\u044e\u0447\u0430\u043b \u0432 \u0441\u0435\u0431\u044f \u0438 \u0447\u0442\u0435\u043d\u0438\u0435 \u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0432 Target system, \u043d\u0430 2 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445.","title":"\u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u043e\u0441\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043d\u043e\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0432 UNSGroupB \u0432 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440 PowerShell"},{"location":"2.%20Sync/#there-is-no-mapping-for-this-schema-type-which-was-defined-many-to-many-mapping-multi-reference-mapping-rule","text":"\u041d\u0430\u0434\u043e \u0432 \u0441\u0445\u0435\u043c\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0441\u044b\u043b\u0430\u0435\u0442\u0441\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442 M:N \u0441\u043b\u0435\u0432\u0430 \u0441 \u0433\u0430\u043b\u043a\u043e\u0439 Enable relative complement \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Maps objects referenced by multiple references","title":"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435 \"There is no mapping for this schema type, which was defined many-to-many mapping\" \u043f\u0440\u0438 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0435 Multi-reference mapping rule"},{"location":"2.%20Sync/#_4","text":"DPR_DPRProjectionStartInfo_Run_Synchronization","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438"},{"location":"2.%20Sync/#postsync","text":"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 DPR_DPRProjectionStartInfo_Run_Synchronization \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0448\u0430\u0433 \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u0441\u043e\u0431\u044b\u0442\u0438\u044f PostSync \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b (BaseObject) \u0441 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435\u0439 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 uidDprJournal - \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0439 \u0436\u0443\u0440\u043d\u0430\u043b \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u0415\u0441\u043b\u0438 \u043c\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044e PostSync - \u0442\u043e \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043f\u043e\u0441\u043b\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u0434\u0445\u0432\u0430\u0442\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b. the logged Information of the synchronization runs are stored in the One Identity Manager database in the tables starting with DPRJournal... You can use the report DPR_Journal_Summary to export the complete log using the report component. To generate the report the Parameter uidDPRJournal has to be set to the UID_DPRJournal of the synchronization journal you want to export. But you have to fetch the UID_DPRJournal from the database using the Information about the start stratup configuration in your process chain. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/5033/send-synchronization-editor-log-with-a-mail/13122 >","title":"PostSync"},{"location":"2.%20Sync/#_5","text":"\u0418\u043c\u0435\u0435\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 DPRJournal - \u0432 \u043d\u0435\u0439 \u043f\u043e\u043b\u0435 UID_DPRProjectionConfig \u041c\u043e\u0436\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Insert \u0438 Update (\u0442\u0430\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0430) \u0441 \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u043c \u043f\u043e UID_DPRProjectionConfig \u0438 \u043e\u0442\u043b\u0430\u0432\u043b\u0438\u0432\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 ProjectionState = Error \u0415\u0449\u0451 \u0438\u043c\u0435\u0435\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 DPRJournalMessage, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0438 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 DPRJournal. The process tasks FullProjection and AdHocProjection provide an out-parameter called UID_DialogJournal that provide the UID of the created synchronization journal for further processing. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/26100/custom-logging-on-sync-events >","title":"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438"},{"location":"2.1%20%D0%9E%D0%B1%D1%80%D0%B0%D1%89%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%BC%20%D0%91%D0%94%201IM%20%D0%B8%D0%B7%20%D0%BC%D0%B0%D0%BF%D0%BF%D0%B8%D0%BD%D0%B3%D0%B0/","text":"2.1 \u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043a \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u0411\u0414 1IM \u0438\u0437 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430 15 \u043d\u043e\u044f\u0431\u0440\u044f 2022 \u0433. 12:17 Hi Michele, as you have assumed, you need to define a Script property to achieve your goal. In the script you have access to the properties of the current object, the current value when the sync engine tries to set a property and you can query for other objects the connector has access to, defined by your current schema definition (we come to that in a second). The sync engine itself, and therefore the scripted property has no direct access to the OneIM database, the object layer or the script library. Having explained that, here is your solution: You need to define script property on the OneIM (the left) side of the mapping in the Department objects. In my sample, it is called *vrtPersonHead. * As in your use-case definition, we only need a write script. Script code is the following: Imports VI.Projector.Connection Dim Person AsISystemObject= SystemObject.Connection.QueryObject(SystemQuery _ .From(\"Person\") _ .Select(\"UID_PersonHead\", \"UID_PersonMasterIdentity\") _ .Filter(String.Format(\"CustomProperty01='{0}'\", value.ToString)) ).Result.FirstOrDefault IfNot Person Is NothingThen IfString.IsNullOrEmpty(Person.GetValue(\"UID_PersonMasterIdentity\").AsString) Then \\$UID_PersonHead\\$ := Person.GetValue(\"UID_PersonHead\").AsString Else \\$UID_PersonHead\\$ := Person.GetValue(\"UID_PersonMasterIdentity\").AsString End If End If You need a mapping from your CSV column that stores the Manager lookup value to the new script property. In my sample, this is the mapping column CustomProperty01 in my CSV file to the script property vrtPersonHead . You need to pin the Person objects in your schema, as the connector is only able to access objects that are part of your sync project schema. So when you shrink the schema, you need to exclude the Person table from the shrink, when it isn't a part of your sync project already. The script demonstrates the use of: How to query data from other objects that are part of your sync project. How to set another property in your object (:= notation) in a write script How to us the current value in a write script. Hope that helps. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/21645/synchronization-editor-problem-mapping-property-with-script-retrieve-object >","title":"2.1 \u041e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u043a \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u0411\u0414 1IM \u0438\u0437 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430"},{"location":"2.2%20Group%20Members/","text":"2.2 Group Members 16 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2023 \u0433. 12:01 \u0414\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u043c \u043d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 M:N \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0415\u0441\u043b\u0438 \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0443 \u043d\u0430\u0441 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0435, \u0447\u0435\u0440\u0435\u0437 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 - [redacted-email] \u0438\u043b\u0438 [redacted-email]. \u041d\u0430\u043c \u043d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c Multi-Value \u043f\u043e\u043b\u0435 \u0438\u0437 \u044d\u0442\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0442\u0430\u043a: \u0414\u0430\u043b\u0435\u0435 - \u0441\u043b\u0435\u0432\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u043c M:N \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043d\u0430\u0448\u0435\u0439 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0421\u043e\u0437\u0434\u0430\u0435\u043c Mapping rule","title":"2.2 Group Members"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/","text":"2.3 One Identity Native DB Connector 22 \u043c\u0430\u0440\u0442\u0430 2021 \u0433. 16:11 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a PostgeSQL DSN PostgreSQL35W Driver={PostgreSQL UNICODE};Database=test001;Server=[REDACTED_HOST];Port=5432;Uid=[REDACTED_USER];Pwd=; \u042d\u0442\u0443 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0441\u044e\u0434\u0430 \u041b\u0438\u0431\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c System DSN \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u043b\u0438 \u0432 \u041f\u0430\u043d\u0435\u043b\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f ODBC System Filter \u0434\u043b\u044f Scope 1IM CanonicalName = 'GreenPlum' and UID_DPRNameSpace = (select UID_DPRNameSpace from DPRNameSpace where Ident_DPRNameSpace = 'GreenPlum') Mapping Rules \u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 Taken from mapping - \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0431\u0440\u0430\u0442\u044c\u0441\u044f \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u0437 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0441\u0430\u043c\u043e\u0433\u043e \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430, \u0430 \u043d\u0435 \u0438\u0437 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430 (\u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432) Ignore mapping direction restrictions on adding \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435, \u0442\u043e \u0435\u0441\u0442\u044c \u0435\u0441\u043b\u0438 \u0437\u0430\u0434\u0430\u043d \u043c\u0430\u043f\u043f\u0438\u043d\u0433 \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 1IM \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0444\u043b\u0430\u0436\u043a\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0442\u0430\u0440\u0433\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f AD \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430\u043f\u0440\u0430\u043b\u0435\u043d\u0438\u0435 GUID \u0442\u043e\u043b\u044c\u043a\u043e \u0432 1IM. \u0415\u0441\u043b\u0438 \u044d\u0442\u043e\u0442 \u0444\u043b\u0430\u0433 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d - \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 AD, \u0447\u0442\u043e \u043d\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e. \u041d\u0443\u0436\u043d\u043e \u0443\u0431\u0438\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u043b\u0430\u0433 \u0434\u043b\u044f \u0441\u0432\u043e\u0439\u0441\u0442\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0433\u0435\u043d\u0435\u0440\u044f\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b. Force mapping against direction of synchronization \u042d\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0435\u0441\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c workflow \u043f\u0440\u043e\u0432\u0438\u0437\u0438\u043e\u043d\u043d\u0438\u043d\u0433\u0430 \u0438 \u0432 \u043d\u0435\u043c \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 GUID \u0432 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 - \u0442\u043e \u0441 \u044d\u0442\u0438\u043c \u0444\u043b\u0430\u0433\u043e\u043c, \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0432\u0438\u0437\u0438\u043e\u043d\u043d\u0438\u043d\u0433\u0430 - \u0434\u0430\u043d\u043d\u044b\u0435 GUID \u0438\u0437 \u0442\u0430\u0440\u0433\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 1IM. (\u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0442\u0430\u043c \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442\u0441\u044f GUID) Detecting rogue modifications \u0411\u0443\u0434\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0442\u0430\u0440\u0433\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u044b\u0435 \u0431\u044b\u043b\u0438 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0431\u0435\u0437 \u0432\u0435\u0434\u043e\u043c\u0430 1IM \u0438 \u043f\u0438\u0441\u0430\u0442\u044c \u0438\u0445 \u0432 \u043b\u043e\u0433. Correct rogue modifications \u0411\u0443\u0434\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0442\u0430\u0440\u0433\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 1IM \u0427\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 Identity Manager 8.0 - Target System Synchronization Reference Guide (oneidentity.com) \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432 1IM \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u043e\u0441\u044c \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 - \u043d\u0430\u0434\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0441\u0432\u044f\u0437\u044c M:N (\u043c\u043d\u043e\u0433\u0438\u0435 \u043a\u043e \u043c\u043d\u043e\u0433\u0438\u043c). \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u0435 \u0432 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b VRT_Members \u0421\u043a\u0440\u0438\u043f\u0442 \u0447\u0442\u0435\u043d\u0438\u044f Dim Members As String = \\$grolist\\$ Dim strResult As String = Members.Replace(\"{\",\"\") Dim arrResult As String() strResult = strResult.Replace(\"}\",\"\") arrResult = Split(strResult,\",\") Return arrResult \u0421\u043a\u0440\u0438\u043f\u0442 \u0437\u0430\u043f\u0438\u0441\u0438 Dim VRT_Members As String() = value Dim str As String = \"\" Dim trimChars As Char() = {CChar(\",\")} if ( VRT_Members IsNot Nothing AndAlso VRT_Members.Length > 0 ) then For Each VRT_Member As String in VRT_Members str = str & \",\" & VRT_Member Next str = \"{\" & str.TrimStart(trimChars) & \"}\" \\$grolist\\$ := str Else \\$grolist\\$ := Nothing End If \u0417\u0430\u0442\u0435\u043c, \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 UNSGroupB \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u0435 M:N (VRT_Member) \u0414\u0435\u043b\u0430\u0435\u043c \u043c\u0430\u043f\u043f\u0438\u043d\u0433 VRT_Member - VRT_Members \u0412 \u043e\u0431\u0449\u0435\u043c , \u043d\u0430\u0434\u043e \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432 VRT_Member - VRT_Member \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0430 Update UNS_GroupB ADHoc \u0438 \u0432 \u043f\u043e\u043b\u0435 ForceSyncOf \u0434\u043b\u044f \u0448\u0430\u0433\u0430 ProjectorComponent - AdHocProjection \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 VRT_Member (\u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 UNS_GroupB \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f) I have added the virtual attribute to the ForceSyncOf parameter of the \"Update Account\" step of the \"ADS_ADSAccount_Update/(De-)activate\" process. That seems to do the trick. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/26629/virtual-mapping-attribute-object-reference-not-provisioned-in-adhoc > Identity Manager 8.1.4 - Target System Synchronization Reference Guide (oneidentity.com) \u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u044f, \u0430 \u043d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0442\u0438\u0440\u0430\u043d\u0438\u0435 \u043f\u0440\u0438 Update \u0433\u0440\u0443\u043f\u043f\u044b, \u043d\u0430\u0434\u043e \u0434\u043b\u044f \u043f\u043e\u043b\u044f M:N (VRT_Members) \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 \" Enable relative complement handling (requred for member rules) \" \u041d\u041e! \u043c\u0430\u043f\u043f\u0438\u0442\u044c \u0432 \u0442\u0430\u043a\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0434\u043e \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0441 \u043f\u043e\u043b\u0435\u043c \u0442\u0438\u043f\u0430 SystemObjectData (\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0438\u0437 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0443 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0441\u0442\u043e\u044f\u0442 \u0433\u0430\u043b\u043a\u0438 IsMultiValue \u0438 IsReference \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043a\u0435 OneIM Synchronization Technology (Multi-reference mapping rule, Enable relative complement handling) \u0415\u0441\u043b\u0438 \u043d\u0435 \u043d\u0430\u0434\u043e \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u043f\u0435\u0440\u0435\u0437\u0430\u0442\u0438\u0440\u0430\u0442\u044c \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e, \u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0438 Enable merging \u0412 \u0442\u0430\u043a\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DPRMemberShipAction. Did you tried to use the events ASSIGN and REMOVE instead of INSERT and DELETE? For M:N tables these are the ones to go. In addition, what type of connector are you using? From \\< https://www.oneidentity.com/community/identity-manager/f/forum/29657/adhocprojection-works-for-insert-but-not-for-delete > \u0415\u0441\u043b\u0438 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u043d\u0435 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435, \u0430 \u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 (\u043e\u043d \u0447\u043b\u0435\u043d \u0433\u0440\u0443\u043f\u043f) \u0442\u043e \u044d\u0442\u043e \u0441\u043b\u043e\u0436\u043d\u0435\u0435 - \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044e\u0442 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u0432 \u0422\u041f How does AccountInGroup Ad-Hoc Provisioning work? => how to update multi-valued attrib on account not group - Forum - Identity Manager Community - One Identity Community Can forcesyncof functionality inserts an account at target if not found? From \\< https://www.oneidentity.com/community/identity-manager/f/forum/32031/can-forcesyncof-functionality-inserts-an-account-at-target-if-not-found > \u0414\u043b\u044f AdHoc \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 Assign/Remove \u0432 Insert/Delete If you move to ASSIGN/REMOVE events then that would also have to align correctly. If needed, there is an example with the Azure Connector pre-script where it transforms ASSIGN/REMOVE to INSERT/DELETE before calling Get_AdHocData(), so that the Provisioning process operation would have 'Insert' in it. Dim evt as String = EventName If evt.Equals(\"Assign\", StringComparison.OrdinalIgnoreCase) _ OrElse evt.Equals(\"HandleOutStanding\", StringComparison.OrdinalIgnoreCase) then evt = \"Insert\" ElseIf evt.Equals(\"Remove\", StringComparison.OrdinalIgnoreCase) then evt = \"Delete\" End If Imports System.Collections.Generic Dim data As IDictionary(Of String,string) = DPR_GetAdHocData( _ \\$FK(UID_AADUser).FK(UID_AADOrganization).XObjectKey\\$, _ \"AzureAD\",\"\",evt) Sync Project - inserting objects works but not the update - Forum - Identity Manager Community - One Identity Community \u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0441\u043e\u0431\u044b\u0442\u0438\u0435\u043c Assign ADSAccountBInADSGroupB - \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f ADHoc Provisionning \u043d\u0430 \u044d\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u041d\u0430\u0434\u043e \u0432\u043e 1\u0445 \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c Assign \u043d\u0430 Insert. \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0441\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (\u0412 PreScript) Dim evt as String = EventName If evt.Equals(\"Assign\", StringComparison.OrdinalIgnoreCase) _ OrElse evt.Equals(\"HandleOutStanding\", StringComparison.OrdinalIgnoreCase) then evt = \"Insert\" End If data = DPR_GetAdHocData(\\$FK(UID_UNSGroupB).FK(UID_UNSRootB).XObjectKey\\$,\"DB\",\"\", evt ) \u0412\u043e \u0432\u0442\u043e\u0440\u044b\u0445 - \u0443\u0431\u0440\u0430\u0442\u044c Condition \u0438\u0437 \u0448\u0430\u0433\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 AdHoc Provisioning, \u0442\u0430\u043a \u043a\u0430\u043a \u043e\u043d \u0432 values(\"NeedExecute\") \u043f\u0438\u0448\u0435\u0442 False \u043f\u043e\u0447\u0435\u043c\u0443 \u0442\u043e \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 Single Object Operation - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0438 \u043f\u043e\u0442\u043e\u043c, \u0432 pre-script AdHoc \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u044d\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432 DPR_GetAdHocData data = DPR_GetAdHocData(\\$FK(UID_UNSAccountB).FK(UID_UNSRootB).XObjectKey\\$,\"DB\",\"\",\"Delete\") From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.1/target-system-synchronization-reference-guide/40#TOPIC-1246704 > \u041f\u0440\u0438 \u043f\u0440\u043e\u0432\u0438\u0436\u0438\u043d\u0438\u043d\u0433\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 AccountName UNSAccountB \u0432 usename Postgres \u0414\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u0430 CN \\<- usename \u043d\u0430\u0434\u043e \u0443\u0431\u0440\u0430\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Ignore mapping direction restriction on adding \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 Force mapping against direction of synchronization - \u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f ObjectGuid \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0432\u0438\u0436\u0438\u043d\u043d\u0438\u043d\u0433\u0430 \u0421\u0434\u0435\u043b\u0430\u043b \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Read \u043d\u0430 UNSAccountB \u0438 UNSGroupB. \u0422\u0430\u043c \u0437\u0430\u043f\u0438\u043b\u0438\u043b \u043f\u0440\u043e\u0446\u0435\u0441\u0441 ProjectorComponent - UpdateProjection \u0417\u0430\u0442\u0435\u043c, \u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0438 Insert \u0434\u043e\u0431\u0430\u0432\u0438\u043b \u0432\u044b\u0437\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u044f Read \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f / \u0433\u0440\u0443\u043f\u043f\u044b (HandleObjectComponent - FireGenEvent) \u041c\u0430\u043f\u043f\u0438\u043d\u0433\u0438 \u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u043e\u0439 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (verify project) \u041f\u043e\u0441\u0442\u0430\u0432\u0438\u043b \u0432 Workflow \u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u043b\u0441\u044f ObjectGUID \u0443 UNSAccountB \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0432\u044b\u0437\u043e\u0432\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f Read. \u0420\u0435\u0448\u0438\u043b\u0430\u0441\u044c \u043f\u0443\u0442\u0435\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0430\u0443\u0437\u044b \u043c\u0435\u0436\u0434\u0443 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435\u043c \u0438 \u0447\u0442\u0435\u043d\u0438\u0435\u043c \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 = 2 \u043c\u0438\u043d. \u0424\u0438\u043b\u044c\u0442\u0440 UNSAccountBInUNSGroupB UID_UNSAccountB IN (select UID_UNSAccountB from UNSAccountB JOIN UNSRootB ON UNSAccountB.UID_UNSRootB = UNSRootB.UID_UNSRootB where UNSRootB.Ident_UNSRoot = 'GreenPlum2') \u0414\u043b\u044f \u0433\u0440\u0443\u043f\u043f \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 UID_UNSGroupBChild IN (select UID_UNSGroupB from UNSGroupB JOIN UNSRootB ON UNSGroupB.UID_UNSRootB = UNSRootB.UID_UNSRootB where UNSRootB.Ident_UNSRoot = 'GreenPlum1') UID_UNSGroupBChild IN (select UID_UNSGroupB from UNSGroupB JOIN UNSRootB ON UNSGroupB.UID_UNSRootB = UNSRootB.UID_UNSRootB where UNSRootB.Ident_UNSRoot = '\\$UNSRootB_Name\\$' ) \u0424\u0438\u043b\u044c\u0442\u0440 UNSRootB CanonicalName = '\\$UNSRootB_Name\\$' and UID_DPRNameSpace = (select UID_DPRNameSpace from DPRNameSpace where Ident_DPRNameSpace = '\\$Ident_DPRNameSpace\\$') \u0412 \\$ - \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 Start the Synchronization Editor with option \"-d\" using a command line: E.g.: C:\\Program Files\\One Identity\\One Identity Manager\\SynchronizationEditor.exe -d When the Synchronization Editor opens there will be additional save and export options: From \\< https://support.oneidentity.com/identity-manager/kb/187752/how-to-export-the-synchronization-project-shell-from-the-synchronization-editor > \u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (\u044d\u043a\u0441\u043f\u043e\u0440\u0442/\u0438\u043c\u043f\u043e\u0440\u0442) \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0431\u0435\u043a\u0430\u043f! \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0440\u0430\u0439\u0432\u0435\u0440 ODBC (psqlodbc_13_00_0000) \u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u0441\u043a\u0443\u044e \u0441\u0442\u0430\u043d\u0446\u0438\u044e \u0438 \u043d\u0430 JobServer! [\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438](onenote:#One%20Identity%20Native%20DB%20Connector&section-id=[REDACTED_USER] \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u043a\u0441\u043f\u043e\u0440\u0442 Custom Processes \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0435\u0441\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (Native Database Connector, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440) \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0411\u0414 (Target System -> Edit Connection) \u0412 Manager \u0421\u043e\u0437\u0434\u0430\u0442\u044c Target System Type (\u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 group merging behavior - \u0435\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e) \u0438 \u0441\u0430\u043c\u0438 Custom Target Systems \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c Base Object \u0432 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c JobServer (\u0443 \u043d\u0435\u0433\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d \u0442\u0438\u043f \u043f\u043e\u0434 \u044d\u0442\u043e\u0442 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440!) \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0438\u0433\u0433\u0435\u0440\u044b \u0434\u043b\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 (Insert/Update/Delete) AdHoc (\u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 - Single Object Operations) \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c Custom Processes \u0447\u0442\u043e\u0431\u044b \u0441\u0432\u044f\u0437\u0430\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0441 UNS \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438 \u0438 \u0432\u044b\u0437\u043e\u0432 Workflow \u0421\u0434\u0435\u043b\u0430\u0442\u044c Acc Definitions! \u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u043f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 Acc Definition \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f UNSAccountB \u0438 \u0440\u0443\u0433\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043f\u0430\u0440\u043e\u043b\u0435\u0439 \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0434\u043b\u044f \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u043e\u0439 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438 \u043d\u0435 \u0431\u044b\u043b \u0443\u043a\u0430\u0437\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0438 \u043f\u0440\u0438 \u0441\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 onSaving \u0431\u0440\u0430\u043b\u0441\u044f \u044d\u0442\u043e\u0442 null \u043f\u0430\u0440\u043e\u043b\u044c \u0438 \u043e\u043d \u043d\u0435 \u043f\u043e\u0434\u043f\u0430\u0434\u0430\u043b \u043f\u043e\u0434 \u044d\u0442\u0443 \u0436\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443. \u0421\u043e\u0437\u0434\u0430\u043b \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u0443\u044e \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043f\u0430\u0440\u043e\u043b\u0435\u0439 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e UNSRootB \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u0435\u0437 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 Deferred \u041d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f Update AdHoc \u041d\u0430\u0434\u043e \u0438\u0437 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0448\u0430\u0433\u0430 \u0443\u0431\u0440\u0430\u0442\u044c Value = Cbool(values(\"NeedExecute\")) \u041d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f ObjectGUID \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u044b \u0421\u0442\u0440\u0430\u043d\u043d\u0430\u044f \u0448\u0442\u0443\u043a\u0430, \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u041f\u0440\u0438\u0448\u043b\u043e\u0441\u044c \u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 ADHoc \u0438 \u0437\u0430\u0442\u0435\u043c \u0447\u0442\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f ObjectGUID \u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0447\u0442\u0435\u043d\u0438\u044f \u0438\u0437 \u0411\u0414 \u0432\u0430\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c ProjectorComponent - UpdateProjectionSingle ----- \u0418 \u044d\u0442\u0430 \u0448\u0442\u0443\u043a\u0430 \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442((( \u0412 \u043e\u0431\u0449\u0435\u043c, \u043f\u043e\u043a\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0441\u044f \u043d\u0430 \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u044e \u0435\u043c\u0443 ObjectGUID \u0440\u0430\u043d\u0434\u043e\u043c\u043d\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c \u0412 Pre-Script \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 Dim rndObjectGUID As Integer = CInt(Int((50000 * Rnd()))) values(\"rndObjectGUID\") = rndObjectGUID \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 ObjectGUID \u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u0442\u044b \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u043c \u0441\u0442\u0440\u043e\u043a\u0438 Read script \u043f\u0443\u0441\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e provisioning \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 custom target system \u0418 \u0435\u0449\u0451 \u0444\u0438\u0448\u043a\u0430- \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0435 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 If column = \"valuntil\" Then sql.AppendFormat(\"ALTER ROLE {0} VALID UNTIL {1};\", \"\"\"\" & record.GetValue(\"usename\", \"\") & \"\"\"\", \"'\" & record.GetValue(\"valuntil\", \"\") & \"'\" ) sql.AppendLine() End If \u0414\u0430\u0442\u0443 \u043d\u0430\u0434\u043e \u0437\u0430\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0432 \u0430\u043f\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u044b, \u0430 \u043d\u0435 \u0432 \u043a\u0430\u0432\u044b\u0447\u043a\u0438!!! \u041e\u0442\u043a\u0430\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0438\u0437 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0412 SyncEditor \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0434\u0435\u043b\u0430\u0435\u043c MarkAsOutstanding \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u0438\u0437\u043c\u0435\u043d\u0438\u0432\u0448\u0438\u0435\u0441\u044f \u0443\u0447\u0435\u0442\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043f\u0430\u0434\u0430\u0442\u044c \u0432 \u0415\u0441\u043b\u0438 \u043d\u0430\u0436\u043c\u0435\u043c \u043d\u0430 Publish \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u043a\u0438, \u0442\u043e \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 HandleOutstanding (HANDLEOUTSTANDING - UNSAccountB), \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u043c \u043b\u043e\u0432\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u043c \u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u043b Publish \u043d\u0430\u0434\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Can be Published! Pre-Script If Not CBool(Connection.Variables(\"FULLSYNC\")) AndAlso _ \\$FK(UID_UNSRootB).NamespaceManagedBy:String\\$.Equals(\"VISYNC\",StringComparison.OrdinalIgnoreCase) Then Imports System.Collections.Generic Dim data As IDictionary(Of String,string) = Nothing values(\"AdHocDataFound\") = False values(\"NeedExecute\") = False values(\"SystemType\") = \"DB\" Dim dbDataFound As Boolean = true ' try to get DB data: ' the second parameter has to correspond to the SystemType field of the DPRSchema. ' Try data = DPR_GetAdHocData(\\$FK(UID_UNSRootB).XObjectKey\\$,\"DB\",\"\",\"Update\") 'values(\"SyncType\") = \"DB\" Catch ex As Exception dbDataFound = false End Try If Not data is Nothing values(\"AdHocDataFound\") = True values(\"NeedExecute\") = DPR_NeedExecuteWorkflow(data(\"ProjectionConfigUID\").ToString(),entity) values(\"ObjectKey\") = New DbObjectKey(base.Tablename,\\$UID_UNSAccountB\\$).ToXmlString() values(\"UID_DPRSystemVariableSet\") = data(\"VariableSetUID\") values(\"UID_DPRProjectionConfiguration\") = data(\"ProjectionConfigUID\") values(\"UID_QBMServer\") = data(\"ExecutionServerUID\") values(\"cn\") = \\$cn\\$ End if 'VID_Write2Log(\"C:\\temp\\GreenPlum.txt\", \\$AccountName\\$ & \" will created in GreenPlum \" & \"AdHocDataFound=\" & CStr(values(\"AdHocDataFound\")).toString() ) End If Condition Value = Not CBool(Connection.Variables(\"FULLSYNC\")) AndAlso _ \\$FK(UID_UNSRootB).NamespaceManagedBy:String\\$.Equals(\"VISYNC\",StringComparison.OrdinalIgnoreCase) AndAlso _ Cbool(values(\"AdHocDataFound\")) -- \u0417\u0430\u0442\u0435\u043c, \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 Update user GreenPlum \u0412 ForceSyncOf \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0438, \u043a\u0430\u043a \u0432 ObjectBrowser! Failover Failover mechanism for Active Directory connector - Forum - Identity Manager Community - One Identity Community You could convert the CP_ADServer variable into a scripted variable in the sync project (for a FullSync my comments from above apply. No synchronization optimization allowed then). In the script, you could determine a DC of your domain and do some other checks as well (ping, login, whatsoever). The sample script is just taking the first domain controller it gets from the collection: Further enhancements would be to check the DC classes, ping time, etc. Fullscreen References System.DirectoryServices.dll Imports System.DirectoryServices.ActiveDirectory Dim RootDN as String = VariableSet.Item(\"CP_ADRootdn\") Dim DomainName As String = RootDN.Replace(\",dc=\",\".\").Replace(\"dc=\",\"\") Dim DomainCon As New DirectoryContext(DirectoryContextType.Domain, DomainName) Dim DCs As DomainControllerCollection = Domain.GetDomain(DomainCon).DomainControllers Return DCs.Item(0).Name 'For Each DC As DirectoryServices.ActiveDirectory.DomainController In DCs ' Return DC.Name 'Next From \\< https://www.oneidentity.com/community/identity-manager/f/forum/31749/failover-mechanism-for-active-directory-connector > ----- \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432, \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e! ---- \u0414\u043b\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 AdHoc, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c, \u0447\u0442\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 data \u0412 PreScript data = DPR_GetAdHocData (\\$FK(UID_UNSGroupB).FK(UID_UNSRootB).XObjectKey\\$,\"DB\",\"\",evt) \u0418\u0442\u043e\u0433\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u0432\u043e\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 select * from DPRRootObjConnectionInfo where (ObjectKeyRoot = '\\<Key>\\<T>UNSRootB\\</T>\\<P>82b349c1-8d67-4b65-b26a-bdc9d15233bc\\</P>\\</Key>') and (UID_DPRSystemConnection IN ( Select UID_DPRSystemConnection FROM DPRSystemConnection WHERE UID_DPRSchema IN ( Select UID_DPRSchema FROM DPRSchema WHERE SystemType = N'Posh') And isnull(Name, N'') \\<> N'MainConnection')) \u0414\u043b\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 AdHoc \u0432\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 data \u0432 \u043b\u043e\u0433 VID_Write2Log(\"C:\\..\",xObjectKey) VID_Write2Log(\"C:\\..\",ex.ErrorString) (\u0432 Catch) -- for each item as KeyValuePair(of String, String) in data VID_Write2Log(\"C:\\..\",item.key & \" -> \" & item.Value) Next -- VID_Write2Log(\"C:\\..\",dbDataFound.tostring()) \u041d\u0435 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u043f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044e Remove \u0442\u0430\u0431\u043b\u0438\u0446\u044b UNSAccountBInUNSGroupB \u0421\u0442\u0440\u0430\u043d\u043d\u0430\u044f \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f - \u0435\u0441\u043b\u0438 \u043b\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e REMOVE - \u0442\u043e PreScript \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u043c\u0430\u0448\u0438\u043d\u0435, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u043e \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 (\u041d\u0430 \u043c\u0430\u0448\u0438\u043d\u0435, \u0433\u0434\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d Manager.) \u0438 \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u043d\u0435 \u043e\u0442\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u043b\u043e\u0432\u0438\u0442\u044c Delete - \u0442\u043e \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e \u0432\u0441\u0435. \u041a\u0430\u043a \u0432\u0430\u0440\u0438\u0430\u043d\u0442, \u043c\u043e\u0436\u043d\u043e \u043d\u0430 REMOVE \u043d\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c ADHoc \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438, \u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0447\u0435\u0440\u0435\u0437 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u0435\u043b\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0411\u0414. \u041f\u043e\u0445\u043e\u0436\u0430\u044f \u0442\u0440\u0430\u0431\u043b\u0430 https://www.oneidentity.com/community/identity-manager/f/forum/29657/adhocprojection-works-for-insert-but-not-for-delete \u0412 Object Browser \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a view \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 (\u0433\u0440\u0443\u043f\u043f\u0430 - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c) \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \"1 object(s) should be reloaded but \u2026 \" \u0414\u043b\u044f view, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043e\u0434\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c\u0441\u044f \u043f\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c \u043a\u043e\u043b\u043e\u043d\u043a\u0430\u043c \u043d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c Column group - \u044d\u0442\u043e \u0438 \u0431\u0443\u0434\u0435\u0442 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u043a\u043b\u044e\u0447\u0435\u043c! Identity Manager 8.0.1 - Native Database Connector User Guide for Connecting Oracle Databases (oneidentity.com) Postgres/Greenplum \u0441\u043a\u0440\u0438\u043f\u0442 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 Dim succProcessed As IList(Of CommitRecord) = New List(Of CommitRecord)() Dim sql As New StringBuilder() Dim strGroupName As String Dim strMemberName As String Dim strUseNameOld As String Dim strGroNameOld As String Dim strUseName As String Dim transaction As IDbTransaction = Nothing Try ' Create transaction transaction = connection.BeginTransaction() ' Create database command Using cmd As IDbCommand = connection.CreateCommand() ' Assign transaction to SQL command cmd.Transaction = transaction ' Loop through list of changed records For Each record As CommitRecord In records ' Switch by operation type (INSERT, UPDATE or DELETE) Select Case operation Case MultiPassCommitStrategyOperation.ProcessInserts Select Case tableName.ToLowerInvariant() Case \"pg_user\" ' Prepare SQL Statement ' TODO format the value sql.AppendFormat(\"CREATE USER {0};\", record.GetValue(\"usename\", \"\")) ' TODO format the value sql.AppendLine() Exit Select Case \"pg_group\" sql.AppendFormat(\"CREATE ROLE {0};\", record.GetValue(\"groname\", \"\")) ' TODO format the value sql.AppendLine() Exit Select Case \"pg_auth_members_users\" 'Log.Debug([String].Format(\"Select from pg_group\")) sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"roleid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroupName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"SELECT usename FROM pg_user WHERE usesysid = {0};\", record.GetValue(Of Int64)(\"member\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strMemberName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"GRANT {0} TO {1};\", strGroupName, strMemberName) ' TODO format the value sql.AppendLine() Exit Select Case \"pg_auth_members_groups\" Log.Debug([String].Format(\"Select from pg_group\")) sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"roleid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroupName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"member\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strMemberName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"GRANT {0} TO {1};\", strGroupName, strMemberName) ' TODO format the value sql.AppendLine() Exit Select End Select Exit Select Case MultiPassCommitStrategyOperation.ProcessUpdates Select Case tableName.ToLowerInvariant() Case \"pg_user\" For Each column As String In record.TouchedColumns If column = \"usename\" Then sql.AppendFormat(\"SELECT usename FROM pg_user WHERE usesysid = {0};\", record.GetValue(Of Int64)(\"usesysid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strUseNameOld = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"ALTER ROLE {0} RENAME TO {1};\", strUseNameOld, record.GetValue(\"usename\", \"\")) ' TODO format the value sql.AppendLine() End If Next Exit Select Case \"pg_group\" For Each column As String In record.TouchedColumns If column = \"groname\" Then sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"grosysid\")) 'Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroNameOld = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"ALTER ROLE {0} RENAME TO {1};\", strGroNameOld, record.GetValue(\"groname\", \"\")) ' TODO format the value sql.AppendLine() End If Next Exit Select End Select Exit Select Case MultiPassCommitStrategyOperation.ProcessDeletes Select Case tableName.ToLowerInvariant() Case \"pg_user\" 'sql.AppendFormat(\"delete pg_user where PKColumn = {0}\", record.GetValue(Of [String])(\"PKColumn\")) sql.AppendFormat(\"DROP ROLE {0};\", record.GetValue(Of [String])(\"usename\")) 'TODO: Use correct datatype for your primary key column Exit Select Case \"pg_group\" sql.AppendFormat(\"DROP ROLE {0};\", record.GetValue(Of [String])(\"groname\")) Exit Select Case \"pg_auth_members_users\" sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"roleid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroupName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"SELECT usename FROM pg_user WHERE usesysid = {0};\", record.GetValue(Of Int64)(\"member\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strMemberName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"REVOKE {0} FROM {1};\", strGroupName, strMemberName) ' TODO format the value sql.AppendLine() Exit Select Case \"pg_auth_members_groups\" sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"roleid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroupName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"member\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strMemberName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"REVOKE {0} FROM {1};\", strGroupName, strMemberName) ' TODO format the value sql.AppendLine() Exit Select End Select Exit Select End Select ' Execute SQL command if something is to do If Not String.IsNullOrEmpty(sql.ToString()) Then ' Execute SQL Command cmd.CommandText = sql.ToString() cmd.ExecuteNonQuery() ' Add record to list of succesfull provisioned objects succProcessed.Add(record) End If Next ' Commit transaction transaction.Commit() End Using Catch If transaction IsNot Nothing Then transaction.Rollback() End If Throw End Try Return succProcessed","title":"2.3 One Identity Native DB Connector"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#postgesql","text":"DSN PostgreSQL35W Driver={PostgreSQL UNICODE};Database=test001;Server=[REDACTED_HOST];Port=5432;Uid=[REDACTED_USER];Pwd=; \u042d\u0442\u0443 \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0441\u044e\u0434\u0430","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a PostgeSQL"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#_1","text":"","title":""},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#system-dsn-odbc","text":"","title":"\u041b\u0438\u0431\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c System DSN \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u043b\u0438 \u0432 \u041f\u0430\u043d\u0435\u043b\u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f ODBC"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#_2","text":"","title":""},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#_3","text":"","title":""},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#system-filter-scope-1im","text":"CanonicalName = 'GreenPlum' and UID_DPRNameSpace = (select UID_DPRNameSpace from DPRNameSpace where Ident_DPRNameSpace = 'GreenPlum')","title":"System Filter \u0434\u043b\u044f Scope 1IM"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#mapping-rules","text":"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 Taken from mapping - \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0431\u0440\u0430\u0442\u044c\u0441\u044f \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u0437 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0441\u0430\u043c\u043e\u0433\u043e \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430, \u0430 \u043d\u0435 \u0438\u0437 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430 (\u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0430 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432) Ignore mapping direction restrictions on adding \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0435 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435, \u0442\u043e \u0435\u0441\u0442\u044c \u0435\u0441\u043b\u0438 \u0437\u0430\u0434\u0430\u043d \u043c\u0430\u043f\u043f\u0438\u043d\u0433 \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0432 1IM \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0444\u043b\u0430\u0436\u043a\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0442\u0430\u0440\u0433\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f AD \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0430\u043f\u0440\u0430\u043b\u0435\u043d\u0438\u0435 GUID \u0442\u043e\u043b\u044c\u043a\u043e \u0432 1IM. \u0415\u0441\u043b\u0438 \u044d\u0442\u043e\u0442 \u0444\u043b\u0430\u0433 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d - \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 AD, \u0447\u0442\u043e \u043d\u0430\u043c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e. \u041d\u0443\u0436\u043d\u043e \u0443\u0431\u0438\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0444\u043b\u0430\u0433 \u0434\u043b\u044f \u0441\u0432\u043e\u0439\u0441\u0442\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0433\u0435\u043d\u0435\u0440\u044f\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b. Force mapping against direction of synchronization \u042d\u0442\u043e \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0435\u0441\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0435\u0441\u0442\u044c workflow \u043f\u0440\u043e\u0432\u0438\u0437\u0438\u043e\u043d\u043d\u0438\u043d\u0433\u0430 \u0438 \u0432 \u043d\u0435\u043c \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 GUID \u0432 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443 - \u0442\u043e \u0441 \u044d\u0442\u0438\u043c \u0444\u043b\u0430\u0433\u043e\u043c, \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0432\u0438\u0437\u0438\u043e\u043d\u043d\u0438\u043d\u0433\u0430 - \u0434\u0430\u043d\u043d\u044b\u0435 GUID \u0438\u0437 \u0442\u0430\u0440\u0433\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0432 1IM. (\u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u0442\u0430\u043c \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u0442\u0441\u044f GUID) Detecting rogue modifications \u0411\u0443\u0434\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0442\u0430\u0440\u0433\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u044b\u0435 \u0431\u044b\u043b\u0438 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u044b \u0431\u0435\u0437 \u0432\u0435\u0434\u043e\u043c\u0430 1IM \u0438 \u043f\u0438\u0441\u0430\u0442\u044c \u0438\u0445 \u0432 \u043b\u043e\u0433. Correct rogue modifications \u0411\u0443\u0434\u0435\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0442\u0430\u0440\u0433\u0435\u0442 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 1IM","title":"Mapping Rules"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#_4","text":"Identity Manager 8.0 - Target System Synchronization Reference Guide (oneidentity.com) \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432 1IM \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u043e\u0441\u044c \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432 \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 - \u043d\u0430\u0434\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0441\u0432\u044f\u0437\u044c M:N (\u043c\u043d\u043e\u0433\u0438\u0435 \u043a\u043e \u043c\u043d\u043e\u0433\u0438\u043c). \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u0435 \u0432 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b VRT_Members \u0421\u043a\u0440\u0438\u043f\u0442 \u0447\u0442\u0435\u043d\u0438\u044f Dim Members As String = \\$grolist\\$ Dim strResult As String = Members.Replace(\"{\",\"\") Dim arrResult As String() strResult = strResult.Replace(\"}\",\"\") arrResult = Split(strResult,\",\") Return arrResult \u0421\u043a\u0440\u0438\u043f\u0442 \u0437\u0430\u043f\u0438\u0441\u0438 Dim VRT_Members As String() = value Dim str As String = \"\" Dim trimChars As Char() = {CChar(\",\")} if ( VRT_Members IsNot Nothing AndAlso VRT_Members.Length > 0 ) then For Each VRT_Member As String in VRT_Members str = str & \",\" & VRT_Member Next str = \"{\" & str.TrimStart(trimChars) & \"}\" \\$grolist\\$ := str Else \\$grolist\\$ := Nothing End If \u0417\u0430\u0442\u0435\u043c, \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 UNSGroupB \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u043e\u043b\u0435 M:N (VRT_Member) \u0414\u0435\u043b\u0430\u0435\u043c \u043c\u0430\u043f\u043f\u0438\u043d\u0433 VRT_Member - VRT_Members \u0412 \u043e\u0431\u0449\u0435\u043c , \u043d\u0430\u0434\u043e \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432 VRT_Member - VRT_Member \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0430 Update UNS_GroupB ADHoc \u0438 \u0432 \u043f\u043e\u043b\u0435 ForceSyncOf \u0434\u043b\u044f \u0448\u0430\u0433\u0430 ProjectorComponent - AdHocProjection \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 VRT_Member (\u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 UNS_GroupB \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f) I have added the virtual attribute to the ForceSyncOf parameter of the \"Update Account\" step of the \"ADS_ADSAccount_Update/(De-)activate\" process. That seems to do the trick. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/26629/virtual-mapping-attribute-object-reference-not-provisioned-in-adhoc > Identity Manager 8.1.4 - Target System Synchronization Reference Guide (oneidentity.com) \u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u044f, \u0430 \u043d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0442\u0438\u0440\u0430\u043d\u0438\u0435 \u043f\u0440\u0438 Update \u0433\u0440\u0443\u043f\u043f\u044b, \u043d\u0430\u0434\u043e \u0434\u043b\u044f \u043f\u043e\u043b\u044f M:N (VRT_Members) \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 \" Enable relative complement handling (requred for member rules) \" \u041d\u041e! \u043c\u0430\u043f\u043f\u0438\u0442\u044c \u0432 \u0442\u0430\u043a\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u0434\u043e \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0441 \u043f\u043e\u043b\u0435\u043c \u0442\u0438\u043f\u0430 SystemObjectData (\u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e \u0438\u0437 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0443 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0441\u0442\u043e\u044f\u0442 \u0433\u0430\u043b\u043a\u0438 IsMultiValue \u0438 IsReference \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432 \u0434\u043e\u043a\u0435 OneIM Synchronization Technology (Multi-reference mapping rule, Enable relative complement handling) \u0415\u0441\u043b\u0438 \u043d\u0435 \u043d\u0430\u0434\u043e \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u043f\u0435\u0440\u0435\u0437\u0430\u0442\u0438\u0440\u0430\u0442\u044c \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e, \u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0438 Enable merging \u0412 \u0442\u0430\u043a\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044e \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DPRMemberShipAction. Did you tried to use the events ASSIGN and REMOVE instead of INSERT and DELETE? For M:N tables these are the ones to go. In addition, what type of connector are you using? From \\< https://www.oneidentity.com/community/identity-manager/f/forum/29657/adhocprojection-works-for-insert-but-not-for-delete > \u0415\u0441\u043b\u0438 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u043d\u0435 \u0432 \u0433\u0440\u0443\u043f\u043f\u0435, \u0430 \u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 (\u043e\u043d \u0447\u043b\u0435\u043d \u0433\u0440\u0443\u043f\u043f) \u0442\u043e \u044d\u0442\u043e \u0441\u043b\u043e\u0436\u043d\u0435\u0435 - \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044e\u0442 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c\u0441\u044f \u0432 \u0422\u041f How does AccountInGroup Ad-Hoc Provisioning work? => how to update multi-valued attrib on account not group - Forum - Identity Manager Community - One Identity Community","title":"\u0427\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#can-forcesyncof-functionality-inserts-an-account-at-target-if-not-found","text":"From \\< https://www.oneidentity.com/community/identity-manager/f/forum/32031/can-forcesyncof-functionality-inserts-an-account-at-target-if-not-found >","title":"Can forcesyncof functionality inserts an account at target if not found?"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#adhoc-assignremove-insertdelete","text":"If you move to ASSIGN/REMOVE events then that would also have to align correctly. If needed, there is an example with the Azure Connector pre-script where it transforms ASSIGN/REMOVE to INSERT/DELETE before calling Get_AdHocData(), so that the Provisioning process operation would have 'Insert' in it. Dim evt as String = EventName If evt.Equals(\"Assign\", StringComparison.OrdinalIgnoreCase) _ OrElse evt.Equals(\"HandleOutStanding\", StringComparison.OrdinalIgnoreCase) then evt = \"Insert\" ElseIf evt.Equals(\"Remove\", StringComparison.OrdinalIgnoreCase) then evt = \"Delete\" End If Imports System.Collections.Generic Dim data As IDictionary(Of String,string) = DPR_GetAdHocData( _ \\$FK(UID_AADUser).FK(UID_AADOrganization).XObjectKey\\$, _ \"AzureAD\",\"\",evt) Sync Project - inserting objects works but not the update - Forum - Identity Manager Community - One Identity Community","title":"\u0414\u043b\u044f AdHoc \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 Assign/Remove \u0432 Insert/Delete"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#assign-adsaccountbinadsgroupb-adhoc-provisionning","text":"\u041d\u0430\u0434\u043e \u0432\u043e 1\u0445 \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c Assign \u043d\u0430 Insert. \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0441\u044f \u0432 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (\u0412 PreScript) Dim evt as String = EventName If evt.Equals(\"Assign\", StringComparison.OrdinalIgnoreCase) _ OrElse evt.Equals(\"HandleOutStanding\", StringComparison.OrdinalIgnoreCase) then evt = \"Insert\" End If data = DPR_GetAdHocData(\\$FK(UID_UNSGroupB).FK(UID_UNSRootB).XObjectKey\\$,\"DB\",\"\", evt ) \u0412\u043e \u0432\u0442\u043e\u0440\u044b\u0445 - \u0443\u0431\u0440\u0430\u0442\u044c Condition \u0438\u0437 \u0448\u0430\u0433\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 AdHoc Provisioning, \u0442\u0430\u043a \u043a\u0430\u043a \u043e\u043d \u0432 values(\"NeedExecute\") \u043f\u0438\u0448\u0435\u0442 False \u043f\u043e\u0447\u0435\u043c\u0443 \u0442\u043e \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442 Single Object Operation - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0438 \u043f\u043e\u0442\u043e\u043c, \u0432 pre-script AdHoc \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u044d\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432 DPR_GetAdHocData data = DPR_GetAdHocData(\\$FK(UID_UNSAccountB).FK(UID_UNSRootB).XObjectKey\\$,\"DB\",\"\",\"Delete\") From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.1/target-system-synchronization-reference-guide/40#TOPIC-1246704 >","title":"\u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0441\u043e\u0431\u044b\u0442\u0438\u0435\u043c Assign ADSAccountBInADSGroupB - \u043d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f ADHoc Provisionning \u043d\u0430 \u044d\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#accountname-unsaccountb-usename-postgres","text":"\u0414\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u0430 CN \\<- usename \u043d\u0430\u0434\u043e \u0443\u0431\u0440\u0430\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Ignore mapping direction restriction on adding","title":"\u041f\u0440\u0438 \u043f\u0440\u043e\u0432\u0438\u0436\u0438\u043d\u0438\u043d\u0433\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 AccountName UNSAccountB \u0432 usename Postgres"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#force-mapping-against-direction-of-synchronization-objectguid","text":"\u0421\u0434\u0435\u043b\u0430\u043b \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Read \u043d\u0430 UNSAccountB \u0438 UNSGroupB. \u0422\u0430\u043c \u0437\u0430\u043f\u0438\u043b\u0438\u043b \u043f\u0440\u043e\u0446\u0435\u0441\u0441 ProjectorComponent - UpdateProjection \u0417\u0430\u0442\u0435\u043c, \u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0438 Insert \u0434\u043e\u0431\u0430\u0432\u0438\u043b \u0432\u044b\u0437\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u044f Read \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f / \u0433\u0440\u0443\u043f\u043f\u044b (HandleObjectComponent - FireGenEvent)","title":"\u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 Force mapping against direction of synchronization - \u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f ObjectGuid \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0432\u0438\u0436\u0438\u043d\u043d\u0438\u043d\u0433\u0430"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#_5","text":"","title":"\u041c\u0430\u043f\u043f\u0438\u043d\u0433\u0438"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#verify-project","text":"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u043b \u0432 Workflow","title":"\u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u043e\u0439 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 (verify project)"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#objectguid-unsaccountb-read","text":"\u0420\u0435\u0448\u0438\u043b\u0430\u0441\u044c \u043f\u0443\u0442\u0435\u043c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0430\u0443\u0437\u044b \u043c\u0435\u0436\u0434\u0443 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435\u043c \u0438 \u0447\u0442\u0435\u043d\u0438\u0435\u043c \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 = 2 \u043c\u0438\u043d.","title":"\u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u043b\u0441\u044f ObjectGUID \u0443 UNSAccountB \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0432\u044b\u0437\u043e\u0432\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f Read."},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#unsaccountbinunsgroupb","text":"UID_UNSAccountB IN (select UID_UNSAccountB from UNSAccountB JOIN UNSRootB ON UNSAccountB.UID_UNSRootB = UNSRootB.UID_UNSRootB where UNSRootB.Ident_UNSRoot = 'GreenPlum2') \u0414\u043b\u044f \u0433\u0440\u0443\u043f\u043f \u0432 \u0433\u0440\u0443\u043f\u043f\u0430\u0445 UID_UNSGroupBChild IN (select UID_UNSGroupB from UNSGroupB JOIN UNSRootB ON UNSGroupB.UID_UNSRootB = UNSRootB.UID_UNSRootB where UNSRootB.Ident_UNSRoot = 'GreenPlum1') UID_UNSGroupBChild IN (select UID_UNSGroupB from UNSGroupB JOIN UNSRootB ON UNSGroupB.UID_UNSRootB = UNSRootB.UID_UNSRootB where UNSRootB.Ident_UNSRoot = '\\$UNSRootB_Name\\$' )","title":"\u0424\u0438\u043b\u044c\u0442\u0440 UNSAccountBInUNSGroupB"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#unsrootb","text":"CanonicalName = '\\$UNSRootB_Name\\$' and UID_DPRNameSpace = (select UID_DPRNameSpace from DPRNameSpace where Ident_DPRNameSpace = '\\$Ident_DPRNameSpace\\$') \u0412 \\$ - \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435","title":"\u0424\u0438\u043b\u044c\u0442\u0440 UNSRootB"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#_6","text":"Start the Synchronization Editor with option \"-d\" using a command line: E.g.: C:\\Program Files\\One Identity\\One Identity Manager\\SynchronizationEditor.exe -d When the Synchronization Editor opens there will be additional save and export options: From \\< https://support.oneidentity.com/identity-manager/kb/187752/how-to-export-the-synchronization-project-shell-from-the-synchronization-editor >","title":"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#_7","text":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0431\u0435\u043a\u0430\u043f! \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u0440\u0430\u0439\u0432\u0435\u0440 ODBC (psqlodbc_13_00_0000) \u043d\u0430 \u0430\u0434\u043c\u0438\u043d\u0441\u043a\u0443\u044e \u0441\u0442\u0430\u043d\u0446\u0438\u044e \u0438 \u043d\u0430 JobServer! [\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u043a\u0441\u043f\u043e\u0440\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438](onenote:#One%20Identity%20Native%20DB%20Connector&section-id=[REDACTED_USER] \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u043a\u0441\u043f\u043e\u0440\u0442 Custom Processes \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0435\u0441\u0442\u044c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (Native Database Connector, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440) \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0411\u0414 (Target System -> Edit Connection) \u0412 Manager \u0421\u043e\u0437\u0434\u0430\u0442\u044c Target System Type (\u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 group merging behavior - \u0435\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e) \u0438 \u0441\u0430\u043c\u0438 Custom Target Systems \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c Base Object \u0432 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c JobServer (\u0443 \u043d\u0435\u0433\u043e \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d \u0442\u0438\u043f \u043f\u043e\u0434 \u044d\u0442\u043e\u0442 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440!) \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0438\u0433\u0433\u0435\u0440\u044b \u0434\u043b\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 (Insert/Update/Delete) AdHoc (\u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 - Single Object Operations) \u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c Custom Processes \u0447\u0442\u043e\u0431\u044b \u0441\u0432\u044f\u0437\u0430\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u0441 UNS \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438 \u0438 \u0432\u044b\u0437\u043e\u0432 Workflow \u0421\u0434\u0435\u043b\u0430\u0442\u044c Acc Definitions!","title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 (\u044d\u043a\u0441\u043f\u043e\u0440\u0442/\u0438\u043c\u043f\u043e\u0440\u0442)"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#acc-definition-unsaccountb","text":"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0434\u043b\u044f \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u043e\u0439 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438 \u043d\u0435 \u0431\u044b\u043b \u0443\u043a\u0430\u0437\u0430\u043d \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c \u0438 \u043f\u0440\u0438 \u0441\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 onSaving \u0431\u0440\u0430\u043b\u0441\u044f \u044d\u0442\u043e\u0442 null \u043f\u0430\u0440\u043e\u043b\u044c \u0438 \u043e\u043d \u043d\u0435 \u043f\u043e\u0434\u043f\u0430\u0434\u0430\u043b \u043f\u043e\u0434 \u044d\u0442\u0443 \u0436\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443. \u0421\u043e\u0437\u0434\u0430\u043b \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u0443\u044e \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043f\u0430\u0440\u043e\u043b\u0435\u0439 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e UNSRootB","title":"\u0422\u0440\u0430\u0431\u043b\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u043f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 Acc Definition \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f UNSAccountB \u0438 \u0440\u0443\u0433\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0443 \u043f\u0430\u0440\u043e\u043b\u0435\u0439"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#deferred","text":"","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0431\u0435\u0437 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 Deferred"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#update-adhoc","text":"\u041d\u0430\u0434\u043e \u0438\u0437 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0448\u0430\u0433\u0430 \u0443\u0431\u0440\u0430\u0442\u044c Value = Cbool(values(\"NeedExecute\"))","title":"\u041d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f Update AdHoc"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#objectguid","text":"\u0421\u0442\u0440\u0430\u043d\u043d\u0430\u044f \u0448\u0442\u0443\u043a\u0430, \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u041f\u0440\u0438\u0448\u043b\u043e\u0441\u044c \u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 ADHoc \u0438 \u0437\u0430\u0442\u0435\u043c \u0447\u0442\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f ObjectGUID \u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0447\u0442\u0435\u043d\u0438\u044f \u0438\u0437 \u0411\u0414 \u0432\u0430\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c ProjectorComponent - UpdateProjectionSingle ----- \u0418 \u044d\u0442\u0430 \u0448\u0442\u0443\u043a\u0430 \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442((( \u0412 \u043e\u0431\u0449\u0435\u043c, \u043f\u043e\u043a\u0430 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0441\u044f \u043d\u0430 \u0442\u043e\u043c, \u0447\u0442\u043e \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u044e \u0435\u043c\u0443 ObjectGUID \u0440\u0430\u043d\u0434\u043e\u043c\u043d\u044b\u043c \u0447\u0438\u0441\u043b\u043e\u043c \u0412 Pre-Script \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 Dim rndObjectGUID As Integer = CInt(Int((50000 * Rnd()))) values(\"rndObjectGUID\") = rndObjectGUID","title":"\u041d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0441\u044f ObjectGUID \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u044b"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#objectguid_1","text":"","title":"\u0417\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 ObjectGUID"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#_8","text":"Read script \u043f\u0443\u0441\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e provisioning \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 custom target system \u0418 \u0435\u0449\u0451 \u0444\u0438\u0448\u043a\u0430- \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0435 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 If column = \"valuntil\" Then sql.AppendFormat(\"ALTER ROLE {0} VALID UNTIL {1};\", \"\"\"\" & record.GetValue(\"usename\", \"\") & \"\"\"\", \"'\" & record.GetValue(\"valuntil\", \"\") & \"'\" ) sql.AppendLine() End If \u0414\u0430\u0442\u0443 \u043d\u0430\u0434\u043e \u0437\u0430\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u0432 \u0430\u043f\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u044b, \u0430 \u043d\u0435 \u0432 \u043a\u0430\u0432\u044b\u0447\u043a\u0438!!!","title":"\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u0442\u044b \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u0441 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u043c \u0441\u0442\u0440\u043e\u043a\u0438"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#_9","text":"\u0412 SyncEditor \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0434\u0435\u043b\u0430\u0435\u043c MarkAsOutstanding \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u0438\u0437\u043c\u0435\u043d\u0438\u0432\u0448\u0438\u0435\u0441\u044f \u0443\u0447\u0435\u0442\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043f\u0430\u0434\u0430\u0442\u044c \u0432 \u0415\u0441\u043b\u0438 \u043d\u0430\u0436\u043c\u0435\u043c \u043d\u0430 Publish \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u043a\u0438, \u0442\u043e \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 HandleOutstanding (HANDLEOUTSTANDING - UNSAccountB), \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u043c \u043b\u043e\u0432\u0438\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u043c \u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u043b Publish \u043d\u0430\u0434\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Can be Published! Pre-Script If Not CBool(Connection.Variables(\"FULLSYNC\")) AndAlso _ \\$FK(UID_UNSRootB).NamespaceManagedBy:String\\$.Equals(\"VISYNC\",StringComparison.OrdinalIgnoreCase) Then Imports System.Collections.Generic Dim data As IDictionary(Of String,string) = Nothing values(\"AdHocDataFound\") = False values(\"NeedExecute\") = False values(\"SystemType\") = \"DB\" Dim dbDataFound As Boolean = true ' try to get DB data: ' the second parameter has to correspond to the SystemType field of the DPRSchema. ' Try data = DPR_GetAdHocData(\\$FK(UID_UNSRootB).XObjectKey\\$,\"DB\",\"\",\"Update\") 'values(\"SyncType\") = \"DB\" Catch ex As Exception dbDataFound = false End Try If Not data is Nothing values(\"AdHocDataFound\") = True values(\"NeedExecute\") = DPR_NeedExecuteWorkflow(data(\"ProjectionConfigUID\").ToString(),entity) values(\"ObjectKey\") = New DbObjectKey(base.Tablename,\\$UID_UNSAccountB\\$).ToXmlString() values(\"UID_DPRSystemVariableSet\") = data(\"VariableSetUID\") values(\"UID_DPRProjectionConfiguration\") = data(\"ProjectionConfigUID\") values(\"UID_QBMServer\") = data(\"ExecutionServerUID\") values(\"cn\") = \\$cn\\$ End if 'VID_Write2Log(\"C:\\temp\\GreenPlum.txt\", \\$AccountName\\$ & \" will created in GreenPlum \" & \"AdHocDataFound=\" & CStr(values(\"AdHocDataFound\")).toString() ) End If Condition Value = Not CBool(Connection.Variables(\"FULLSYNC\")) AndAlso _ \\$FK(UID_UNSRootB).NamespaceManagedBy:String\\$.Equals(\"VISYNC\",StringComparison.OrdinalIgnoreCase) AndAlso _ Cbool(values(\"AdHocDataFound\")) -- \u0417\u0430\u0442\u0435\u043c, \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 Update user GreenPlum \u0412 ForceSyncOf \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u043e\u043b\u044f \u0434\u043b\u044f \u043f\u0440\u0438\u043d\u0443\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0438, \u043a\u0430\u043a \u0432 ObjectBrowser!","title":"\u041e\u0442\u043a\u0430\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0438\u0437 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#failover","text":"Failover mechanism for Active Directory connector - Forum - Identity Manager Community - One Identity Community You could convert the CP_ADServer variable into a scripted variable in the sync project (for a FullSync my comments from above apply. No synchronization optimization allowed then). In the script, you could determine a DC of your domain and do some other checks as well (ping, login, whatsoever). The sample script is just taking the first domain controller it gets from the collection: Further enhancements would be to check the DC classes, ping time, etc. Fullscreen References System.DirectoryServices.dll Imports System.DirectoryServices.ActiveDirectory Dim RootDN as String = VariableSet.Item(\"CP_ADRootdn\") Dim DomainName As String = RootDN.Replace(\",dc=\",\".\").Replace(\"dc=\",\"\") Dim DomainCon As New DirectoryContext(DirectoryContextType.Domain, DomainName) Dim DCs As DomainControllerCollection = Domain.GetDomain(DomainCon).DomainControllers Return DCs.Item(0).Name 'For Each DC As DirectoryServices.ActiveDirectory.DomainController In DCs ' Return DC.Name 'Next From \\< https://www.oneidentity.com/community/identity-manager/f/forum/31749/failover-mechanism-for-active-directory-connector > ----- \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432, \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e! ----","title":"Failover"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#adhoc-data","text":"\u0412 PreScript data = DPR_GetAdHocData (\\$FK(UID_UNSGroupB).FK(UID_UNSRootB).XObjectKey\\$,\"DB\",\"\",evt) \u0418\u0442\u043e\u0433\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442\u0441\u044f \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u0432\u043e\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 select * from DPRRootObjConnectionInfo where (ObjectKeyRoot = '\\<Key>\\<T>UNSRootB\\</T>\\<P>82b349c1-8d67-4b65-b26a-bdc9d15233bc\\</P>\\</Key>') and (UID_DPRSystemConnection IN ( Select UID_DPRSystemConnection FROM DPRSystemConnection WHERE UID_DPRSchema IN ( Select UID_DPRSchema FROM DPRSchema WHERE SystemType = N'Posh') And isnull(Name, N'') \\<> N'MainConnection'))","title":"\u0414\u043b\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 AdHoc, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c, \u0447\u0442\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 data"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#adhoc-data_1","text":"VID_Write2Log(\"C:\\..\",xObjectKey) VID_Write2Log(\"C:\\..\",ex.ErrorString) (\u0432 Catch) -- for each item as KeyValuePair(of String, String) in data VID_Write2Log(\"C:\\..\",item.key & \" -> \" & item.Value) Next -- VID_Write2Log(\"C:\\..\",dbDataFound.tostring())","title":"\u0414\u043b\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 AdHoc \u0432\u044b\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 data \u0432 \u043b\u043e\u0433"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#remove-unsaccountbinunsgroupb","text":"\u0421\u0442\u0440\u0430\u043d\u043d\u0430\u044f \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f - \u0435\u0441\u043b\u0438 \u043b\u043e\u0432\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e REMOVE - \u0442\u043e PreScript \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u043c\u0430\u0448\u0438\u043d\u0435, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u043e \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 (\u041d\u0430 \u043c\u0430\u0448\u0438\u043d\u0435, \u0433\u0434\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d Manager.) \u0438 \u0432 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u043d\u0435 \u043e\u0442\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u043b\u043e\u0432\u0438\u0442\u044c Delete - \u0442\u043e \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e \u0432\u0441\u0435. \u041a\u0430\u043a \u0432\u0430\u0440\u0438\u0430\u043d\u0442, \u043c\u043e\u0436\u043d\u043e \u043d\u0430 REMOVE \u043d\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u0442\u044c ADHoc \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438, \u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0447\u0435\u0440\u0435\u0437 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u0435\u043b\u0430\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0411\u0414. \u041f\u043e\u0445\u043e\u0436\u0430\u044f \u0442\u0440\u0430\u0431\u043b\u0430 https://www.oneidentity.com/community/identity-manager/f/forum/29657/adhocprojection-works-for-insert-but-not-for-delete","title":"\u041d\u0435 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 \u043f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044e Remove \u0442\u0430\u0431\u043b\u0438\u0446\u044b UNSAccountBInUNSGroupB"},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#object-browser-view-1-objects-should-be-reloaded-but","text":"\u0414\u043b\u044f view, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043e\u0434\u043d\u043e\u0437\u043d\u0430\u0447\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c\u0441\u044f \u043f\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c \u043a\u043e\u043b\u043e\u043d\u043a\u0430\u043c \u043d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c Column group - \u044d\u0442\u043e \u0438 \u0431\u0443\u0434\u0435\u0442 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u043a\u043b\u044e\u0447\u0435\u043c! Identity Manager 8.0.1 - Native Database Connector User Guide for Connecting Oracle Databases (oneidentity.com)","title":"\u0412 Object Browser \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0438 \u043a view \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 (\u0433\u0440\u0443\u043f\u043f\u0430 - \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c) \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \"1 object(s) should be reloaded but \u2026 \""},{"location":"2.3%20One%20Identity%20Native%20DB%20Connector/#postgresgreenplum","text":"Dim succProcessed As IList(Of CommitRecord) = New List(Of CommitRecord)() Dim sql As New StringBuilder() Dim strGroupName As String Dim strMemberName As String Dim strUseNameOld As String Dim strGroNameOld As String Dim strUseName As String Dim transaction As IDbTransaction = Nothing Try ' Create transaction transaction = connection.BeginTransaction() ' Create database command Using cmd As IDbCommand = connection.CreateCommand() ' Assign transaction to SQL command cmd.Transaction = transaction ' Loop through list of changed records For Each record As CommitRecord In records ' Switch by operation type (INSERT, UPDATE or DELETE) Select Case operation Case MultiPassCommitStrategyOperation.ProcessInserts Select Case tableName.ToLowerInvariant() Case \"pg_user\" ' Prepare SQL Statement ' TODO format the value sql.AppendFormat(\"CREATE USER {0};\", record.GetValue(\"usename\", \"\")) ' TODO format the value sql.AppendLine() Exit Select Case \"pg_group\" sql.AppendFormat(\"CREATE ROLE {0};\", record.GetValue(\"groname\", \"\")) ' TODO format the value sql.AppendLine() Exit Select Case \"pg_auth_members_users\" 'Log.Debug([String].Format(\"Select from pg_group\")) sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"roleid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroupName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"SELECT usename FROM pg_user WHERE usesysid = {0};\", record.GetValue(Of Int64)(\"member\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strMemberName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"GRANT {0} TO {1};\", strGroupName, strMemberName) ' TODO format the value sql.AppendLine() Exit Select Case \"pg_auth_members_groups\" Log.Debug([String].Format(\"Select from pg_group\")) sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"roleid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroupName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"member\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strMemberName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"GRANT {0} TO {1};\", strGroupName, strMemberName) ' TODO format the value sql.AppendLine() Exit Select End Select Exit Select Case MultiPassCommitStrategyOperation.ProcessUpdates Select Case tableName.ToLowerInvariant() Case \"pg_user\" For Each column As String In record.TouchedColumns If column = \"usename\" Then sql.AppendFormat(\"SELECT usename FROM pg_user WHERE usesysid = {0};\", record.GetValue(Of Int64)(\"usesysid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strUseNameOld = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"ALTER ROLE {0} RENAME TO {1};\", strUseNameOld, record.GetValue(\"usename\", \"\")) ' TODO format the value sql.AppendLine() End If Next Exit Select Case \"pg_group\" For Each column As String In record.TouchedColumns If column = \"groname\" Then sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"grosysid\")) 'Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroNameOld = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"ALTER ROLE {0} RENAME TO {1};\", strGroNameOld, record.GetValue(\"groname\", \"\")) ' TODO format the value sql.AppendLine() End If Next Exit Select End Select Exit Select Case MultiPassCommitStrategyOperation.ProcessDeletes Select Case tableName.ToLowerInvariant() Case \"pg_user\" 'sql.AppendFormat(\"delete pg_user where PKColumn = {0}\", record.GetValue(Of [String])(\"PKColumn\")) sql.AppendFormat(\"DROP ROLE {0};\", record.GetValue(Of [String])(\"usename\")) 'TODO: Use correct datatype for your primary key column Exit Select Case \"pg_group\" sql.AppendFormat(\"DROP ROLE {0};\", record.GetValue(Of [String])(\"groname\")) Exit Select Case \"pg_auth_members_users\" sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"roleid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroupName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"SELECT usename FROM pg_user WHERE usesysid = {0};\", record.GetValue(Of Int64)(\"member\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strMemberName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"REVOKE {0} FROM {1};\", strGroupName, strMemberName) ' TODO format the value sql.AppendLine() Exit Select Case \"pg_auth_members_groups\" sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"roleid\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strGroupName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"SELECT groname FROM pg_group WHERE grosysid = {0};\", record.GetValue(Of Int64)(\"member\")) ' Execute SQL Command cmd.CommandText = sql.ToString() Using dbReader = cmd.ExecuteReader() While dbReader.Read() ' Get string value of first result column strMemberName = If(Not dbReader.IsDBNull(0), dbReader.GetString(0), String.Empty) End While End Using sql.Clear() sql.AppendFormat(\"REVOKE {0} FROM {1};\", strGroupName, strMemberName) ' TODO format the value sql.AppendLine() Exit Select End Select Exit Select End Select ' Execute SQL command if something is to do If Not String.IsNullOrEmpty(sql.ToString()) Then ' Execute SQL Command cmd.CommandText = sql.ToString() cmd.ExecuteNonQuery() ' Add record to list of succesfull provisioned objects succProcessed.Add(record) End If Next ' Commit transaction transaction.Commit() End Using Catch If transaction IsNot Nothing Then transaction.Rollback() End If Throw End Try Return succProcessed","title":"Postgres/Greenplum \u0441\u043a\u0440\u0438\u043f\u0442 \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430"},{"location":"2.4%20One%20Identity%20PoSh%20Connector/","text":"2.4 One Identity PoSh Connector 26 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2019 \u0433. 15:54 https://support.oneidentity.com/technical-documents/identity-manager/8.0/windows-powershell-connector-user-guide \u041f\u0440\u0438\u043c\u0435\u0440 \u043a\u043e\u043d\u0444\u0438\u0433\u0430 \"C:\\distr\\OIM81\\Modules\\TSB\\dvd\\AddOn\\SDK\\ADSample.xml\" \\<\\<qv-connector-beta11.xml>> \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0444\u0430\u0439\u043b\u0430: \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u044b \u0441\u043c\u043e\u0436\u0435\u043c \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0432\u043d\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 (ConnectionParameters) \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c CustomCommands, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0431\u0443\u0434\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c\u0441\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u044b, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u043d\u0430 \u0432\u0441\u0435\u043c \u043f\u0440\u043e\u0442\u044f\u0436\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430 - \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u0438\u043c\u043f\u043e\u0440\u0442 \u043c\u043e\u0434\u0443\u043b\u044f, \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0441\u0438\u0438 \u0438 \u0442.\u043f. - \u043e\u043d\u0438 \u043d\u0435 \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u043d\u044b \u043a \u043a\u0430\u043a\u043e\u043c\u0443 \u0442\u043e \u0442\u0438\u043f\u0443 \u0441\u0445\u0435\u043c\u044b PredefinedCommands - \u043a\u043e\u043c\u0430\u043d\u0434\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0442\u0438\u043f\u0430\u0445 \u0441\u0445\u0435\u043c\u044b (Get-ADUser, Set-ADUser \u2026 ). CommandSequence - \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u043f\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0443, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c \u0432 Order, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0441\u0441\u0438\u0438. \u0422\u0430\u043c \u0431\u043b\u043e\u043a\u0438 Connect \u0438 Disconnect. \u0417\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f. \u0414\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f Source \u0438 Value. Source \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u0442\u043e, \u043e\u0442\u043a\u0443\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430. Value - \u043e\u0442\u043a\u0443\u0434\u0430 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0431\u0440\u0430\u0442\u044c\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \" Source \" = the source for the value. Available sources are \" ConnectionParameter \" ... value is taken from a passed connection parameter) - \u0438\u0437 \u043e\u043a\u043d\u0430 \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \" FixedValue \" ... a fixed value \" FixedArray \" ... a fixed array of values \" SwitchParameter \" ... a Powershell switch Parameter \" GlobalVariable \" ... value of a global variable \" Value \" = meaning depends on \"Source\" if source is \" ConnectionParameter \" then \"Value\" contains the name of the connection parameter if source is \" SwitchParameter \" then \"Value\" can be omitted/has no effect if source is \" FixedValue \" then \"Value\" contains a fixed value if source is \" FixedArray \" then \"Value\" contains a comma seperated list of elements that are passed as an array if source is \" GlobalVariable \" then \"Value\" contains the name of the variable to use. To set a global variable use \\$global:\\<name> = \\<value> \u0414\u0430\u043b\u044c\u0448\u0435 \u0443\u0436\u0435 \u0438\u0434\u0443\u0442 \u043a\u043b\u0430\u0441\u0441\u044b, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 User \u0438 Group A Property element contains the definition of Schema property. \" Name \" = The name of the property \" DataType \" = The data type (valid values are String, Int, Bool, DateTime) \" IsUniqueKey \" = indicates, that the property can be used to identify an object instance \" IsMandatory \" = indicates, that the property is mandatory \" IsAutofill \" = indicates, that the value of this property is created by the system \" IsDisplay \" = indicates, that the value of this property is used as a display \" IsRevision \" = indicates, that the value of this property is used as revision \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0438\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430. \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f CommandMapping. \u0412 \u043a\u0430\u043a\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043b\u0435\u0442 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f ReturnBindings. \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u043b\u0435\u0442\u044b \u0434\u043b\u044f \u0432\u044b\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0445 \u0441\u0432\u043e\u0439\u0441\u0442\u0432. ModifiedBy. \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442, \u043a\u0430\u043a\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u043b\u0435\u0442 \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443. \u041f\u043e\u0441\u043b\u0435 \u0438\u0434\u0435\u0442 \u0431\u043b\u043e\u043a ReadConfiguration \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u0446\u0435\u043b\u0435\u0432\u043e\u0439. Listing - \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u044d\u0442\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b. \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u043d\u043e\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438, \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0432 \u0441\u0445\u0435\u043c\u0435 MethodConfiguration - \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 (Insert, Update, Delete) \u0427\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0435 Powershell Connector M:N Membership Provisions fail - Forum - Identity Manager Community - One Identity Community \u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \\<Property Name=\"id\" DataType=\"String\" IsUniqueKey=\"true\" IsMandatory=\"true\" IsAutoFill=\"true\"> \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Policies\" Path=\"id.ToString()\"/> \\</ReturnBindings> \\<CommandMappings> \\<Map ToCommand=\"Get-PolicyPath\" Parameter=\"id\" /> (\u0432\u043e\u0442 \u0437\u0434\u0435\u0441\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u044d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u0442\u0435\u0442\u0440) \\</CommandMappings> \\</Property> \u0417\u0430\u0442\u0435\u043c, \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \\<Property Name=\"Path\" DataType=\"String\" IsMultivalue=\"true\"> \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-PolicyPath\" Path=\"Paths\"/> \\</ReturnBindings> \\</Property> \u0418 \u0432 \u043a\u043e\u043d\u0446\u0435 \\<ReadConfiguration> \\<ListingCommand Command=\"Get-Policies\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-Policy\" Order=\"1\" /> \\<Item Command=\"Get-PolicyPath\" Order=\"2\"> \\</Item> \\</CommandSequence> \\</ReadConfiguration> \u0421\u0430\u043c\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \\<CustomCommand Name=\"Get-PolicyPath\"> \\<![CDATA[ param( [parameter(Mandatory=\\$true,ValueFromPipelineByPropertyName=\\$true)] [ValidateNotNullOrEmpty()] [String]\\$id ) \\$paths = @() \\$policy = \\$Global:policies | where id -eq \\$id foreach(\\$m in \\$policy.resources.path.values) { \\$paths += \\$m } New-Object PSObject -Property @{ Paths = \\$paths } ]]> \\</CustomCommand> Troubleshooting \u0412\u044b\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u043d\u043e \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0438\u043d\u0444\u0430 \u043f\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e (\u0437\u0430\u043f\u0438\u0441\u0438) \u0412 \u043a\u043b\u0430\u0441\u0441\u0435 \\<ReadConfiguration> \\<ListingCommand Command=\"Get-Users\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-User\" Order=\"1\"> \\<SetParameter Param=\"id\" Source=\"FixedValue\" Value=\"id\"/> \\</Item> \\</CommandSequence> \\</ReadConfiguration> \\</Class> Item Command \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u044b \u043f\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e (\u0437\u0430\u043f\u0438\u0441\u0438) ListingCommand - \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439. \\<?xml version=\"1.0\" encoding=\"utf-8\" ?> \\<PowershellConnectorDefinition Id=\"SampleConnector\" Version=\"1.0\" Description=\"Sample Powershell Connector\"> \\<PluginAssemblies> \\<!--\\<Assembly Path=\"VI.Projector.Exchange.Common.dll\"/>--> \\</PluginAssemblies> \\<Initialization> \\<CustomCommands> \\<CustomCommand Name=\"Disconnect-SQL\"> \\<![CDATA[ \\$SqlConnection.Close() ]]> \\</CustomCommand> \\<CustomCommand Name=\"Get-Users\"> \\<![CDATA[ \\$SQLServer = \"ip\"; \\$SQLDBName = \"Directum\"; \\$user = \"OneIMConnector\"; \\$pass = \"pass\"; \\$SqlConnection = New-Object System.Data.SqlClient.SqlConnection; \\$SqlConnection.ConnectionString = \"Server=[REDACTED_HOST]; Database=\\$SQLDBName; User ID = [REDACTED_USER]; Password = [REDACTED];\"; \\$SqlCmd = New-Object System.Data.SqlClient.SqlCommand; \\$SqlCmd.Connection = \\$SqlConnection; \\$SqlAdapter = New-Object System.Data.SqlClient.SqlDataAdapter; \\$SqlQuery = \"SELECT * from OneIM_Accounts;\" \\$SqlCmd.CommandText = \\$SqlQuery; \\$SqlAdapter.SelectCommand = \\$SqlCmd; \\$DataSet = New-Object System.Data.DataSet; \\$i=\\$SqlAdapter.Fill(\\$DataSet); \\$DataSet.Tables[0].Rows ]]> \\</CustomCommand> \\<CustomCommand Name=\"Get-Groups\"> \\<![CDATA[ \\$SQLServer = \"ip\"; \\$SQLDBName = \"Directum\"; \\$uid = \"Administrator\"; \\$pwd = \"pass\"; \\$SqlQuery = \"SELECT * from OIM_Groups;\" \\$SqlConnection = New-Object System.Data.SqlClient.SqlConnection; \\$SqlConnection.ConnectionString = \"Server=[REDACTED_HOST]; Database=\\$SqlDBName; User ID = [REDACTED_USER]; Password = [REDACTED];\" \\$SqlCmd = New-Object System.Data.SqlClient.SqlCommand; \\$SqlCmd.CommandText = \\$SqlQuery; \\$SqlCmd.Connection = \\$SqlConnection; \\$SqlAdapter = New-Object System.Data.SqlClient.SqlDataAdapter; \\$SqlAdapter.SelectCommand = \\$SqlCmd; \\$DataSet1 = New-Object System.Data.DataSet; \\$i=\\$SqlAdapter.Fill(\\$DataSet1); \\$DataSet1.Tables[0].Rows ]]> \\</CustomCommand> \\<CustomCommand Name=\"Get-GroupsToAccount\"> \\<![CDATA[ \\$SQLServer = \"ip\"; \\$SQLDBName = \"Directum\"; \\$uid = \"Administrator\"; \\$pwd = \"pass\"; \\$SqlQuery = \"SELECT * from OIM_GroupsToAccount;\" \\$SqlConnection = New-Object System.Data.SqlClient.SqlConnection; \\$SqlConnection.ConnectionString = \"Server=[REDACTED_HOST]; Database=\\$SqlDBName; User ID = [REDACTED_USER]; Password = [REDACTED];\" \\$SqlCmd = New-Object System.Data.SqlClient.SqlCommand; \\$SqlCmd.CommandText = \\$SqlQuery; \\$SqlCmd.Connection = \\$SqlConnection; \\$SqlAdapter = New-Object System.Data.SqlClient.SqlDataAdapter; \\$SqlAdapter.SelectCommand = \\$SqlCmd; \\$DataSet1 = New-Object System.Data.DataSet; \\$i=\\$SqlAdapter.Fill(\\$DataSet1); \\$DataSet1.Tables[0].Rows ]]> \\</CustomCommand> \\</CustomCommands> \\<PredefinedCommands> \\<Command Name=\"Get-Location\"/> \\</PredefinedCommands> \\<EnvironmentInitialization> \\<Connect > \\<CommandSequence> \\<Item Command=\"Get-Location\" Order=\"1\"/> \\</CommandSequence> \\</Connect> \\<Disconnect> \\<CommandSequence> \\<Item Command=\"Disconnect-SQL\" Order=\"1\"/> \\</CommandSequence> \\</Disconnect> \\</EnvironmentInitialization> \\</Initialization> \\<Schema> \\<Class Name=\"Group\"> \\<Properties> \\<Property Name=\"GroupID\" DataType=\"String\" IsUniqueKey=\"true\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Groups\" Path=\"GroupID\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"GroupName\" DataType=\"String\" IsUniqueKey=\"false\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Groups\" Path=\"GroupName\"/> \\</ReturnBindings> \\</Property> \\</Properties> \\<ReadConfiguration> \\<ListingCommand Command=\"Get-Groups\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-Groups\" Order=\"1\" > \\</Item> \\</CommandSequence> \\</ReadConfiguration> \\</Class> \\<Class Name=\"User\"> \\<Properties> \\<Property Name=\"LoginName\" DataType=\"String\" IsUniqueKey=\"true\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Users\" Path=\"LoginName\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"FullName\" DataType=\"String\" IsUniqueKey=\"false\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Users\" Path=\"FullName\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"TabNum\" DataType=\"String\" IsUniqueKey=\"false\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Users\" Path=\"TabNum\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"Status\" DataType=\"String\" IsUniqueKey=\"false\"> \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Users\" Path=\"Status\"/> \\</ReturnBindings> \\</Property> \\</Properties> \\<ReadConfiguration> \\<ListingCommand Command=\"Get-Users\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-Users\" Order=\"1\" > \\</Item> \\</CommandSequence> \\</ReadConfiguration> \\</Class> \\<Class Name=\"GroupsToAccount\"> \\<Properties> \\<Property Name=\"UserName\" DataType=\"String\" IsUniqueKey=\"true\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-GroupsToAccount\" Path=\"UserName\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"GroupName\" DataType=\"String\" IsUniqueKey=\"true\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-GroupsToAccount\" Path=\"GroupName\"/> \\</ReturnBindings> \\</Property> \\</Properties> \\<ReadConfiguration> \\<ListingCommand Command=\"Get-GroupsToAccount\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-GroupsToAccount\" Order=\"1\" > \\</Item> \\</CommandSequence> \\</ReadConfiguration> \\</Class> \\</Schema> \\</PowershellConnectorDefinition>","title":"2.4 One Identity PoSh Connector"},{"location":"2.4%20One%20Identity%20PoSh%20Connector/#_1","text":"Powershell Connector M:N Membership Provisions fail - Forum - Identity Manager Community - One Identity Community","title":"\u0427\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0433\u0440\u0443\u043f\u043f\u0435"},{"location":"2.4%20One%20Identity%20PoSh%20Connector/#_2","text":"","title":""},{"location":"2.4%20One%20Identity%20PoSh%20Connector/#_3","text":"\\<Property Name=\"id\" DataType=\"String\" IsUniqueKey=\"true\" IsMandatory=\"true\" IsAutoFill=\"true\"> \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Policies\" Path=\"id.ToString()\"/> \\</ReturnBindings> \\<CommandMappings> \\<Map ToCommand=\"Get-PolicyPath\" Parameter=\"id\" /> (\u0432\u043e\u0442 \u0437\u0434\u0435\u0441\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u044d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u0442\u0435\u0442\u0440) \\</CommandMappings> \\</Property> \u0417\u0430\u0442\u0435\u043c, \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \\<Property Name=\"Path\" DataType=\"String\" IsMultivalue=\"true\"> \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-PolicyPath\" Path=\"Paths\"/> \\</ReturnBindings> \\</Property> \u0418 \u0432 \u043a\u043e\u043d\u0446\u0435 \\<ReadConfiguration> \\<ListingCommand Command=\"Get-Policies\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-Policy\" Order=\"1\" /> \\<Item Command=\"Get-PolicyPath\" Order=\"2\"> \\</Item> \\</CommandSequence> \\</ReadConfiguration> \u0421\u0430\u043c\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \\<CustomCommand Name=\"Get-PolicyPath\"> \\<![CDATA[ param( [parameter(Mandatory=\\$true,ValueFromPipelineByPropertyName=\\$true)] [ValidateNotNullOrEmpty()] [String]\\$id ) \\$paths = @() \\$policy = \\$Global:policies | where id -eq \\$id foreach(\\$m in \\$policy.resources.path.values) { \\$paths += \\$m } New-Object PSObject -Property @{ Paths = \\$paths } ]]> \\</CustomCommand>","title":"\u041f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0435\u0433\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},{"location":"2.4%20One%20Identity%20PoSh%20Connector/#troubleshooting","text":"\u0412\u044b\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u043d\u043e \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0438\u043d\u0444\u0430 \u043f\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e (\u0437\u0430\u043f\u0438\u0441\u0438) \u0412 \u043a\u043b\u0430\u0441\u0441\u0435 \\<ReadConfiguration> \\<ListingCommand Command=\"Get-Users\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-User\" Order=\"1\"> \\<SetParameter Param=\"id\" Source=\"FixedValue\" Value=\"id\"/> \\</Item> \\</CommandSequence> \\</ReadConfiguration> \\</Class> Item Command \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0437\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u044b \u043f\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e (\u0437\u0430\u043f\u0438\u0441\u0438) ListingCommand - \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0441\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439. \\<?xml version=\"1.0\" encoding=\"utf-8\" ?> \\<PowershellConnectorDefinition Id=\"SampleConnector\" Version=\"1.0\" Description=\"Sample Powershell Connector\"> \\<PluginAssemblies> \\<!--\\<Assembly Path=\"VI.Projector.Exchange.Common.dll\"/>--> \\</PluginAssemblies> \\<Initialization> \\<CustomCommands> \\<CustomCommand Name=\"Disconnect-SQL\"> \\<![CDATA[ \\$SqlConnection.Close() ]]> \\</CustomCommand> \\<CustomCommand Name=\"Get-Users\"> \\<![CDATA[ \\$SQLServer = \"ip\"; \\$SQLDBName = \"Directum\"; \\$user = \"OneIMConnector\"; \\$pass = \"pass\"; \\$SqlConnection = New-Object System.Data.SqlClient.SqlConnection; \\$SqlConnection.ConnectionString = \"Server=[REDACTED_HOST]; Database=\\$SQLDBName; User ID = [REDACTED_USER]; Password = [REDACTED];\"; \\$SqlCmd = New-Object System.Data.SqlClient.SqlCommand; \\$SqlCmd.Connection = \\$SqlConnection; \\$SqlAdapter = New-Object System.Data.SqlClient.SqlDataAdapter; \\$SqlQuery = \"SELECT * from OneIM_Accounts;\" \\$SqlCmd.CommandText = \\$SqlQuery; \\$SqlAdapter.SelectCommand = \\$SqlCmd; \\$DataSet = New-Object System.Data.DataSet; \\$i=\\$SqlAdapter.Fill(\\$DataSet); \\$DataSet.Tables[0].Rows ]]> \\</CustomCommand> \\<CustomCommand Name=\"Get-Groups\"> \\<![CDATA[ \\$SQLServer = \"ip\"; \\$SQLDBName = \"Directum\"; \\$uid = \"Administrator\"; \\$pwd = \"pass\"; \\$SqlQuery = \"SELECT * from OIM_Groups;\" \\$SqlConnection = New-Object System.Data.SqlClient.SqlConnection; \\$SqlConnection.ConnectionString = \"Server=[REDACTED_HOST]; Database=\\$SqlDBName; User ID = [REDACTED_USER]; Password = [REDACTED];\" \\$SqlCmd = New-Object System.Data.SqlClient.SqlCommand; \\$SqlCmd.CommandText = \\$SqlQuery; \\$SqlCmd.Connection = \\$SqlConnection; \\$SqlAdapter = New-Object System.Data.SqlClient.SqlDataAdapter; \\$SqlAdapter.SelectCommand = \\$SqlCmd; \\$DataSet1 = New-Object System.Data.DataSet; \\$i=\\$SqlAdapter.Fill(\\$DataSet1); \\$DataSet1.Tables[0].Rows ]]> \\</CustomCommand> \\<CustomCommand Name=\"Get-GroupsToAccount\"> \\<![CDATA[ \\$SQLServer = \"ip\"; \\$SQLDBName = \"Directum\"; \\$uid = \"Administrator\"; \\$pwd = \"pass\"; \\$SqlQuery = \"SELECT * from OIM_GroupsToAccount;\" \\$SqlConnection = New-Object System.Data.SqlClient.SqlConnection; \\$SqlConnection.ConnectionString = \"Server=[REDACTED_HOST]; Database=\\$SqlDBName; User ID = [REDACTED_USER]; Password = [REDACTED];\" \\$SqlCmd = New-Object System.Data.SqlClient.SqlCommand; \\$SqlCmd.CommandText = \\$SqlQuery; \\$SqlCmd.Connection = \\$SqlConnection; \\$SqlAdapter = New-Object System.Data.SqlClient.SqlDataAdapter; \\$SqlAdapter.SelectCommand = \\$SqlCmd; \\$DataSet1 = New-Object System.Data.DataSet; \\$i=\\$SqlAdapter.Fill(\\$DataSet1); \\$DataSet1.Tables[0].Rows ]]> \\</CustomCommand> \\</CustomCommands> \\<PredefinedCommands> \\<Command Name=\"Get-Location\"/> \\</PredefinedCommands> \\<EnvironmentInitialization> \\<Connect > \\<CommandSequence> \\<Item Command=\"Get-Location\" Order=\"1\"/> \\</CommandSequence> \\</Connect> \\<Disconnect> \\<CommandSequence> \\<Item Command=\"Disconnect-SQL\" Order=\"1\"/> \\</CommandSequence> \\</Disconnect> \\</EnvironmentInitialization> \\</Initialization> \\<Schema> \\<Class Name=\"Group\"> \\<Properties> \\<Property Name=\"GroupID\" DataType=\"String\" IsUniqueKey=\"true\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Groups\" Path=\"GroupID\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"GroupName\" DataType=\"String\" IsUniqueKey=\"false\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Groups\" Path=\"GroupName\"/> \\</ReturnBindings> \\</Property> \\</Properties> \\<ReadConfiguration> \\<ListingCommand Command=\"Get-Groups\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-Groups\" Order=\"1\" > \\</Item> \\</CommandSequence> \\</ReadConfiguration> \\</Class> \\<Class Name=\"User\"> \\<Properties> \\<Property Name=\"LoginName\" DataType=\"String\" IsUniqueKey=\"true\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Users\" Path=\"LoginName\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"FullName\" DataType=\"String\" IsUniqueKey=\"false\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Users\" Path=\"FullName\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"TabNum\" DataType=\"String\" IsUniqueKey=\"false\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Users\" Path=\"TabNum\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"Status\" DataType=\"String\" IsUniqueKey=\"false\"> \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-Users\" Path=\"Status\"/> \\</ReturnBindings> \\</Property> \\</Properties> \\<ReadConfiguration> \\<ListingCommand Command=\"Get-Users\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-Users\" Order=\"1\" > \\</Item> \\</CommandSequence> \\</ReadConfiguration> \\</Class> \\<Class Name=\"GroupsToAccount\"> \\<Properties> \\<Property Name=\"UserName\" DataType=\"String\" IsUniqueKey=\"true\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-GroupsToAccount\" Path=\"UserName\"/> \\</ReturnBindings> \\</Property> \\<Property Name=\"GroupName\" DataType=\"String\" IsUniqueKey=\"true\" > \\<ReturnBindings> \\<Bind CommandResultOf=\"Get-GroupsToAccount\" Path=\"GroupName\"/> \\</ReturnBindings> \\</Property> \\</Properties> \\<ReadConfiguration> \\<ListingCommand Command=\"Get-GroupsToAccount\"> \\</ListingCommand> \\<CommandSequence> \\<Item Command=\"Get-GroupsToAccount\" Order=\"1\" > \\</Item> \\</CommandSequence> \\</ReadConfiguration> \\</Class> \\</Schema> \\</PowershellConnectorDefinition>","title":"Troubleshooting"},{"location":"20.%20One%20Identity%20Trust%20DC/","text":"20. One Identity Trust DC 25 \u043c\u0430\u0440\u0442\u0430 2020 \u0433. 11:35 \u0414\u043b\u044f \u0442\u0435\u0441\u0442\u0430 https://araihan.wordpress.com/2009/08/05/how-to-create-an-external-trust-between-two-domains/ https://docs.microsoft.com/en-us/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc816875%28v%3dws.10%29 \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0438\u0437 \u0434\u043e\u043c\u0435\u043d\u0430 gte \u0434\u043e\u043b\u0436\u043d\u044b \u0438\u043c\u0435\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c \u0432 \u0434\u043e\u043c\u0435\u043d\u0435 sgp. \u0414\u043e\u043c\u0435\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0434\u043e\u043c\u0435\u043d\u0430 - Outgoing \u041d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043d\u0430 \u041a\u0414, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 - Outgoing \u043e\u043d DC GTE","title":"20. One Identity Trust DC"},{"location":"21.%20One%20Identity%20SSO%20Portal/","text":"21. One Identity SSO Portal 25 \u043c\u0430\u0440\u0442\u0430 2020 \u0433. 17:21 Title SSO (Single Sign-On) is not working for the Web Portal Description SSO (Single Sign-On) is not working. What are the required steps to configure this? Resolution Single Sign-On is possible for the One Identity (1IM) Web Portal (IT Shop) if the following conditions are met: The configuration parameter TargetSystem\\ADS\\AuthenticationDomains contains a valid value, e.g. domain.com. In Designer select Getting Started then **Edit configuration parameters: ** Click To See Full Image. - The appropriate Authentication Module, i.e. Active Directory user account (role based) , is enabled. In Designer select Base Data , expand Security settings and select Authentication modules : Click To See Full Image. - Anonymous Authentication for the web site is disabled in IIS: Click To See Full Image. - The logged in user, e.g. logged in to a Windows system, has a valid ADSAccount and role-based Employee in the 1IM database, e.g.: Click To See Full Image. - It may be necessary to update Internet Explorer to use the Automatic logon with current username and password option. Click To See Full Image. - It is assumed the 1IM web portal is configured correctly and the appropriate Authentication module is selected in the web.config. Click To See Full Image. Additional Information Additional issues that arise may be due to Windows authentication with IIS, etc. E.g.: [Web Authentication via SSO not working ](https://support.oneidentity.com/identity-manager/kb/102757/web-authentication-via-sso-not-working) Identity Manager web portal prompting for login, rather than using NTLM https://support.oneidentity.com/identity-manager/kb/239053/sso-single-sign-on-is-not-working-for-the-web-portal","title":"21. One Identity SSO Portal"},{"location":"21.%20One%20Identity%20SSO%20Portal/#title","text":"SSO (Single Sign-On) is not working for the Web Portal","title":"Title"},{"location":"21.%20One%20Identity%20SSO%20Portal/#description","text":"SSO (Single Sign-On) is not working. What are the required steps to configure this?","title":"Description"},{"location":"21.%20One%20Identity%20SSO%20Portal/#resolution","text":"Single Sign-On is possible for the One Identity (1IM) Web Portal (IT Shop) if the following conditions are met: The configuration parameter TargetSystem\\ADS\\AuthenticationDomains contains a valid value, e.g. domain.com. In Designer select Getting Started then **Edit configuration parameters: ** Click To See Full Image. - The appropriate Authentication Module, i.e. Active Directory user account (role based) , is enabled. In Designer select Base Data , expand Security settings and select Authentication modules : Click To See Full Image. - Anonymous Authentication for the web site is disabled in IIS: Click To See Full Image. - The logged in user, e.g. logged in to a Windows system, has a valid ADSAccount and role-based Employee in the 1IM database, e.g.: Click To See Full Image. - It may be necessary to update Internet Explorer to use the Automatic logon with current username and password option. Click To See Full Image. - It is assumed the 1IM web portal is configured correctly and the appropriate Authentication module is selected in the web.config. Click To See Full Image.","title":"Resolution"},{"location":"21.%20One%20Identity%20SSO%20Portal/#additional-information","text":"Additional issues that arise may be due to Windows authentication with IIS, etc. E.g.: [Web Authentication via SSO not working ](https://support.oneidentity.com/identity-manager/kb/102757/web-authentication-via-sso-not-working) Identity Manager web portal prompting for login, rather than using NTLM https://support.oneidentity.com/identity-manager/kb/239053/sso-single-sign-on-is-not-working-for-the-web-portal","title":"Additional Information"},{"location":"22.%20One%20Identity%20Exchange/","text":"22. One Identity Exchange 23 \u043c\u0430\u0440\u0442\u0430 2020 \u0433. 16:20 Ports - For Powershell the defaults are 5985 and 5986. - Standard TCP/IP ports (usually 80 and 443). From \\< https://support.oneidentity.com/identity-manager/kb/4348438/ports-required-to-connect-to-exchange-server > Troubleshooting 1) \u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a \u043f\u0440\u0438 Account Definition \u041f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 AccountDefinition \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a \u041d\u0430\u0434\u043e \u0414\u043b\u044f Exchange Acc Def \u0437\u0430\u0434\u0430\u0442\u044c \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0439 Acc Def \u2013 AD Alias If Not CBool(Connection.Variables(\"Fullsync\")) AndAlso Not String.IsNullOrEmpty(\\$UID_EX0Organization\\$) Then Dim myAlias as String = \"\" Dim f as ISqlFormatter = Connection.SqlFormatter If Not Entity.Columns.Item(\"Alias\").ChangeLevels.Get(0) Then 'not manually set Alias myAlias = \\$FK(UID_ADSAccount).Mail\\$ If InStr(myAlias, \"@\")> 0 Then myAlias = vid_Left(myAlias, InStr(myAlias, \"@\")-1) End If Else myAlias = CStr(Value) End If ' if there is already a element with this name in this organization, append a number If \\$Alias[o]\\$ \\<> myAlias AndAlso Not String.IsNullOrEmpty(myAlias) Then ' make the name unique by appending a counter Dim i as Integer = 1 Dim myAliasNew = myAlias Do While Session.Source().Exists( \"EX0VElementName\", _ f.AndRelation( _ f.UidComparison(\"XObjectKey\", \\$XObjectKey\\$, CompareOperator.NotEqual), _ f.UidComparison(\"UID_EX0Organization\", \\$UID_EX0Organization\\$), _ f.Comparison(\"Alias\", myAliasNew,ValType.String) _ )) If myAlias.Length > 64 - i.ToString().Length Then myAliasNew = myAlias.Substring(0, 64-i.ToString().Length) & i.ToString() Else myAliasNew = myAlias & i.ToString() End If i = i + 1 Loop Value = myAliasNew End If End If","title":"22. One Identity Exchange"},{"location":"22.%20One%20Identity%20Exchange/#ports","text":"- For Powershell the defaults are 5985 and 5986. - Standard TCP/IP ports (usually 80 and 443). From \\< https://support.oneidentity.com/identity-manager/kb/4348438/ports-required-to-connect-to-exchange-server >","title":"Ports"},{"location":"22.%20One%20Identity%20Exchange/#_1","text":"","title":""},{"location":"22.%20One%20Identity%20Exchange/#_2","text":"","title":""},{"location":"22.%20One%20Identity%20Exchange/#troubleshooting","text":"1) \u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a \u043f\u0440\u0438 Account Definition \u041f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 AccountDefinition \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u044f\u0449\u0438\u043a \u041d\u0430\u0434\u043e \u0414\u043b\u044f Exchange Acc Def \u0437\u0430\u0434\u0430\u0442\u044c \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0439 Acc Def \u2013 AD","title":"Troubleshooting"},{"location":"22.%20One%20Identity%20Exchange/#alias","text":"If Not CBool(Connection.Variables(\"Fullsync\")) AndAlso Not String.IsNullOrEmpty(\\$UID_EX0Organization\\$) Then Dim myAlias as String = \"\" Dim f as ISqlFormatter = Connection.SqlFormatter If Not Entity.Columns.Item(\"Alias\").ChangeLevels.Get(0) Then 'not manually set Alias myAlias = \\$FK(UID_ADSAccount).Mail\\$ If InStr(myAlias, \"@\")> 0 Then myAlias = vid_Left(myAlias, InStr(myAlias, \"@\")-1) End If Else myAlias = CStr(Value) End If ' if there is already a element with this name in this organization, append a number If \\$Alias[o]\\$ \\<> myAlias AndAlso Not String.IsNullOrEmpty(myAlias) Then ' make the name unique by appending a counter Dim i as Integer = 1 Dim myAliasNew = myAlias Do While Session.Source().Exists( \"EX0VElementName\", _ f.AndRelation( _ f.UidComparison(\"XObjectKey\", \\$XObjectKey\\$, CompareOperator.NotEqual), _ f.UidComparison(\"UID_EX0Organization\", \\$UID_EX0Organization\\$), _ f.Comparison(\"Alias\", myAliasNew,ValType.String) _ )) If myAlias.Length > 64 - i.ToString().Length Then myAliasNew = myAlias.Substring(0, 64-i.ToString().Length) & i.ToString() Else myAliasNew = myAlias & i.ToString() End If i = i + 1 Loop Value = myAliasNew End If End If","title":"Alias"},{"location":"23.%20OneIM%20Course/","text":"23. OneIM Course 11 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2020 \u0433. 15:41 <[redacted-email]> Postgres \u0427\u0442\u043e\u0431\u044b \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 Postgres \u043f\u0440\u043e\u0448\u043b\u0430 - \u043d\u0430\u0434\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c Sync Editor AD Hoc - \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 - \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 Provisioning - \u043a\u043e\u0433\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437 XML c:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\010_Target System Integration\\PowerShell\\ThingyXMLFile\\ \u0424\u0430\u0439\u043b ThingyXML_v1.psm1 \u043f\u0440\u0430\u0432\u0438\u043c \u0432 \u043d\u0435\u043c \\$_XMLPath = \"C:\\Users\\Administrator.DEMOLAB\\Desktop\\ThingyXMLFile\\users.xml\" (\u043d\u0430\u0434\u043e \u0437\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0442\u044c \u044d\u0442\u0443 \u0441\u0442\u0440\u043e\u043a\u0443 \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0448\u044c Sync \u043f\u0440\u043e\u0435\u043a\u0442 \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u044d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0431\u0440\u0430\u043b \u0438\u0437 \u0441\u0442\u0440\u043e\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438) \u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0435\u043a\u0442 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d - \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435! \u041a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0435\u043a\u0442 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u0442\u0441\u044f - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f JobServer \u041f\u043e\u0442\u043e\u043c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c \u044d\u0442\u043e\u0442 \u043c\u043e\u0434\u0443\u043b\u044c \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \\$ret = Get-Thingy XML User -Identity \"01\" \u0418\u043b\u0438 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f New-Thingy XML User -thingyName \"fred\" -thingyStatus \"active\" -thingyDescription \"consultant\" - thingyFax \"123\" \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0412 psm \u043c\u043e\u0434\u0443\u043b\u0435 \u0432 848 \u0441\u0442\u0440\u043e\u043a\u0435 \u041a\u043e\u0433\u0434\u0430 \u0432 sync Editor \u0441\u043e\u0437\u0434\u0430\u0435\u043c Scope , \u043d\u0430\u0434\u043e \u0432 \u0444\u0438\u043b\u044c\u0442\u0440\u0435 \u043f\u0438\u0441\u0430\u0442\u044c Ident_UNSRoot = 'XMLUser' AdHoc \u041a\u043e\u043f\u0438\u0440\u0443\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 ADS_Ads_Account_Insert \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u0438\u043c\u044f. \u0418 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 INSERT Pre-script Thing.xml \u0421\u0435\u043a\u0446\u0438\u044f Listing \u041f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u041b\u043e\u0433\u0438 OneIdentity \u041b\u043e\u0433\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 Powershell (\u0432 \u043f\u0430\u043f\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0442 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d jobserver) \u041a\u043e\u043d\u0444\u0438\u0433 \u043b\u043e\u0433\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0418 \u0442\u0430\u043c \u043f\u0443\u0442\u044c \u043a \u043b\u043e\u0433\u0430\u043c \u0443\u043a\u0430\u0437\u0430\u043d API \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f Postman \u0438 Fiddler \u0434\u043b\u044f \u0442\u0440\u0430\u0431\u043b\u0448\u0443\u0442\u0438\u043d\u0433\u0430 \u041e\u0442\u0447\u0435\u0442\u044b StimulSoft.com \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0418\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0432 \u0444\u043e\u0440\u043c\u0443 \u043e\u0442\u0447\u0435\u0442\u0430 Report \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 MA - \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a SingleTransaction (\u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0432 \u0414\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 \u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u044b - \u0434\u043b\u044f \u043f\u043e\u043b\u044f \u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u044b) - \u0435\u0441\u043b\u0438 \u0440\u0435\u0448\u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0434\u043d\u043e \u043f\u043e\u043b\u0435 \u0443 \u0432\u0441\u0435\u0445 - \u0442\u043e \u043f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0435 \u0443 \u043e\u0434\u043d\u043e\u0433\u043e - \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043a\u0430\u0442 \u0432\u0441\u0435\u0445 \u0415\u0441\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 - \u0434\u043b\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0439 - \u0412\u0410\u0416\u041d\u041e! \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u044f \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0435 \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u043e\u0442\u0434\u0435\u043b \u0414\u0435\u0431\u0430\u0433\u0435\u0440 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0438\u0437 Object Browser \u041f\u0440\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 CTRL+F \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0436\u0434\u0430\u0442\u044c DBQueue Troubleshooting c:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\001_Availability Distribution Performance\\SQL-for-tuning\\ \u0424\u0438\u043a\u0441 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0412 \u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430\u0445 SQL-for-Tuning \u043f\u0430\u043f\u043a\u0430 DBQueue recreate \u041f\u0435\u0440\u0435\u0434 \u043e\u0447\u0438\u0441\u0442\u043a\u043e\u0439 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 - \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c Schwduler Update DialogDatabase set IsDBSchedulerDisabled=1 \u041e\u0442\u043b\u0438\u0447\u0438\u0435 Truncate \u043e\u0442 Delete \u041f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u0441\u043a\u0430 - \u043b\u0443\u0447\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Truncate (\u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0431\u043e\u0442\u0438\u0442\u044c\u0441\u044f \u043e \u0446\u0435\u043b\u043e\u0441\u0442\u043d\u043e\u0441\u0442\u0438) https://support.oneidentity.com/fr-fr/identity-manager/kb/127725/internal-how-to-clear-a-large-db-queue-job-without-filling-the-transaction-log-?kblang=en-US update DialogDatabase set IsDBSchedulerDisabled=1 DBqueue \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 \u0430\u0433\u0435\u043d\u0442\u0430 \u0438 Service Broker ConfigureSQLServer \u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0431\u0430\u0437\u044b TimeDelayAcctDefToProvision_LDP.sql \u0418\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 Provisiong \u043f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 AccDefinition \u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 JobsPerQueue.sql \u041a\u0430\u043a \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u0447 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 DBQueue.Feeding.sql \u041f\u0440\u0438 \u043e\u0433\u0440\u043e\u043c\u043d\u043e\u043c \u043a\u043e\u043b-\u0432\u0435 \u0442\u0430\u0441\u043a\u043e\u0432 \u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0434\u043e\u043f \u0442\u0430\u0431\u043b\u0438\u0439\u0446\u0443 CCC_DialogDBQueueFeeding \u0438 \u043a\u043e\u043f\u0438\u0440\u0443\u0435\u0442 \u0442\u0443\u0434\u0430 \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0418 \u043f\u043e\u0442\u043e\u043c \u043f\u043e\u0440\u0446\u0438\u043e\u043d\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0438\u0445 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0447\u0442\u043e \u0443\u0441\u043a\u043e\u0440\u044f\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0422\u0430\u0431\u043b\u0438\u0446\u0430 DialogDbQueue - \u0445\u0440\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0449\u0451 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f QBMDBQueueCurrent - \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u0442\u0430\u0441\u043a\u0438 QBMDBQueueOwerview - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 - \u043b\u0443\u0447\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u044e \u0412 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 DB \u2013 CheckDataConsistensely \u0414\u0435\u043b\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0434 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u043c - \u0435\u0441\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 Installation Guide \u041c\u043e\u0436\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u041c\u043e\u0436\u0435\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0412 \u0444\u0430\u0439\u043b\u0435 C:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\150_SDK\\SQL\\DB-examples.txt == TRIGGERS ==== Check for disabled triggers: SELECT DISTINCT o.NAME,CASE o.type WHEN 'U' THEN 'Table' ELSE '' END AS TableType,CASE '%' WHEN '%' THEN 'all' ELSE '\"' + t.NAME +'\"' END AS Triggername,t.is_disabled FROM sys.objects o JOIN sys.triggers t ON o.object_id=t.parent_id WHERE o.type IN('U') AND o.NAME LIKE '%' AND t.is_disabled =1 AND (0 =0 AND t.NAME LIKE '%' OR 0 =1 AND t.NAME NOT LIKE '%') ORDER BY 1 Enable OneIM Triggers: Exec QBM_PtriggerEnable '%','%' \u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 c:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\000_Install_DataImport-demolabv8\\OneIM-FlightCheck.ps1 \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 c:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\005_Tooling\\Dev-GoodPractice-UnitTests.docx \u041b\u0443\u0447\u0448\u0435 \u0442\u0435\u043c\u043f\u043b\u0430\u0439\u0442 \u043d\u0435 \u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0438 \u0432\u044b\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u0441\u0435 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u0422\u0430\u043d\u0441\u043f\u043e\u0440\u0442 \u0424\u0438\u043a\u0441\u0438\u0442\u044c \u043d\u0430 \u0434\u0435\u0432\u0435 \u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043a\u0441\u044b \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u043a\u0442 \u041d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0435 \u0434\u043e\u0431\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a","title":"23. OneIM Course"},{"location":"23.%20OneIM%20Course/#postgres","text":"\u0427\u0442\u043e\u0431\u044b \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 Postgres \u043f\u0440\u043e\u0448\u043b\u0430 - \u043d\u0430\u0434\u043e \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0438 \u0437\u0430\u043a\u0440\u044b\u0442\u044c Sync Editor AD Hoc - \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 - \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043e\u0431\u044a\u0435\u043a\u0442\u0430 Provisioning - \u043a\u043e\u0433\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f","title":"Postgres"},{"location":"23.%20OneIM%20Course/#xml","text":"c:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\010_Target System Integration\\PowerShell\\ThingyXMLFile\\ \u0424\u0430\u0439\u043b ThingyXML_v1.psm1 \u043f\u0440\u0430\u0432\u0438\u043c \u0432 \u043d\u0435\u043c \\$_XMLPath = \"C:\\Users\\Administrator.DEMOLAB\\Desktop\\ThingyXMLFile\\users.xml\" (\u043d\u0430\u0434\u043e \u0437\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0442\u044c \u044d\u0442\u0443 \u0441\u0442\u0440\u043e\u043a\u0443 \u043a\u043e\u0433\u0434\u0430 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0448\u044c Sync \u043f\u0440\u043e\u0435\u043a\u0442 \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u044d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0431\u0440\u0430\u043b \u0438\u0437 \u0441\u0442\u0440\u043e\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438) \u0415\u0441\u043b\u0438 \u043f\u0440\u043e\u0435\u043a\u0442 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d - \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u043c \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435! \u041a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0435\u043a\u0442 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u0442\u0441\u044f - \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f JobServer \u041f\u043e\u0442\u043e\u043c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u0435\u043c \u044d\u0442\u043e\u0442 \u043c\u043e\u0434\u0443\u043b\u044c \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \\$ret = Get-Thingy XML User -Identity \"01\" \u0418\u043b\u0438 \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f New-Thingy XML User -thingyName \"fred\" -thingyStatus \"active\" -thingyDescription \"consultant\" - thingyFax \"123\" \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0412 psm \u043c\u043e\u0434\u0443\u043b\u0435 \u0432 848 \u0441\u0442\u0440\u043e\u043a\u0435 \u041a\u043e\u0433\u0434\u0430 \u0432 sync Editor \u0441\u043e\u0437\u0434\u0430\u0435\u043c Scope , \u043d\u0430\u0434\u043e \u0432 \u0444\u0438\u043b\u044c\u0442\u0440\u0435 \u043f\u0438\u0441\u0430\u0442\u044c Ident_UNSRoot = 'XMLUser' AdHoc \u041a\u043e\u043f\u0438\u0440\u0443\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 ADS_Ads_Account_Insert \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u0438\u043c\u044f. \u0418 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 INSERT Pre-script Thing.xml \u0421\u0435\u043a\u0446\u0438\u044f Listing \u041f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0432 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439","title":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0438\u0437 XML"},{"location":"23.%20OneIM%20Course/#oneidentity","text":"\u041b\u043e\u0433\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430 Powershell (\u0432 \u043f\u0430\u043f\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043e\u0442 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0449\u0435\u043d jobserver) \u041a\u043e\u043d\u0444\u0438\u0433 \u043b\u043e\u0433\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0418 \u0442\u0430\u043c \u043f\u0443\u0442\u044c \u043a \u043b\u043e\u0433\u0430\u043c \u0443\u043a\u0430\u0437\u0430\u043d","title":"\u041b\u043e\u0433\u0438 OneIdentity"},{"location":"23.%20OneIM%20Course/#_1","text":"","title":""},{"location":"23.%20OneIM%20Course/#api","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f Postman \u0438 Fiddler \u0434\u043b\u044f \u0442\u0440\u0430\u0431\u043b\u0448\u0443\u0442\u0438\u043d\u0433\u0430","title":"API"},{"location":"23.%20OneIM%20Course/#_2","text":"","title":""},{"location":"23.%20OneIM%20Course/#_3","text":"StimulSoft.com \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0418\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0432 \u0444\u043e\u0440\u043c\u0443 \u043e\u0442\u0447\u0435\u0442\u0430 Report \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 MA - \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a SingleTransaction (\u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0432 \u0414\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 \u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u044b - \u0434\u043b\u044f \u043f\u043e\u043b\u044f \u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u044b) - \u0435\u0441\u043b\u0438 \u0440\u0435\u0448\u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0434\u043d\u043e \u043f\u043e\u043b\u0435 \u0443 \u0432\u0441\u0435\u0445 - \u0442\u043e \u043f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0435 \u0443 \u043e\u0434\u043d\u043e\u0433\u043e - \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043a\u0430\u0442 \u0432\u0441\u0435\u0445 \u0415\u0441\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442\u044b \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 - \u0434\u043b\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0439 - \u0412\u0410\u0416\u041d\u041e! \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u044f \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0435 \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u043e\u0442\u0434\u0435\u043b \u0414\u0435\u0431\u0430\u0433\u0435\u0440 \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0438\u0437 Object Browser \u041f\u0440\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 CTRL+F \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0436\u0434\u0430\u0442\u044c DBQueue","title":"\u041e\u0442\u0447\u0435\u0442\u044b"},{"location":"23.%20OneIM%20Course/#troubleshooting","text":"c:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\001_Availability Distribution Performance\\SQL-for-tuning\\ \u0424\u0438\u043a\u0441 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0412 \u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0430\u0445 SQL-for-Tuning \u043f\u0430\u043f\u043a\u0430 DBQueue recreate \u041f\u0435\u0440\u0435\u0434 \u043e\u0447\u0438\u0441\u0442\u043a\u043e\u0439 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 - \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c Schwduler Update DialogDatabase set IsDBSchedulerDisabled=1 \u041e\u0442\u043b\u0438\u0447\u0438\u0435 Truncate \u043e\u0442 Delete \u041f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u0441\u043a\u0430 - \u043b\u0443\u0447\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Truncate (\u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u0431\u043e\u0442\u0438\u0442\u044c\u0441\u044f \u043e \u0446\u0435\u043b\u043e\u0441\u0442\u043d\u043e\u0441\u0442\u0438) https://support.oneidentity.com/fr-fr/identity-manager/kb/127725/internal-how-to-clear-a-large-db-queue-job-without-filling-the-transaction-log-?kblang=en-US update DialogDatabase set IsDBSchedulerDisabled=1 DBqueue \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 \u0430\u0433\u0435\u043d\u0442\u0430 \u0438 Service Broker ConfigureSQLServer \u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0431\u0430\u0437\u044b TimeDelayAcctDefToProvision_LDP.sql \u0418\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 Provisiong \u043f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 AccDefinition \u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 JobsPerQueue.sql \u041a\u0430\u043a \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u0434\u0430\u0447 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 DBQueue.Feeding.sql \u041f\u0440\u0438 \u043e\u0433\u0440\u043e\u043c\u043d\u043e\u043c \u043a\u043e\u043b-\u0432\u0435 \u0442\u0430\u0441\u043a\u043e\u0432 \u0421\u043e\u0437\u0434\u0430\u0435\u0442 \u0434\u043e\u043f \u0442\u0430\u0431\u043b\u0438\u0439\u0446\u0443 CCC_DialogDBQueueFeeding \u0438 \u043a\u043e\u043f\u0438\u0440\u0443\u0435\u0442 \u0442\u0443\u0434\u0430 \u0432\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0418 \u043f\u043e\u0442\u043e\u043c \u043f\u043e\u0440\u0446\u0438\u043e\u043d\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u0438\u0445 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0447\u0442\u043e \u0443\u0441\u043a\u043e\u0440\u044f\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0422\u0430\u0431\u043b\u0438\u0446\u0430 DialogDbQueue - \u0445\u0440\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0449\u0451 \u043d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f QBMDBQueueCurrent - \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u0442\u0430\u0441\u043a\u0438 QBMDBQueueOwerview - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0414\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 - \u043b\u0443\u0447\u0448\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u044e \u0412 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 DB \u2013 CheckDataConsistensely \u0414\u0435\u043b\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0434 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u043c - \u0435\u0441\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 Installation Guide \u041c\u043e\u0436\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u041c\u043e\u0436\u0435\u0442 \u043f\u043e\u043c\u043e\u0447\u044c \u0412 \u0444\u0430\u0439\u043b\u0435 C:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\150_SDK\\SQL\\DB-examples.txt == TRIGGERS ==== Check for disabled triggers: SELECT DISTINCT o.NAME,CASE o.type WHEN 'U' THEN 'Table' ELSE '' END AS TableType,CASE '%' WHEN '%' THEN 'all' ELSE '\"' + t.NAME +'\"' END AS Triggername,t.is_disabled FROM sys.objects o JOIN sys.triggers t ON o.object_id=t.parent_id WHERE o.type IN('U') AND o.NAME LIKE '%' AND t.is_disabled =1 AND (0 =0 AND t.NAME LIKE '%' OR 0 =1 AND t.NAME NOT LIKE '%') ORDER BY 1 Enable OneIM Triggers: Exec QBM_PtriggerEnable '%','%'","title":"Troubleshooting"},{"location":"23.%20OneIM%20Course/#_4","text":"c:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\000_Install_DataImport-demolabv8\\OneIM-FlightCheck.ps1","title":"\u0422\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{"location":"23.%20OneIM%20Course/#_5","text":"c:\\Users\\alaptev\\Desktop\\1IM Course\\OneIM_AdHoc_Partner_Training\\Material\\005_Tooling\\Dev-GoodPractice-UnitTests.docx \u041b\u0443\u0447\u0448\u0435 \u0442\u0435\u043c\u043f\u043b\u0430\u0439\u0442 \u043d\u0435 \u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0438 \u0432\u044b\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u0441\u0435 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u044b","title":"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430"},{"location":"23.%20OneIM%20Course/#_6","text":"\u0424\u0438\u043a\u0441\u0438\u0442\u044c \u043d\u0430 \u0434\u0435\u0432\u0435 \u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043a\u0441\u044b \u043d\u0430 \u043f\u0440\u043e\u0434\u0430\u043a\u0442 \u041d\u0430 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u0435 \u0434\u043e\u0431\u0438\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u0431\u0435\u0437 \u043e\u0448\u0438\u0431\u043e\u043a","title":"\u0422\u0430\u043d\u0441\u043f\u043e\u0440\u0442"},{"location":"24.%20One%20Identity%20API/","text":"24. One Identity API 22 \u044f\u043d\u0432\u0430\u0440\u044f 2020 \u0433. 10:41 Api Designer https://support.oneidentity.com/technical-documents/identity-manager/8.1/api-designer-user-and-development-guide \u041f\u0440\u0438\u043c\u0435\u0440\u044b QBM\\dvd\\AddOn\\ApiSamples \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c Debug App server \u0412 web.config \\<add key=\"debugmode\" value=\"true\"/> #Run script \\$Param1 = \"465e6cb3-7a7d-41ec-9690-21963867a256\" \\$Param2 = \"d6d14a3a-c8fd-46fe-9daf-9a61a8d4180d\" \\$Param3 = \"True\" \\$Param4 = \"OK\" \\$body1 = @{parameters = @(\"465e6cb3-7a7d-41ec-9690-21963867a256\", \"d6d14a3a-c8fd-46fe-9daf-9a61a8d4180d\", \"True\", \"OK\") } | ConvertTo-Json \\$newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/script/CCC_MakeDecision \" -WebSession \\$wsession -Method Put -Body \\$body1 -ContentType \"application/json; charset=utf-8\").uri \u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 (\u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u0441\u0435 5 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0431\u044b\u043b\u043e!) \\$authdata = @{AuthString = \"Module=DialogUser;User=[REDACTED_USER];Password=\" } \\$authJson = ConvertTo-Json \\$authdata -Depth 2 # Login (important, pass the NAME for your session variable in -SessionVariable) Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/auth/apphost \" -Body \\$authJson.ToString() -Method Post -UseDefaultCredentials -Headers @{Accept = \"application/json\" } -SessionVariable wsession \\$body1 = @{parameters = @(\"d6d14a3a-c8fd-46fe-9daf-9a61a8d4180d\", \"True\", \"OK\", \"\",\"\" ) } | ConvertTo-Json \\$newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/PersonWantsOrg/465e6cb3-7a7d-41ec-9690-21963867a256/method/MakeDecision \" -WebSession \\$wsession -Method Put -Body \\$body1 -ContentType \"application/json; charset=utf-8\").uri https://www.oneidentity.com/community/identity-manager/f/forum/30736/personwantsorg-method-makedecision-was-not-found \u0412\u044b\u0437\u043e\u0432 \u043c\u0435\u0442\u043e\u0434\u0430 \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 Postman https://academy.terrasoft.ru/documents/technic-sdk/7-15/vyzov-servisa-s-pomoshchyu-postman \u041d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0441\u043a\u0440\u0438\u043f\u0442, \u0447\u0435\u0440\u0435\u0437 api Create a new program function \u2018Enable script execution\u2019 in Designer. Assign the script to the program function. Create a new permission group and assign the group to the newly created program function. Assign user to the new permission group. Compile the database. Execute the script via Identity Manager REST API. From \\< https://support.oneidentity.com/identity-manager/kb/226961/error-you-are-not-allowed-to-run-this-method-when-executing-script-over-identity-manager-rest-api > You are right that, at least for version 7.0.x, your authenticated user (depending on the authenticator) needs to have the mentioned program function assigned. (Short Name Common_StartScript). What's new in 7.1 in regards to the scripts, ist that the REST API will block the execution of script if you script does not have a program function assigned, for security reasons. The authenticated user must be entitled to use the same program function. This is an addition to the requirements, that the authenticated user must be entitled to use the program function \"Allow the starting of arbitrary scripts from the frontend\" in order to execute a script in general. Note: To keep things simple, this program function is allowed to be the Common_StartScript program function. As a reminder and for completeness, two links around the program functions. How to check which program functions are available to the current user? http://documents.software.dell.com/identity-manager/7.1.1/user-guide-for-the-user-interface-and-default-functions/error-search/which-program-functions-are-available-to-the-current-user How to assign the program functions? http://documents.software.dell.com/identity-manager/7.1.1/configuration-guide/granting-one-identity-manager-schema-permissions/availability-of-certain-functionality From \\< https://www.oneidentity.com/community/identity-manager/f/forum/21567/calling-scripts-via-application-server-restful-api-using-common_startscripts-permission-not-working > !!!!! https://coderoad.ru/911859/WCF-REST-%D0%BF%D0%BE%D1%81%D1%82-XML-%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80-%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82%D0%B8%D0%BB-%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D1%83-400-%D0%BD%D0%B5%D0%B4%D0%BE%D0%BF%D1%83%D1%81%D1%82%D0%B8%D0%BC%D1%8B%D0%B9-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81","title":"24. One Identity API"},{"location":"24.%20One%20Identity%20API/#5","text":"\\$authdata = @{AuthString = \"Module=DialogUser;User=[REDACTED_USER];Password=\" } \\$authJson = ConvertTo-Json \\$authdata -Depth 2 # Login (important, pass the NAME for your session variable in -SessionVariable) Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/auth/apphost \" -Body \\$authJson.ToString() -Method Post -UseDefaultCredentials -Headers @{Accept = \"application/json\" } -SessionVariable wsession \\$body1 = @{parameters = @(\"d6d14a3a-c8fd-46fe-9daf-9a61a8d4180d\", \"True\", \"OK\", \"\",\"\" ) } | ConvertTo-Json \\$newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/PersonWantsOrg/465e6cb3-7a7d-41ec-9690-21963867a256/method/MakeDecision \" -WebSession \\$wsession -Method Put -Body \\$body1 -ContentType \"application/json; charset=utf-8\").uri https://www.oneidentity.com/community/identity-manager/f/forum/30736/personwantsorg-method-makedecision-was-not-found","title":"\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 (\u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432\u0441\u0435 5 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0431\u044b\u043b\u043e!)"},{"location":"24.%20One%20Identity%20API/#_1","text":"Postman https://academy.terrasoft.ru/documents/technic-sdk/7-15/vyzov-servisa-s-pomoshchyu-postman","title":"\u0412\u044b\u0437\u043e\u0432 \u043c\u0435\u0442\u043e\u0434\u0430 \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430"},{"location":"24.%20One%20Identity%20API/#api","text":"Create a new program function \u2018Enable script execution\u2019 in Designer. Assign the script to the program function. Create a new permission group and assign the group to the newly created program function. Assign user to the new permission group. Compile the database. Execute the script via Identity Manager REST API. From \\< https://support.oneidentity.com/identity-manager/kb/226961/error-you-are-not-allowed-to-run-this-method-when-executing-script-over-identity-manager-rest-api > You are right that, at least for version 7.0.x, your authenticated user (depending on the authenticator) needs to have the mentioned program function assigned. (Short Name Common_StartScript). What's new in 7.1 in regards to the scripts, ist that the REST API will block the execution of script if you script does not have a program function assigned, for security reasons. The authenticated user must be entitled to use the same program function. This is an addition to the requirements, that the authenticated user must be entitled to use the program function \"Allow the starting of arbitrary scripts from the frontend\" in order to execute a script in general. Note: To keep things simple, this program function is allowed to be the Common_StartScript program function. As a reminder and for completeness, two links around the program functions. How to check which program functions are available to the current user? http://documents.software.dell.com/identity-manager/7.1.1/user-guide-for-the-user-interface-and-default-functions/error-search/which-program-functions-are-available-to-the-current-user How to assign the program functions? http://documents.software.dell.com/identity-manager/7.1.1/configuration-guide/granting-one-identity-manager-schema-permissions/availability-of-certain-functionality From \\< https://www.oneidentity.com/community/identity-manager/f/forum/21567/calling-scripts-via-application-server-restful-api-using-common_startscripts-permission-not-working > !!!!! https://coderoad.ru/911859/WCF-REST-%D0%BF%D0%BE%D1%81%D1%82-XML-%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80-%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82%D0%B8%D0%BB-%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D1%83-400-%D0%BD%D0%B5%D0%B4%D0%BE%D0%BF%D1%83%D1%81%D1%82%D0%B8%D0%BC%D1%8B%D0%B9-%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81","title":"\u041d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0441\u043a\u0440\u0438\u043f\u0442, \u0447\u0435\u0440\u0435\u0437 api"},{"location":"25.%20One%20Identity%20SOAP/","text":"25. One Identity SOAP 6 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2020 \u0433. 11:32 https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/117 https://t-oneim-4.domain/SoapService/Q1IMService.asmx?WSDL - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (wsdl) https://t-oneim-4.domain/SoapService/Q1IMService.asmx - \u0430\u0434\u0440\u0435\u0441 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 SOAP \u0415\u0441\u043b\u0438 Postman \u0440\u0443\u0433\u0430\u0435\u0442\u0441\u044f - \u043d\u0430\u0434\u043e \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430\u0445 \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c Content-Type text/xml CreateSingle Object \\<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:web=\"http://www.quest.com/webservices/\"> \\<soapenv:Header> \\<web:LoginInformation> \\<!--Optional:--> \\<web:AuthString>Module=DialogUser;user=[REDACTED_USER];Password=[REDACTED]</web:AuthString> \\</web:LoginInformation> \\</soapenv:Header> \\<soapenv:Body> \\<web:CreateSingleObject> \\<!--Optional:--> \\<web:objectType>Person\\</web:objectType> \\<!--Optional:--> \\<web:newValues> \\<!--Zero or more repetitions:--> \\<web:KeyValuePair> \\<!--Optional:--> \\<web:Key>FirstName\\</web:Key> \\<!--Optional:--> \\<web:Value>User1\\</web:Value> \\</web:KeyValuePair> \\<web:KeyValuePair> \\<!--Optional:--> \\<web:Key>LastName\\</web:Key> \\<!--Optional:--> \\<web:Value>Test\\</web:Value> \\</web:KeyValuePair> \\</web:newValues> \\</web:CreateSingleObject> \\</soapenv:Body> \\</soapenv:Envelope> GetSingleObject \\<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:web=\"http://www.quest.com/webservices/\"> \\<soapenv:Header> \\<web:LoginInformation> \\<!--Optional:--> \\<web:AuthString>Module=DialogUser;user=[REDACTED_USER];Password=[REDACTED]</web:AuthString> \\</web:LoginInformation> \\</soapenv:Header> \\<soapenv:Body> \\<web:GetSingleObject> \\<!--Optional:--> \\<web:objectType>Person\\</web:objectType> \\<!--Optional:--> \\<web:pkName>CentralAccount\\</web:pkName> \\<!--Optional:--> \\<web:pkValue>alexb\\</web:pkValue> \\<!--Optional:--> \\<web:columnNames> \\<!--Zero or more repetitions:--> \\<web:string>UID_Department\\</web:string> \\</web:columnNames> \\</web:GetSingleObject> \\</soapenv:Body> \\</soapenv:Envelope>","title":"25. One Identity SOAP"},{"location":"25.%20One%20Identity%20SOAP/#createsingle-object","text":"\\<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:web=\"http://www.quest.com/webservices/\"> \\<soapenv:Header> \\<web:LoginInformation> \\<!--Optional:--> \\<web:AuthString>Module=DialogUser;user=[REDACTED_USER];Password=[REDACTED]</web:AuthString> \\</web:LoginInformation> \\</soapenv:Header> \\<soapenv:Body> \\<web:CreateSingleObject> \\<!--Optional:--> \\<web:objectType>Person\\</web:objectType> \\<!--Optional:--> \\<web:newValues> \\<!--Zero or more repetitions:--> \\<web:KeyValuePair> \\<!--Optional:--> \\<web:Key>FirstName\\</web:Key> \\<!--Optional:--> \\<web:Value>User1\\</web:Value> \\</web:KeyValuePair> \\<web:KeyValuePair> \\<!--Optional:--> \\<web:Key>LastName\\</web:Key> \\<!--Optional:--> \\<web:Value>Test\\</web:Value> \\</web:KeyValuePair> \\</web:newValues> \\</web:CreateSingleObject> \\</soapenv:Body> \\</soapenv:Envelope>","title":"CreateSingle Object"},{"location":"25.%20One%20Identity%20SOAP/#getsingleobject","text":"\\<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:web=\"http://www.quest.com/webservices/\"> \\<soapenv:Header> \\<web:LoginInformation> \\<!--Optional:--> \\<web:AuthString>Module=DialogUser;user=[REDACTED_USER];Password=[REDACTED]</web:AuthString> \\</web:LoginInformation> \\</soapenv:Header> \\<soapenv:Body> \\<web:GetSingleObject> \\<!--Optional:--> \\<web:objectType>Person\\</web:objectType> \\<!--Optional:--> \\<web:pkName>CentralAccount\\</web:pkName> \\<!--Optional:--> \\<web:pkValue>alexb\\</web:pkValue> \\<!--Optional:--> \\<web:columnNames> \\<!--Zero or more repetitions:--> \\<web:string>UID_Department\\</web:string> \\</web:columnNames> \\</web:GetSingleObject> \\</soapenv:Body> \\</soapenv:Envelope>","title":"GetSingleObject"},{"location":"26.%20One%20Identity%20Skype/","text":"26. One Identity Skype 21 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2020 \u0433. 15:02 Public Function Z_Connector_Skype_Add_Account(account As SingleDbObjectSnapshot) As String Dim scriptText As String = Z_Get_Email_Template_Body(\"Z_Skype_Create\") Dim output As New List(Of String) 'output.Add(\"userDataJSON\") Dim scriptParams As New Dictionary(Of String, Object) scriptParams.Add(\"guid\", account.GetValue(\"ObjectGUID\").String) scriptParams.Add(\"pool\", account.GetValue(\"CCC_RegistrarPool\").String) scriptParams.Add(\"sip\", account.GetValue(\"CCC_SipAddress\").String) Dim results As IDictionary(Of String, Object) = Z_Run_PowerShell(scriptText, scriptParams, output) 'Dim outputLines = CType(results.Item(\"__OUTPUT__\"), List(Of String)) 'logger.Trace(\"outputLines = \" & String.Join(vbCrLf, outputLines)) Try Z_Send_Mail_New_Account_To_ISA(account.GetValue(\"XObjectKey\").String) Catch ex As Exception logger.Error(ex, \"error while sending mail to ISA\") End Try Z_Assign_Add_Group(account.GetValue(\"UID_Person\").String, Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\Skype\\DefaultGroupCN\")) Return account.GetValue(\"ObjectGUID\").String End Function Public Function Z_Connector_Skype_Recon() As String Dim scriptText As String = Z_Get_Email_Template_Body(\"Z_Skype_Recon\") Dim output As New List(Of String) output.Add(\"userDataJSON\") Dim scriptParams As New Dictionary(Of String, Object) Dim results As IDictionary(Of String, Object) = Z_Run_PowerShell(scriptText, scriptParams, output) Dim obj = results.Item(\"userDataJSON\") logger.Trace(\"data from skype = \" & results.Item(\"userDataJSON\").ToString()) Dim skypeUsers As List(Of Dictionary(Of String, String)) = JsonConvert.DeserializeObject(Of List(Of Dictionary(Of String, String)))(results.Item(\"userDataJSON\").ToString()) Dim f As ISqlFormatter = Connection.SqlFormatter Dim skypeSystemId As String = Z_Get_UNS_System_Id(\"Skype\") Connection.Variables.Put(\"FULLSYNC\", True) Try For Each nextAccnt As Dictionary(Of String, String) In skypeUsers Dim login As String = nextAccnt.Item(\"samaccountname\") Dim currentAccntId As String = Connection.GetSingleProperty(\"UNSAccountB\", \"UID_UNSAccountB\", f.UidComparison(\"UID_UNSRootB\", skypeSystemId) & \" and \" & f.Comparison(\"ObjectGUID\", nextAccnt.Item(\"objectguid\"), ValType.String)) Dim account As ISingleDbObject = If (String.IsNullOrEmpty(currentAccntId), Connection.CreateSingle(\"UNSAccountB\"), Connection.CreateSingle(\"UNSAccountB\", currentAccntId)) If String.IsNullOrEmpty(currentAccntId) Then VID_PutValueSafe(account, \"UID_UNSRootB\", skypeSystemId) VID_PutValueSafe(account, \"IsGroupAccount\", 0) VID_PutValueSafe(account, \"ObjectGUID\", nextAccnt.Item(\"objectguid\")) VID_PutValueSafe(account, \"UID_TSBBehavior\", \"TSB-FullManaged\") VID_PutValueSafe(account, \"cn\", login) VID_PutValueSafe(account, \"AccountName\", login) 'VID_PutValueSafe(account, \"UID_Person\", personId) account.Save() account = Connection.CreateSingle(\"UNSAccountB\", account.GetValue(\"UID_UNSAccountB\").String) End If 'logger.Trace(\"pool 3 from db = \" & account.GetValue(\"CCC_RegistrarPool\").String) VID_PutValueSafe(account, \"CCC_RegistrarPool\", nextAccnt.Item(\"pool\")) 'logger.Trace(\"pool from sys = \" & nextAccnt.Item(\"pool\")) VID_PutValueSafe(account, \"CCC_SipAddress\", nextAccnt.Item(\"sipaddress\")) 'logger.Trace(\"pool from db = \" & account.GetValue(\"CCC_RegistrarPool\").String) 'logger.Trace(\"sipaddress = \" & nextAccnt.Item(\"sipaddress\")) 'logger.Trace(\"pool 3a from db = \" & account.GetValue(\"CCC_RegistrarPool\").String) 'logger.Trace(\"sip 3a from db = \" & account.GetValue(\"CCC_SipAddress\").String) account.Save() Next Finally Connection.Variables.Remove(\"FULLSYNC\") End Try Return \"success\" & skypeUsers.Count End Function Public Function Z_Connector_Skype_Recon_Incremental() As String logger.trace(\"ENTER\") Dim scriptText As String = Z_Get_Email_Template_Body(\"Z_Skype_Recon\") Dim skypeSystemId As String = Z_Get_UNS_System_Id(\"Skype\") Dim output As New List(Of String) output.Add(\"userDataJSON\") Dim scriptParams As New Dictionary(Of String, Object) Dim f As ISqlFormatter = Connection.SqlFormatter Dim results As IDictionary(Of String, Object) = Z_Run_PowerShell(scriptText, scriptParams, output) Dim obj = results.Item(\"userDataJSON\") logger.Trace(\"data from skype = \" & results.Item(\"userDataJSON\").ToString()) Dim skypeUsers As List(Of Dictionary(Of String, String)) = JsonConvert.DeserializeObject(Of List(Of Dictionary(Of String, String)))(results.Item(\"userDataJSON\").ToString()) logger.Trace(\"skype users amount: \" & skypeUsers.count) 'list of skype accounts that are currently present in idm Dim idmSkypeAccountGUIDs As New List(Of String) Dim existingObjects As IColDbObject = Connection.CreateCol(\"UNSAccountB\") Z_Add_All_Columns_To_Output_Result(\"UNSAccountB\", existingObjects) existingObjects.Prototype.WhereClause = f.UidComparison( \"UID_UNSRootB\", skypeSystemId) existingObjects.Load() For Each nextRow As IColElem In existingObjects idmSkypeAccountGUIDs.Add( nextRow.getValue(\"ObjectGUID\").string) Next logger.Trace(\"idm skype users amount: \" & idmSkypeAccountGUIDs.count) Dim newUsersCount As Integer = 0 Connection.Variables.Put(\"FULLSYNC\", True) Try For Each nextAccnt As Dictionary(Of String, String) In skypeUsers Try Dim adguid As String = nextAccnt.Item(\"objectguid\") If String.IsNullOrEmpty(adguid) OrElse idmSkypeAccountGUIDs.contains(adguid) Then 'account is already loaded in idm Continue For End If 'account is not loaded - create it in idm Dim login As String = nextAccnt.Item(\"samaccountname\") If String.IsNullOrEmpty(login) Then 'weird account - dont load it Continue For End If Dim account As ISingleDbObject = Connection.CreateSingle(\"UNSAccountB\") VID_PutValueSafe(account, \"UID_UNSRootB\", skypeSystemId) VID_PutValueSafe(account, \"IsGroupAccount\", 0) VID_PutValueSafe(account, \"ObjectGUID\", nextAccnt.Item(\"objectguid\")) VID_PutValueSafe(account, \"UID_TSBBehavior\", \"TSB-FullManaged\") VID_PutValueSafe(account, \"cn\", login) VID_PutValueSafe(account, \"AccountName\", login) VID_PutValueSafe(account, \"CCC_RegistrarPool\", nextAccnt.Item(\"pool\")) VID_PutValueSafe(account, \"CCC_SipAddress\", nextAccnt.Item(\"sipaddress\")) logger.Trace(\"pool from db = \" & account.GetValue(\"CCC_RegistrarPool\").String) logger.Trace(\"sipaddress from db = \" & account.GetValue(\"CCC_SipAddress\").String) account.Save() account = Connection.CreateSingle(\"UNSAccountB\", account.GetValue(\"UID_UNSAccountB\").String) VID_PutValueSafe(account, \"CCC_RegistrarPool\", nextAccnt.Item(\"pool\")) VID_PutValueSafe(account, \"CCC_SipAddress\", nextAccnt.Item(\"sipaddress\")) account.Save() newUsersCount = newUsersCount + 1 'Exit For Catch ex As Exception logger.Error(ex, \"error linking skype\") End Try Next Finally Connection.Variables.Remove(\"FULLSYNC\") End Try logger.trace(\"EXIT\") Return newUsersCount.ToString() End Function Public Function Z_Connector_Skype_Link_By_GUID() As String logger.Trace(\"ENTER\") Dim skypeSystemId As String = Z_Get_UNS_System_Id(\"Skype\") Dim f As ISqlFormatter = Connection.SqlFormatter Dim accountsToLink As IColDbObject = Connection.CreateCol(\"UNSAccountB\") Z_Add_All_Columns_To_Output_Result(\"UNSAccountB\", accountsToLink) 'accountsToLink.Prototype.WhereClause = f.UidComparison( \"UID_UNSRootB\", skypeSystemId) & \" and uid_person is null and objectguid is not null and objectguid in (select objectguid from adsaccount where objectguid is not null and uid_person is not null and (samaccountname like 'artyuhin_ia' or samaccountname like 'kurmesov_nm'))\" 'accountsToLink.Prototype.WhereClause = f.UidComparison( \"UID_UNSRootB\", skypeSystemId) & \" and uid_person is null and objectguid is not null and objectguid in (select top 25 objectguid from adsaccount where objectguid is not null and uid_person is not null )\" accountsToLink.Prototype.WhereClause = f.UidComparison( \"UID_UNSRootB\", skypeSystemId) & \" and uid_person is null and objectguid is not null and objectguid in (select objectguid from adsaccount where objectguid is not null and uid_person is not null )\" accountsToLink.Load() For Each nextRow As IColElem In accountsToLink Dim guid As String = nextRow.getValue(\"ObjectGUID\").string Dim persId As String = Connection.GetSingleProperty(\"ADSAccount\",\"UID_Person\", f.Comparison(\"objectguid\", guid, ValType.String)) logger.Trace(\"linking account with objectguid \" & guid & \" to person \" & persId) Z_Link_Account(\"AccountDefinition_Skype\", nextRow.GetValue(\"UID_UNSAccountB\").String, persId, \"UNSAccountB\") 'Exit For Next logger.Trace(\"EXIT\") Return \"ok\" End Function","title":"26. One Identity Skype"},{"location":"27.%20One%20Identity%20Oracle/","text":"27. One Identity Oracle 21 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2020 \u0433. 15:32 Connect Oracle Database \u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u043f\u043e\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 Employee \u2013 TAB_NUM Accounts \u2013 LOGIN Organizations \u2013 ID Phone_Types \u2013 CDL_COD_OID Roles \u2013 ID Status \u2013 LOGIN USER_ROLE \u2013 LOGIN To configure synchronization with the native database connector Create a new synchronization project. Add mappings. Define property mapping rules and object matching rules. Create synchronization workflows. Create a start up configuration. Define the synchronization scope. Specify the base object of the synchronization. Specify the extent of the synchronization log. Run a consistency check. Activate the synchronization project. Save the new synchronization project in the database. ------ !!! \u041f\u0435\u0440\u0435\u0434 \u0442\u0435\u043c, \u043a\u0430\u043a \u043f\u043e\u0434\u0446\u0435\u043f\u0438\u0442\u044c \u0411\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445, \u043d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c Target System Type (Manager - Custom Target System). \u041f\u043e\u0441\u043b\u0435 - \u043d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c Target System \u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0432 \u043f\u043e\u043b\u0435 Target System Type \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 (\u041d\u0430\u0434\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c Manager \u043f\u0435\u0440\u0435\u0434 \u044d\u0442\u0438\u043c, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u043f\u043e\u0434\u0442\u044f\u043d\u0443\u043b \u0438\u0437 \u0411\u0414 \u0432\u0441\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e). \u0418 \u0443 \u043d\u0435\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c Synchronized by -> Scripted synchronization \u041f\u043e\u0442\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0442\u044c \u0411\u0414. \u041f\u043e\u0441\u043b\u0435 - \u043d\u0430\u0434\u043e \u0434\u0435\u043b\u0430\u0442\u044c Mapping, Workflow, Startup Configuration. \u041f\u0440\u0438 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0435, \u0435\u043c\u0443 \u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c UID_UNSRootB \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 Configuration (Sync Editor) - Variables \u0441\u043e\u0437\u0434\u0430\u0442\u044c IdentUNSRoot (Name \u0438 DisplayName), Value = (\u0438\u043c\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043d\u043e\u0439 Target system \u0432 Manager) \u0417\u0430\u0442\u0435\u043c, \u0432 mapping \u0421\u043f\u0440\u0430\u0432\u0430 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e vrtIdentUNSRoot \u043a\u0430\u043a fixed value \u2013 string - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \\$IdentUNSRoot\\$ \u0421\u043c\u0430\u043f\u0438\u0442\u044c \u0435\u0433\u043e \u0441 \u043b\u0435\u0432\u043e\u0439 VRT_UID_UNSRootB \u0417\u0430\u0439\u0442\u0438 \u0432 One Identity Manager connection \u2013 Edit Scope - UNSRootB Ident_UNSRoot='\\$IdentUNSRoot\\$' https://www.quest.com/community/one-identity/identity-manager/f/identity-manager-forum/21709/mapping-to-unsaccountb-error USER GROUP USER_ROLE LOGIN = AccountName \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 Oracle https://www.quest.com/community/one-identity/identity-manager/f/identity-manager-forum/20777/sample-of-insert-update-delete-to-an-oracle-database https://support.oneidentity.com/technical-documents/identity-manager/8.1/administration-guide-for-connecting-to-native-databases-through-database-systems-integration-module/7 https://support.oneidentity.com/technical-documents/identity-manager/8.0/administration-guide-for-connecting-to-custom-target-systems#TOPIC-852086 \u0415\u0441\u0442\u044c \u0432 Oracle DB \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (USSC_CREATE_USER) \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b \u0438\u0437 VB \u0441\u043a\u0440\u0438\u043f\u0442\u0430 https://stackoverflow.com/questions/44262036/vbscript-for-executing-oracle-procedure https://stackoverflow.com/questions/5997896/simple-task-connect-to-database-execute-a-stored-procedure-disconnect #If Not SCRIPTDEBUGGER Then References Devart.Data.Oracle.dll Imports Devart.Data.Oracle #End If Public Function GetOracleConnectionString() As String Dim cs As New Devart.Data.Oracle.OracleConnectionStringBuilder() cs.ConnectMode = Devart.Data.Oracle.OracleConnectMode.Default cs.Sid = \"\" cs.ServiceName =\"OIM_SD\" cs.UserId = \"OIM_SD\" cs.Password = \"Password123\" cs.Server = \"[REDACTED_IP]\" cs.Direct = True Return cs.ConnectionString End Function Public Sub OracleExecute(ByVal strSQL As String) Dim dbFac As IDbFactory = DbApp.GetFactoryByName(\"VI.DB.Oracle.ViOracleFactory,VI.DB.Oracle\") Using sf = DbApp.ConnectTo(GetOracleConnectionString()).Using(dbFac).BuildSessionFactory() Using dbSession = sf.OpenDbSession() dbSession.SqlExecuteNonQuery(strSQL) End Using End Using End Sub \u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u0437\u0430\u043f\u0443\u0441\u043a \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u043a\u0438 Public Sub OracleExecute() Dim dbFac As IDbFactory = DbApp.GetFactoryByName(\"VI.DB.Oracle.ViOracleFactory,VI.DB.Oracle\") Dim strSQL As String Dim tabnum As String 'strSQL = \"ussc_enable_employee(10024)\" strSQL = \"UPDATE ADMIN.ITSM_PERSONS SET PER_JOBTitle = '\u0421\u0442\u0430\u0440\u0448\u0438\u0439 \u0438\u043d\u0441\u043f\u0435\u043a\u0442\u043e\u0440 \u043a\u0430\u043d\u0446\u0435\u043b\u044f\u0440\u0438\u0438' WHERE PER_OID = 281478295650441\" Using sf = DbApp.ConnectTo(GetOracleConnectionString()).Using(dbFac).BuildSessionFactory() Using dbSession = sf.OpenDbSession() 'dbSession.SqlExecuteStoredProcedure(strSQL) dbSession.SqlExecuteNonQuery(strSQL) End Using End Using End Sub ----- https://www.devart.com/dotconnect/oracle/docs/Devart.Data.Oracle~Devart.Data.Oracle.OracleCommand~Parameters.html https://stackoverflow.com/questions/43771252/how-to-resolve-this-pls-00306-wrong-number-or-types-of-arguments-in-call \u0417\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b EXEC ussc_enable_user('AndriyanovGY'); ~~\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 UNSRootB - \u043d\u0435 \u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c NamespaceManagedBy = Generic!~~ \u0418\u043d\u0430\u0447\u0435 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 INSERT, UPDATE, DELETE \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441 VI_UnsAccountB_Generic (Call Script VI_UnsAccount_\\<Ident_UNSRoot>_\\<Event>) \u0412\u0441\u0435 \u043d\u043e\u0440\u043c, \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0438 \u0434\u043e\u043b\u0436\u0435\u043d \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u043e\u0439 \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u043c\u044b \u043f\u0438\u0448\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u043d\u044b\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0430 \u0432\u0445\u043e\u0434 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u0441\u043d\u0438\u043c\u043e\u043a \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 UNSAccountB \u0438 \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u0441\u043d\u0438\u043c\u043a\u0430 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043d\u0443\u0436\u043d\u044b\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b. \u0428\u0430\u0431\u043b\u043e\u043d\u044b \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0435 TSB_Uns_Generic_Templates \u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 UNSAccountB \u0443 \u043f\u043e\u043b\u044f AccountName \u043f\u043e\u043c\u0435\u043d\u044f\u043b \u0441 Value = \\$cn\\$ \u041d\u0430 If Not CBool(Variables(\"FULLSYNC\")) Then Value = \\$FK(UID_Person).CentralAccount\\$ Else Value = \\$cn\\$ End if #If Not SCRIPTDEBUGGER Then Imports System.Data.Common #End If Public Function Z_Connector_Oracle_Add_Account(systemName As String, account As SingleDbObjectSnapshot) As String Dim conn As DbConnection = Z_Get_Db_Connection(systemName) Try Dim sql As String = \"insert into Z_dell_user_1(cn,department) values(:cn, :department)\" Dim cmd As DbCommand = Z_Get_Db_Command(conn, sql) Z_Add_String_Sql_Param(cmd, \"cn\", account.GetValue(\"cn\").String) Z_Add_String_Sql_Param(cmd, \"department\", account.GetValue(\"CCC_DepartmentName\").String) cmd.ExecuteNonQuery() Finally conn.Dispose() End Try Return Nothing End Function Public Function Z_Connector_Oracle_Add_Account_1(systemName As String, account As SingleDbObjectSnapshot) As String Dim conn As DbConnection = Z_Get_Db_Connection(systemName) Try Dim sql As String = \"create user \"\"\" & account.GetValue(\"cn\").String & \"\"\" identified by \"\"1qaz2WSX\"\"\" Dim cmd As DbCommand = Z_Get_Db_Command(conn, sql) cmd.ExecuteNonQuery() sql = \"grant create session to \"\"\" & account.GetValue(\"cn\").String & \"\"\"\" cmd = Z_Get_Db_Command(conn, sql) cmd.ExecuteNonQuery() Finally conn.Dispose() End Try Return Nothing End Function Public Sub Z_Connector_Oracle_Update_Account(systemName As String, account As SingleDbObjectSnapshot) 'My.Computer.FileSystem.WriteAllText(\"C:\\temp\\TargetSystem1\\update.txt\", \"update\", False) 'My.Computer.FileSystem.WriteAllText(\"C:\\temp\\TargetSystem1\\update2.txt\", \"cn=\" & account.GetValue(\"cn\").String & \"; dep anme= \" & account.GetValue(\"CCC_DepartmentName\").String, False) 'My.Computer.FileSystem.WriteAllText(\"C:\\temp\\TargetSystem1\\update3.txt\", \"update 3\", False) 'My.Computer.FileSystem.WriteAllText(\"C:\\temp\\TargetSystem1\\update \" & account.GetValue(\"cn\").String & \".txt\", \"update \", False) 'My.Computer.FileSystem.WriteAllText(\"C:\\temp\\TargetSystem1\\update \" & account.GetValue(\"cn\").String & \".txt\", \"update \" & account.ToXmlString(True), False) 'My.Computer.FileSystem.WriteAllText(\"C:\\temp\\TargetSystem1\\systemName.txt\", \"systemName=\" & systemName, False) Dim conn As DbConnection = Z_Get_Db_Connection(systemName) Try Dim sql As String = \"update Z_dell_user_1 set department = :department where cn = :cn\" Dim cmd As DbCommand = Z_Get_Db_Command(conn, sql) Z_Add_String_Sql_Param(cmd, \"department\", account.GetValue(\"CCC_DepartmentName\").String) Z_Add_String_Sql_Param(cmd, \"cn\", account.GetValue(\"cn\").String) Dim rowNum As Integer = cmd.ExecuteNonQuery() ' My.Computer.FileSystem.WriteAllText(\"C:\\temp\\TargetSystem1\\update4.txt\", \"updated rows = \" & rowNum, False) Finally conn.Dispose() End Try End Sub Public Sub Z_Connector_Oracle_Remove_Account_From_Group(systemName As String, account As SingleDbObjectSnapshot, groupObj As SingleDbObjectSnapshot) 'My.Computer.FileSystem.WriteAllText(\"C:\\temp\\TargetSystem1\\delete membeship.txt\",\"create \", False) Dim conn As DbConnection = Z_Get_Db_Connection(systemName) Try Dim sql As String = \"delete from z_dell_user_group_1 where account_cn=:v_account_cn and group_cn=:v_group_cn\" Dim cmd As DbCommand = Z_Get_Db_Command(conn, sql) Z_Add_String_Sql_Param(cmd, \"v_account_cn\", account.GetValue(\"cn\").String) Z_Add_String_Sql_Param(cmd, \"v_group_cn\", groupObj.GetValue(\"cn\").String) cmd.ExecuteNonQuery() Finally conn.Dispose() End Try End Sub Public Sub Z_Connector_Oracle_Add_Account_To_Group(systemName As String, account As SingleDbObjectSnapshot, groupObj As SingleDbObjectSnapshot) 'My.Computer.FileSystem.WriteAllText(\"C:\\temp\\TargetSystem1\\create membeship nw.txt\",\"create \", False) Dim conn As DbConnection = Z_Get_Db_Connection(systemName) Try Dim sql As String = \"insert into z_dell_user_group_1 (account_cn, group_cn) values(:v_account_cn, :v_group_cn)\" Dim cmd As DbCommand = Z_Get_Db_Command(conn, sql) Z_Add_String_Sql_Param(cmd, \"v_account_cn\", account.GetValue(\"cn\").String) Z_Add_String_Sql_Param(cmd, \"v_group_cn\", groupObj.GetValue(\"cn\").String) cmd.ExecuteNonQuery() Finally conn.Dispose() End Try End Sub Public Sub Z_Connector_Oracle_Provision_Current_Roles(systemName As String, account As SingleDbObjectSnapshot) Dim f As ISqlFormatter = Connection.SqlFormatter Dim user As String = account.GetValue(\"cn\").String Dim UID_UNSAccountB As String = account.GetValue(\"UID_UNSAccountB\").String Dim roleList As New List(Of String) Dim currentRolesRows As IColDbObject = Nothing currentRolesRows = Connection.CreateCol(\"UNSAccountBInUNSGroupB\") currentRolesRows.Prototype.WhereClause = f.UidComparison(\"UID_UNSAccountB\", UID_UNSAccountB) currentRolesRows.Prototype(\"UID_UNSGroupB\").IsDisplayItem = True currentRolesRows.Load() For Each nextRole As IColElem In currentRolesRows roleList.Add(Connection.GetSingleProperty(\"UNSGroupB\", \"cn\", f.UidComparison(\"UID_UNSGroupB\",nextRole.GetValue(\"UID_UNSGroupB\").String))) Next Dim roleListStr As String = String.Join(\";\", roleList) Dim conn As DbConnection = Z_Get_Db_Connection(systemName) Try Dim sql As String = \"begin pkg_doc_rule.grants_modes(:user,:roles,:result); end;\" Dim cmd As DbCommand = Z_Get_Db_Command(conn, sql) Z_Add_String_Sql_Param(cmd, \"user\", user) Z_Add_String_Sql_Param(cmd, \"roles\", roleListStr) Z_Add_String_Sql_Output_Param(cmd, \"result\") cmd.ExecuteNonQuery() Dim result As String = cmd.Parameters(\"result\").Value.ToString() 'Return result Finally conn.Dispose() End Try End Sub 'don't analyze input systemId; we want to do it for all BPM systems Public Sub Z_Provision_To_BPM(systemId As String) Try Dim BPMCookieContainer As CookieContainer = Z_BPM_Authenticate() Dim pendingRequests As IColDbObject = Nothing pendingRequests = Connection.CreateCol(\"UNSRootB\") pendingRequests.Prototype.WhereClause = \"UID_UNSRootB in (select rb.UID_UNSRootB from PersonWantsOrg pwo inner join BaseTree bt on pwo.UID_Org=bt.UID_Org inner join QERReuseUS qr on qr.UID_AccProduct=bt.UID_AccProduct inner join QERResourceType qrt on qrt.UID_QERResourceType=qr.UID_QERResourceType inner join UNSRootB rb on rb.UID_UNSRootB=qr.ccc_UID_UNSRootB inner join DPRNameSpace ns on ns.UID_DPRNameSpace=rb.UID_DPRNameSpace where qrt.Ident_QERResourceType='OracleRole' and ns.Ident_DPRNameSpace='OracleSystemWithSubRoles' and (pwo.ccc_provisioningstatus='New' or pwo.ccc_provisioningstatus='Pending'))\" pendingRequests.Prototype(\"UID_UNSRootB\").IsDisplayItem = True pendingRequests.Load() For Each nextRequest As IColElem In pendingRequests logger.Trace(\"next oracle system to handle : \" & nextRequest.GetValue(\"UID_UNSRootB\").String) Z_Provision_To_BPM_For_System(nextRequest.GetValue(\"UID_UNSRootB\").String, BPMCookieContainer) Next Catch ex As Exception Z_Send_Email_To_Error_Auditor(\"Idm. BPM integration error.\", \"Error in BPM integration.\" & VbCrLf & \"Operation will be retried during next task run.\", ex) End Try End Sub Public Sub Z_Provision_To_BPM_For_System(systemId As String, BPMCookieContainer As CookieContainer ) Z_BPM_Check_Request_Status(systemId, BPMCookieContainer) Z_BPM_Send_Requests(systemId, BPMCookieContainer) End Sub 'check status of tickets that were sent to BPM 'if it is approved then mark assignedment as assigned (if assignment for the same role exists then abort it) Public Sub Z_BPM_Check_Request_Status(systemId As String, ext_BPMCookieContainer As CookieContainer) Dim f As ISqlFormatter = Connection.SqlFormatter 'pending tickets Dim pendingRequests As IColDbObject = Nothing pendingRequests = Connection.CreateCol(\"CCCBPMProvisioningRequest\") pendingRequests.Prototype.WhereClause = \"ccc_status='Pending' and \" & f.UidComparison(\"CCC_UID_UNSRootB\", systemId) pendingRequests.Prototype(\"UID_CCCBPMProvisioningRequest\").IsDisplayItem = True pendingRequests.Prototype(\"CCC_externalId\").IsDisplayItem = True pendingRequests.Prototype(\"CCC_UID_Person\").IsDisplayItem = True pendingRequests.Prototype(\"CCC_type\").IsDisplayItem = True pendingRequests.Load() For Each nextRequest As IColElem In pendingRequests Dim externalId As String = nextRequest.GetValue(\"CCC_externalId\").String Dim res As String = Nothing Dim resMessage As String = Nothing 'check ticket status in BPM Try Dim result As Dictionary(Of String, String) = Z_BPM_Get_Ticket_Status(externalId, ext_BPMCookieContainer) Dim ticketStatus = result.Item(\"status\") resMessage = result.Item(\"solutionText\") If ticketStatus.Contains(\"approved\") Then res = \"approved\" End If If ticketStatus.Contains(\"rejected\") Then res = \"rejected\" End If Catch ex As Exception logger.Error(ex, \"error while getting tikcet status for ticket \" & externalId) Z_Send_Email_To_Error_Auditor(\"Idm. BPM ticket status error.\", \"Error while checking ticket status for ticket with id = \" & externalId & \".\" & VbCrLf & \"Operation will be retried during next task run.\", ex) End Try If Not res Is Nothing Then Dim ticket As ISingleDbObject = Connection.CreateSingle(\"CCCBPMProvisioningRequest\", nextRequest.GetValue(\"UID_CCCBPMProvisioningRequest\").String) VID_PutValueSafe(ticket, \"CCC_status\", If (res = \"approved\", \"Approved\", \"Rejected\")) ' ticket.Save() Dim ticketItems As IColDbObject = Nothing ticketItems = Connection.CreateCol(\"CCCBPMRequestHasPWO\") ticketItems.Prototype.WhereClause = f.UidComparison(\"UID_CCCBPMProvisioningRequest\", nextRequest.GetValue(\"UID_CCCBPMProvisioningRequest\").String) ticketItems.Prototype(\"XObjectKey\").IsDisplayItem = True ticketItems.Prototype(\"UID_PersonWantsOrg\").IsDisplayItem = True ticketItems.Load() For Each nextTicketItem As IColElem In ticketItems Dim ticketItemObj As ISingleDbObject = Connection.CreateSingle(New DbObjectKey (nextTicketItem.GetValue(\"XObjectKey\").String)) VID_PutValueSafe(ticketItemObj, \"CCC_status\", If (res = \"approved\", \"Approved\", \"Rejected\")) ' ticketItemObj.Save() Dim pwo As ISingleDbObject = Connection.CreateSingle(\"PersonWantsOrg\", ticketItemObj.GetValue(\"UID_PersonWantsOrg\").String) logger.Trace(\"setting CCC_ProvisioningStatus to null\") VID_PutValueSafe(pwo, \"CCC_ProvisioningStatus\", Nothing) pwo.Save() pwo = Connection.CreateSingle(\"PersonWantsOrg\", ticketItemObj.GetValue(\"UID_PersonWantsOrg\").String) Dim os As String = pwo.GetValue(\"OrderState\").String logger.Trace(\"current pwo state = \" & os) If os \\<> \"Aborted\" Then pwo.Custom.CallMethod(\"MakeDecision\", \"sa\", If (res = \"approved\", True, False), resMessage) pwo.Save() End If If ticketItemObj.GetValue(\"CCC_type\") = \"ChangeSubRoles\" Then 'we have to abort previous request for the same resource Dim PreviousPWOs As IColDbObject = Connection.CreateCol(\"PersonWantsOrg\") PreviousPWOs.Prototype(\"UID_PersonWantsOrg\").IsDisplayItem = True PreviousPWOs.Prototype.WhereClause = \"not \" & f.UidComparison(\"UID_PersonWantsOrg\", pwo.GetValue(\"UID_PersonWantsOrg\").String) & \" and \" & f.UidComparison(\"UID_PersonOrdered\", pwo.GetValue(\"UID_PersonOrdered\").String) & \" and \" & f.UidComparison(\"UID_Org\", pwo.GetValue(\"UID_Org\").String) & \" and OrderState in ('Assigned', 'OrderProduct') \" PreviousPWOs.Load() For Each nextPendingPwo As IColElem In PreviousPWOs Dim pwoToCancel As ISingleDbObject = Connection.CreateSingle(\"PersonWantsOrg\", nextPendingPwo.GetValue(\"UID_PersonWantsOrg\").String) Dim cancelResult As Object = pwoToCancel.Custom.CallMethod(\"Abort\", \"\u0421\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0430 \u0437\u0430\u044f\u0432\u043a\u0430 \u043d\u0430 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0442\u043e\u0439 \u0436\u0435 \u0440\u043e\u043b\u0438\", Nothing, Nothing) pwoToCancel.Save() Next End If Next End If Next End Sub ' provision new requests Public Sub Z_BPM_Send_Requests(systemId As String, BPMCookieContainer As CookieContainer) Dim f As ISqlFormatter = Connection.SqlFormatter Dim newRequests As IColDbObject = Nothing newRequests = Connection.CreateCol(\"PersonWantsOrg\") newRequests.Prototype.WhereClause = \"UID_PersonWantsOrg in (select pwo.UID_PersonWantsOrg from PersonWantsOrg pwo inner join BaseTree bt on pwo.UID_Org=bt.UID_Org inner join QERReuseUS qr on qr.UID_AccProduct=bt.UID_AccProduct inner join QERResourceType qrt on qrt.UID_QERResourceType=qr.UID_QERResourceType inner join UNSRootB rb on rb.UID_UNSRootB=qr.ccc_UID_UNSRootB inner join DPRNameSpace ns on ns.UID_DPRNameSpace=rb.UID_DPRNameSpace where qrt.Ident_QERResourceType='OracleRole' and ns.Ident_DPRNameSpace='OracleSystemWithSubRoles' and (pwo.ccc_provisioningstatus='New') and \" & f.UidComparison(\"rb.UID_UNSRootB\", systemId) & \" )\" newRequests.Prototype(\"UID_PersonWantsOrg\").IsDisplayItem = True newRequests.Prototype(\"UID_PersonOrdered\").IsDisplayItem = True newRequests.Load() Dim allBenfs As New HashSet(Of String) For Each nextRequest As IColElem In newRequests Dim pwo As ISingleDbObject = Connection.CreateSingle(\"PersonWantsOrg\", nextRequest.GetValue(\"UID_PersonWantsOrg\").String) Dim benfId = nextRequest.GetValue(\"UID_PersonOrdered\").String allBenfs.Add(benfId) Next For Each nextBenfId As String In allBenfs 'check if active BPM ticket exists for this user - if so then postpone provisioning If Connection.Exists(\"CCCBPMProvisioningRequest\", \"ccc_status='Pending' and \" & f.UidComparison(\"CCC_UID_UNSRootB\", systemId) & \" and \" & f.UidComparison(\"CCC_UID_Person\", nextBenfId)) Then Continue For End If 'check if other requests have not reached provisioning phase Dim otherRequests As IColDbObject = Nothing otherRequests = Connection.CreateCol(\"PersonWantsOrg\") otherRequests.Prototype.WhereClause = \"UID_PersonWantsOrg in (select pwo.UID_PersonWantsOrg from PersonWantsOrg pwo inner join BaseTree bt on pwo.UID_Org=bt.UID_Org inner join QERReuseUS qr on qr.UID_AccProduct=bt.UID_AccProduct inner join QERResourceType qrt on qrt.UID_QERResourceType=qr.UID_QERResourceType inner join UNSRootB rb on rb.UID_UNSRootB=qr.ccc_UID_UNSRootB inner join DPRNameSpace ns on ns.UID_DPRNameSpace=rb.UID_DPRNameSpace where qrt.Ident_QERResourceType='OracleRole' and ns.Ident_DPRNameSpace='OracleSystemWithSubRoles' and (pwo.ccc_provisioningstatus is null and pwo.OrderState in ('OrderProduct', 'OrderUnsubscribe')) and \" & f.UidComparison(\"rb.UID_UNSRootB\", systemId) & \" and \" & f.UidComparison(\"pwo.UID_PersonOrdered\", nextBenfId) & \" )\" otherRequests.Prototype(\"UID_PersonWantsOrg\").IsDisplayItem = True otherRequests.Prototype(\"UID_PersonOrdered\").IsDisplayItem = True otherRequests.Load() If otherRequests.Count \\<> 0 Then Continue For End If Dim userRequests As New List (Of ISingleDbObject) For Each nextRequest As IColElem In newRequests Dim pwo As ISingleDbObject = Connection.CreateSingle(\"PersonWantsOrg\", nextRequest.GetValue(\"UID_PersonWantsOrg\").String) Dim benfId = nextRequest.GetValue(\"UID_PersonOrdered\").String If nextBenfId = benfId Then userRequests.Add(pwo) End If Next Dim unsAccountId = Connection.GetSingleProperty(\"UNSAccountB\", \"UID_UNSAccountB\", f.UidComparison(\"UID_Person\", nextBenfId) & \" and \" & f.UidComparison(\"UID_UNSRootB\", systemId)).String Dim systemName As String = Connection.GetSingleProperty(\"UNSRootB\", \"Ident_UNSRoot\", f.UidComparison(\"UID_UNSRootB\", systemId) ) If String.IsNullOrEmpty(unsAccountId) Then Dim tp As String = \"TargetSystem\\UNS\\ITResource\\ & systemName & \"\\Prefix\" Dim tstPref As String = Connection.GetConfigParm(tp) logger.Trace(\"tstPref = \" & tstPref & \" for \" & tp) tstPref = If (String.IsNullOrEmpty(tstPref), \"\", tstPref.ToUpper()) Dim accntLogin = tstPref & Connection.GetSingleProperty(\"Person\", \"CentralAccount\", f.UidComparison(\"UID_Person\", nextBenfId)).String accntLogin = accntLogin.ToUpper() 'mail template that has a body with SQL script used to crate user Dim createScriptTemplateName As String = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\ & systemName & \"\\CreateUserScriptTemplateName\") If String.IsNullOrEmpty(createScriptTemplateName) Then 'using default template createScriptTemplateName = \"Z_Oracle_Create_Script_AD_Auth_2\" End If Dim generatedPwd As String = Nothing Dim useInternalPwd As String = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\ & systemName & \"\\UseInternalPassword\") If useInternalPwd = \"1\" Then generatedPwd = \"1234567yY\" End If Dim scriptBodyTemplate As String = Z_Get_Email_Template_Body(createScriptTemplateName) Dim scriptParams As New Dictionary(Of String, Object) scriptParams.Add(\"accountLogin\", accntLogin) scriptParams.Add(\"accountPassword\", generatedPwd) Dim scriptBody As String = Z_Velocity_Apply_Template(scriptBodyTemplate, scriptParams) logger.Trace(\"executing script: \" & scriptBody) Dim accountAlreadyExists As Boolean = False 'execute create user script line by line; create user instruction can't be inside begin-end pl sql block Dim conn As DbConnection = Z_Get_Db_Connection(systemId) Try Using cmd As DbCommand = Z_Get_Db_Command(conn, \"select username from all_users where upper(username)='\" & accntLogin & \"'\") Dim dr As IDataReader = cmd.ExecuteReader() If dr.Read() Then logger.trace(\"user \" & accntLogin & \" already exists in database; linking it\") accountAlreadyExists = True End If End Using If Not accountAlreadyExists Then For Each nextCmdLine As String In scriptBody.Split(ControlChars.CrLf.ToCharArray) logger.Trace(\"nextCmdLine = \" & nextCmdLine) If String.IsNullOrWhiteSpace(nextCmdLine) Continue For End If nextCmdLine = nextCmdLine.Trim() If nextCmdLine.EndsWith(\";\") Then 'to remove trailing \";\" symbol nextCmdLine = nextCmdLine.Substring(0, nextCmdLine.Length-1) End If logger.Trace(\"command to execute = \" & nextCmdLine) Using cmd As DbCommand = Z_Get_Db_Command(conn, nextCmdLine) cmd.ExecuteNonQuery() End Using Next End If 'Dim sql As String = \"create user \"\"\" & accntLogin & \"\"\" identified by \"\"1qaz2WSX\"\"\" 'Dim cmd As DbCommand = Z_Get_Db_Command(conn, sql) 'cmd.ExecuteNonQuery() 'sql = \"grant create session to \"\"\" & accntLogin & \"\"\"\" 'cmd = Z_Get_Db_Command(conn, sql) 'cmd.ExecuteNonQuery() Finally conn.Dispose() End Try Connection.Variables.Put(\"FULLSYNC\", True) Try Dim account As ISingleDbObject = Connection.CreateSingle(\"UNSAccountB\") VID_PutValueSafe(account, \"UID_UNSRootB\", systemId) VID_PutValueSafe(account, \"cn\", accntLogin) VID_PutValueSafe(account, \"AccountName\", accntLogin) VID_PutValueSafe(account, \"IsGroupAccount\", 1) VID_PutValueSafe(account, \"UID_TSBBehavior\", \"TSB-FullManaged\") VID_PutValueSafe(account, \"UID_Person\", nextBenfId) account.Save() unsAccountId = account.GetValue(\"UID_UNSAccountB\").String Finally Connection.Variables.Remove(\"FULLSYNC\") End Try If useInternalPwd = \"1\" AndAlso Not accountAlreadyExists Then Dim pwdEmailParams As New Dictionary(Of String, Object) pwdEmailParams.Add(\"accountId\", unsAccountId) pwdEmailParams.Add(\"systemId\", systemId) pwdEmailParams.Add(\"targetUserId\", nextBenfId) pwdEmailParams.Add(\"newPassword\", generatedPwd) Dim benfEmail As String = Connection.CreateSingle(\"Person\", nextBenfId).GetValue(\"DefaultEmailAddress\").String Z_Send_Html_Mail_With_Template(benfEmail, \"Z_New_Account_Oracle_With_Password\", pwdEmailParams) End If End If Dim currentlyAssignedRoles As IColDbObject = Nothing currentlyAssignedRoles = Connection.CreateCol(\"PersonWantsOrg\") currentlyAssignedRoles.Prototype.WhereClause = \"UID_PersonWantsOrg in (select pwo.UID_PersonWantsOrg from PersonWantsOrg pwo inner join BaseTree bt on pwo.UID_Org=bt.UID_Org inner join QERReuseUS qr on qr.UID_AccProduct=bt.UID_AccProduct inner join QERResourceType qrt on qrt.UID_QERResourceType=qr.UID_QERResourceType inner join UNSRootB rb on rb.UID_UNSRootB=qr.ccc_UID_UNSRootB inner join DPRNameSpace ns on ns.UID_DPRNameSpace=rb.UID_DPRNameSpace where qrt.Ident_QERResourceType='OracleRole' and ns.Ident_DPRNameSpace='OracleSystemWithSubRoles' and (pwo.OrderState not in ('Aborted', 'Dismissed', 'Unsubscribed', 'OrderProduct') or (pwo.OrderState = 'Aborted' and pwo.CCC_ProvisioningStatus='New')) and \" & f.UidComparison(\"rb.UID_UNSRootB\", systemId) & \" and \" & f.UidComparison(\"pwo.UID_PersonOrdered\", nextBenfId) & \" )\" currentlyAssignedRoles.Prototype(\"UID_PersonWantsOrg\").IsDisplayItem = True currentlyAssignedRoles.Prototype(\"UID_PersonOrdered\").IsDisplayItem = True currentlyAssignedRoles.Prototype(\"AdditionalData\").IsDisplayItem = True currentlyAssignedRoles.Prototype(\"CCC_UID_Department\").IsDisplayItem = True currentlyAssignedRoles.Prototype(\"UID_Department\").IsDisplayItem = True currentlyAssignedRoles.Prototype(\"UID_Org\").IsDisplayItem = True currentlyAssignedRoles.Load() Dim currentlyAssignedRolesInfo As New List(Of Dictionary(Of String, String)) For Each nextCurrentRole As IColElem In currentlyAssignedRoles Dim resourceId As String = Z_Get_MultiRequestableUnsubscribableProductTypeId_From_PWO(nextCurrentRole.GetValue(\"UID_PersonWantsOrg\").String) Dim resourceName As String = Connection.GetSingleProperty(\"QERReuseUS\", \"CCC_ExternalRef\", f.UidComparison(\"UID_QERReuseUS\", resourceId )) Dim nextInfo As New Dictionary(Of String, String) From {{\"name\", resourceName}, {\"UID_Department\", nextCurrentRole.GetValue(\"UID_Department\").String}, {\"CCC_UID_Department\", nextCurrentRole.GetValue(\"CCC_UID_Department\").String}} currentlyAssignedRolesInfo.Add(nextInfo) Next Dim addedRolesInfo As New List(Of Dictionary(Of String, String)) Dim removedRolesInfo As New List(Of Dictionary(Of String, String)) Dim changedRolesInfo As New List(Of Dictionary(Of String, String)) For Each pwo As ISingleDbObject In userRequests Dim orderState As String = pwo.GetValue(\"OrderState\").String Dim operation As String = Nothing 'a new product is requested to change sub roles of already assigned role If orderState = \"OrderProduct\" Then 'For Each nextCurrentRole As IColElem In currentlyAssignedRoles ' If nextCurrentRole.GetValue(\"UID_Org\").String = pwo.GetValue(\"UID_Org\").String ' operation = \"ChangeSubRoles\" ' Exit For ' End If 'Next If operation Is Nothing Then operation = \"Add\" End If Else operation = \"Remove\" End If Dim resourceId As String = Z_Get_MultiRequestableUnsubscribableProductTypeId_From_PWO(pwo.GetValue(\"UID_PersonWantsOrg\").String) Dim resourceName As String = Connection.GetSingleProperty(\"QERReuseUS\", \"CCC_ExternalRef\", f.UidComparison(\"UID_QERReuseUS\", resourceId)) Dim nextInfo As New Dictionary(Of String, String) From {{\"name\", resourceName}, {\"UID_Department\", pwo.GetValue(\"UID_Department\").String}, {\"CCC_UID_Department\", pwo.GetValue(\"CCC_UID_Department\").String}} If operation = \"Add\" Then addedRolesInfo.Add(nextInfo) ElseIf operation = \"ChangeSubRoles\" changedRolesInfo.Add(nextInfo) Else removedRolesInfo.Add(nextInfo) End If Next Dim ticketInternalName As String = Z_Get_Dialog_Next_Id(\"BPMTicketNumber\", 10) Dim dictionary As New Dictionary(Of String, Object) dictionary.Add(\"sequenceTicketNumber\", ticketInternalName) dictionary.Add(\"accountId\", unsAccountId) dictionary.Add(\"systemId\", systemId) dictionary.Add(\"targetUserId\", nextBenfId) dictionary.Add(\"addedRolesInfo\", addedRolesInfo) dictionary.Add(\"changedRolesInfo\", changedRolesInfo) dictionary.Add(\"removedRolesInfo\", removedRolesInfo) dictionary.Add(\"currentlyAssignedRolesInfo\", currentlyAssignedRolesInfo) 'Dim templateName As String = \"Z_BPM_Ticket_HTML\" Dim templateName As String = \"Z_BPM_Ticket_Plain_Text\" Dim bodyTemplate As String = Z_Get_Email_Template_Body(templateName) Dim subjectTemplate As String = Z_Get_Email_Template_Subject(templateName) Dim body As String = Z_Velocity_Apply_Template(bodyTemplate, dictionary) Dim subject As String = Z_Velocity_Apply_Template(subjectTemplate, dictionary) logger.Trace(\"ticket subject = \" & subject) logger.Trace(\"ticket body = \" & body) ' Z_Send_Html_Mail(\"[redacted-email] ' Z_Send_Plain_Text_Mail(\"[redacted-email] If BPMCookieContainer Is Nothing Then BPMCookieContainer = Z_BPM_Authenticate() End If Dim extTicketId As String = Nothing Dim extTicketNumber As String = Nothing Dim opStatus As String = \"Pending\" Try Dim caseDate As New Dictionary(Of String, String) Dim person As ISingleDbObject = Connection.CreateSingle(\"Person\", nextBenfId) Dim contactId As String = Nothing If Not String.IsNullOrEmpty(person.GetValue(\"CCC_AdditionalEmail\").String) Then contactId = Z_BPM_Find_Contact(person.GetValue(\"InternalName\").String, person.GetValue(\"CCC_AdditionalEmail\").String, BPMCookieContainer) End If If String.IsNullOrEmpty(contactId) Then contactId = Z_BPM_Find_Contact(person.GetValue(\"InternalName\").String, person.GetValue(\"DefaultEmailAddress\").String, BPMCookieContainer) End If Dim servicePactId As String = Z_BPM_Find_Service_Pact_By_Contact(contactId, BPMCookieContainer) 'use default contact and service pact If String.IsNullOrEmpty(servicePactId) Then For Each paramName As String In {\"ContactId\", \"ServicePactId\", \"ServiceItemId\", \"CategoryId\", \"GroupId\"} Dim ParVal2 = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\BPM\\DefaultTicketParameters\\ & paramName) Dim ParVal1 = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\ & systemName & \"\\DefaultTicketParameters\\ & paramName) Dim ParVal = If (String.IsNullOrEmpty(ParVal1), ParVal2, ParVal1 ) caseDate.Add(paramName, ParVal) Next Else 'use specific contact and service pact caseDate.Add(\"ContactId\", contactId) caseDate.Add(\"ServicePactId\", servicePactId) For Each paramName As String In { \"ServiceItemId\", \"CategoryId\", \"GroupId\"} Dim ParVal2 = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\BPM\\DefaultTicketParameters\\ & paramName) Dim ParVal1 = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\ & systemName & \"\\DefaultTicketParameters\\ & paramName) Dim ParVal = If (String.IsNullOrEmpty(ParVal1), ParVal2, ParVal1 ) caseDate.Add(paramName, ParVal) Next End If Dim createdTicketData As Dictionary(Of String, String) = Z_BPM_Create_Ticket(subject, body, caseDate, BPMCookieContainer) extTicketId = createdTicketData.Item(\"id\") extTicketNumber = createdTicketData.Item(\"number\") Catch ex As Exception logger.Error(ex, \"error while creating ticket for \" & nextBenfId) opStatus = \"Failed\" Z_Send_Email_To_Error_Auditor(\"Idm. BPM ticket creation error.\", \"Error while creating ticket for user with id = \" & nextBenfId & \".\" & VbCrLf & \"Ticket is marked as failed in CCCBPMProvisioningRequest table. Ticket will not be send again until you change CCC_ProvisioningStatus column in PersonWantsOrg table to 'New'.\", ex) End Try Dim ticket As ISingleDbObject = Connection.CreateSingle(\"CCCBPMProvisioningRequest\") VID_PutValueSafe(ticket, \"CCC_status\", opStatus) VID_PutValueSafe(ticket, \"CCC_type\", \"ChangesInRoles\") VID_PutValueSafe(ticket, \"CCC_UID_UNSRootB\", systemId) VID_PutValueSafe(ticket, \"CCC_UID_Person\", nextBenfId) VID_PutValueSafe(ticket, \"CCC_externalId\", extTicketId) VID_PutValueSafe(ticket, \"CCC_externalName\", extTicketNumber) VID_PutValueSafe(ticket, \"CCC_internalName\", ticketInternalName) ticket.Save() Dim ticketId As String = ticket.GetValue(\"UID_CCCBPMProvisioningRequest\").String For Each pwo As ISingleDbObject In userRequests Dim ticketTpPWO As ISingleDbObject = Connection.CreateSingle(\"CCCBPMRequestHasPWO\") Dim orderState As String = pwo.GetValue(\"OrderState\").String Dim operation As String = Nothing 'a new product is requested to change sub roles of already assigned role If orderState = \"OrderProduct\" Then 'For Each nextCurrentRole As IColElem In currentlyAssignedRoles ' If nextCurrentRole.GetValue(\"UID_Org\").String = pwo.GetValue(\"UID_Org\").String ' operation = \"ChangeSubRoles\" ' Exit For ' End If 'Next If operation Is Nothing Then operation = \"Add\" End If Else operation = \"Remove\" End If VID_PutValueSafe(ticketTpPWO, \"UID_CCCBPMProvisioningRequest\", ticketId) VID_PutValueSafe(ticketTpPWO, \"UID_PersonWantsOrg\", pwo.GetValue(\"UID_PersonWantsOrg\").String) VID_PutValueSafe(ticketTpPWO, \"CCC_status\", opStatus) VID_PutValueSafe(ticketTpPWO, \"CCC_type\", operation) ticketTpPWO.Save() logger.Trace(\"setting CCC_ProvisioningStatus to \" & opStatus) VID_PutValueSafe(pwo, \"CCC_ProvisioningStatus\", opStatus) ' pwo.Save() Next Next End Sub Public Function Z_Get_SubRole_Type_Name(depId As String) As String If String.IsNullOrEmpty(depId) Then Return Nothing End If Dim typ As String = Connection.CreateSingle(\"Department\", depId).GetValue(\"CustomProperty03\").String If typ = \"BE\" Then Return \"\u0411\u0430\u043b\u0430\u043d\u0441\u043e\u0432\u0430\u044f \u0435\u0434\u0438\u043d\u0438\u0446\u0430\" ElseIf typ = \"VP\" Then Return \"\u0422\u043e\u0447\u043a\u0430 \u0437\u0440\u0435\u043d\u0438\u044f\" ElseIf typ = \"Lang\" Then Return \"\u0412\u0438\u0434 \u044f\u0437\u044b\u043a\u0430\" ElseIf typ = \"Audit\" Then Return \"\u0412\u0438\u0434 \u0430\u0443\u0434\u0438\u0442\u0430\" ElseIf typ = \"Analysis\" Then Return \"\u0412\u0438\u0434 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\" ElseIf typ = \"Workshop\" Then Return \"\u0426\u0435\u0445/\u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435\" ElseIf typ = \"DepartmentOrg\" Then Return \"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 (\u041e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f)\" ElseIf typ = \"WorkshopOnly\" Then Return \"\u0426\u0435\u0445\" ElseIf typ = \"Company\" Then Return \"\u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435\" ElseIf typ = \"Department\" Then Return \"\u041f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435\" End If Return Nothing End Function Public Function Z_Connector_Oracle_Recon_And_Link(sysName As String) As String Dim f As ISqlFormatter = Connection.SqlFormatter Dim sysId = Z_Get_UNS_System_Id(sysName) Connection.Variables.Put(\"FULLSYNC\", True) Try Dim conn As DbConnection = Z_Get_Db_Connection(sysId) Try Using cmd As DbCommand = Z_Get_Db_Command(conn, \"select username from all_users order by 1\") Dim dr As IDataReader = cmd.ExecuteReader() While dr.Read() Dim login As String = dr(\"username\").tostring() logger.trace(\"handling \" & login) Dim currentaccntId As String = Connection.GetSingleProperty(\"UNSAccountB\", \"UID_UNSAccountB\",f.UidComparison(\"UID_UNSRootB\", sysId) & \" and \" & f.Comparison(\"AccountName\", login, ValType.String)) If Not String.IsNullOrEmpty(currentaccntId) Then logger.trace(\"already reconciled\") Continue While End If Dim persId As String = Connection.GetSingleProperty(\"Person\", \"UID_Person\", f.Comparison(\"CentralAccount\", login, ValType.string)) If String.IsNullOrEmpty(persId) Then logger.trace(\"persId not found\") Continue While End If Dim account As ISingleDbObject = Connection.CreateSingle(\"UNSAccountB\") VID_PutValueSafe(account, \"UID_UNSRootB\", sysId) VID_PutValueSafe(account, \"cn\", login) VID_PutValueSafe(account, \"AccountName\", login) VID_PutValueSafe(account, \"IsGroupAccount\", 1) VID_PutValueSafe(account, \"UID_TSBBehavior\", \"TSB-FullManaged\") VID_PutValueSafe(account, \"UID_Person\", persId) account.Save() End While End Using Finally conn.Dispose() End Try Finally Connection.Variables.Remove(\"FULLSYNC\") End Try Return \"ok\" End Function","title":"27. One Identity Oracle"},{"location":"28.%20One%20Identity%20%D0%BF%D1%80%D0%BE%D0%B8%D0%B7%D0%B2%D0%BE%D0%B4%D0%B8%D1%82%D0%B5%D0%BB%D1%8C%D0%BD%D0%BE%D1%81%D1%82%D1%8C/","text":"28. One Identity \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c 1 \u0430\u043f\u0440\u0435\u043b\u044f 2021 \u0433. 11:19 A safe minimum is 15 seconds. It was the default value in the past, but it was changed to 90 seconds due to issues in Oracle installations. Note: it is also possible to shorten the interval between runs of the DBScheduler job on SQL Server. Down to 1-2 minutes from the default of 5 minutes. But we would only recommend this for test environments. From \\< https://support.oneidentity.com/identity-manager/kb/151356/safe-settings-for-the-process-interval-on-job-services >","title":"28. One Identity \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"},{"location":"29.%20One%20Identity%20BPM/","text":"29. One Identity BPM 21 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2020 \u0433. 15:26 Imports System Imports System.Collections.Generic Imports System.Linq Imports System.Text Imports System.Threading Imports System.Threading.Tasks Imports System.IO Imports System.Net Imports Newtonsoft.Json Imports Newtonsoft.Json.Linq Dim NULL_GUID As String = \"00000000-0000-0000-0000-000000000000\" Public Function PrepareOdataRequest(ByVal localUrl As String, ByVal method As String, BPMCookieContainer As CookieContainer) As HttpWebRequest Dim url As String = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\BPM\\URL\") Dim request As HttpWebRequest = CType((WebRequest.CreateHttp(url & localUrl)), HttpWebRequest) request.Method = method request.ContentType = \"application/json;odata=verbose\" request.CookieContainer = BPMCookieContainer request.Timeout=60000 request.ReadWriteTimeout=60000 Dim csrfCookie = BPMCookieContainer.GetCookies(New Uri(url))(\"BPMCSRF\") If csrfCookie IsNot Nothing Then request.Headers.Add(\"BPMCSRF\", csrfCookie.Value) End If request.Accept = \"application/json;odata=verbose\" 'request.Headers.Add(\"Accept\", \"application/json\") Return request End Function Public Function RemoteCertificateValidationCallback(ByVal sender As Object, ByVal certificate As System.Security.Cryptography.X509Certificates.X509Certificate, ByVal chain As System.Security.Cryptography.X509Certificates.X509Chain, ByVal sslPolicyErrors As System.Net.Security.SslPolicyErrors) As Boolean Return True End Function Public Function Z_BPM_Authenticate() As CookieContainer logger.Trace(\"ENTER\") Dim userId As String = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\BPM\\User\") Dim pwd As String = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\BPM\\Password\") Dim url As String = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\BPM\\URL\") System.Net.ServicePointManager.ServerCertificateValidationCallback = New System.Net.Security.RemoteCertificateValidationCallback(AddressOf RemoteCertificateValidationCallback) Dim AuthServiceUrl As String = url & \"/ServiceModel/AuthService.svc/Login\" Dim request As HttpWebRequest = CType((WebRequest.CreateHttp(AuthServiceUrl)), HttpWebRequest) request.Method = \"POST\" request.ContentType = \"application/json\" Dim BPMCookieContainer As CookieContainer = New CookieContainer() request.CookieContainer = BPMCookieContainer Using requestStream = request.GetRequestStream() Using streamWriter = New StreamWriter(requestStream) Dim authstr = New With {Key.UserName = userId, Key.UserPassword = [REDACTED] Key.TimeZoneOffset = -180} streamWriter.Write(JsonConvert.SerializeObject(authstr)) End Using End Using Dim response As String = request.GetResponse().ToString logger.Trace(\"Exit\") Return BPMCookieContainer End Function Public Function Z_BPM_Create_Ticket(ByVal message As String, ByVal body As String, caseParams As Dictionary(Of String, String), Optional ext_BPMCookieContainer As CookieContainer = Nothing) As Dictionary(Of String, String) Dim url As String = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\BPM\\URL\") logger.Trace(\"ticket body = \" & body) Dim BPMCookieContainer As CookieContainer = If (Not (ext_BPMCookieContainer Is Nothing), ext_BPMCookieContainer, Z_BPM_Authenticate()) 'Dim caseDate = New With {Key.Subject = subject, Key.Symptoms = body, Key.ContactId=\"10a286ad-d460-4718-bc13-6a7bfbde59c4\", Key.ServicePactId=\"7c978b89-5802-4595-8c35-277908d7842a\", Key.ServiceItemId=\"b46b2ac5-4ce9-4f5e-9843-71d811472a6c\", Key.CategoryId=\"69580569-9e16-4466-a1d8-849aa868a719\"} Dim caseDate As New Dictionary(Of String, String) caseDate.Add(\"Subject\", message) caseDate.Add(\"Symptoms\", body) Dim allTicketParams As Dictionary(Of String, String) = Z_Dictionary_Merge(caseParams, caseDate) 'For Each paramName As String In {\"ContactId\", \"ServicePactId\", \"ServiceItemId\", \"CategoryId\", \"GroupId\", \"AccountId\", \"OriginId\"} ' caseDate.Add(paramName, Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\BPM\\DefaultTicketParameters\\ & paramName)) ' Next Dim ticketParamsStr As String = JsonConvert.SerializeObject(allTicketParams) logger.Trace(\"ticketParamsStr = \" & ticketParamsStr) 'logger.Trace(\"sleeping...\") 'System.Threading.Thread.Sleep(30000) 'logger.Trace(\"wake up!!!\") Dim request2 As HttpWebRequest = PrepareOdataRequest(\"/0/ServiceModel/EntityDataService.svc/CaseCollection\", \"POST\", BPMCookieContainer) Using requestStream = request2.GetRequestStream() Using streamWriter = New StreamWriter(requestStream) streamWriter.Write(ticketParamsStr) End Using End Using Dim resp = CType(request2.GetResponse(), HttpWebResponse) If resp.StatusCode \\<> HttpStatusCode.Created Then Throw New System.Exception(\"Ticket is not created; http status code = \" & resp.StatusCode.ToString()) End If Dim resultBody = Z_Http_Extract_Response_Body(resp) Dim wrap As IDictionary(Of String,Object) = JsonConvert.DeserializeObject( Of IDictionary(Of String,Object))(resultBody) Dim pb As JObject = JObject.Parse(resultBody) ' logger.Trace(\"number=\" & pb.SelectToken(\"d.Number\").ToString()) ' logger.Trace(\"id=\" & pb.SelectToken(\"d.Id\").ToString()) If pb.SelectToken(\"d.Id\") Is Nothing OrElse pb.SelectToken(\"d.Id\").Type = JTokenType.Null OrElse String.IsNullOrEmpty(pb.SelectToken(\"d.Id\").ToString()) Then Throw New System.Exception(\"Ticket id is not returned\") End If Dim result As New Dictionary(Of String, String) result.Add(\"id\", pb.SelectToken(\"d.Id\").ToString()) result.Add(\"number\", pb.SelectToken(\"d.Number\").ToString()) Return result End Function 'search BPM contact by full name and email. If more then one found then return null Public Function Z_BPM_Find_Contact(ByVal fullName As String, ByVal email As String, Optional ext_BPMCookieContainer As CookieContainer = Nothing) As String If String.IsNullOrEmpty(fullName) OrElse String.IsNullOrEmpty(email) Then Return Nothing End If Dim BPMCookieContainer As CookieContainer = If (Not (ext_BPMCookieContainer Is Nothing), ext_BPMCookieContainer, Z_BPM_Authenticate()) Dim filterString = \"Name eq '\" & fullName & \"' and Email eq '\" & email & \"'\" logger.Trace(\"filterString: \" & filterString) Dim request As HttpWebRequest = PrepareOdataRequest(\"/0/ServiceModel/EntityDataService.svc/ContactCollection?\\$filter=\" & filterString, \"GET\", BPMCookieContainer) Dim resp = CType(request.GetResponse(), HttpWebResponse) Dim resultBody = Z_Http_Extract_Response_Body(resp) logger.Trace(\"body: \" & resultBody) Dim pb As JObject = JObject.Parse(resultBody) Dim resultsJArray As JArray = CType(pb.SelectToken(\"d.results\"), JArray) logger.Trace(\"Found objects number: \" & resultsJArray.Count.ToString()) If resultsJArray.Count>1 Then Return Nothing ElseIf resultsJArray.Count=0 Then Return Nothing Else Return resultsJArray.First.SelectToken(\"Id\").ToString() End If End Function Public Function Z_BPM_Get_Ticket_Status(ByVal ticketId As String, Optional ext_BPMCookieContainer As CookieContainer = Nothing) As Dictionary(Of String, String) Dim result As New Dictionary(Of String, String) If False Then Dim ticketStatus As String = My.Computer.FileSystem.ReadAllText(\"C:\\Temp\\bpm\\ & ticketId & \".txt\") result.Add(\"status\", ticketStatus) result.Add(\"solutionText\", \"\") Else logger.Trace(\"check ticket status for ticketId = \" & ticketId) Dim BPMCookieContainer As CookieContainer = If (Not (ext_BPMCookieContainer Is Nothing), ext_BPMCookieContainer, Z_BPM_Authenticate()) Dim url As String = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\BPM\\URL\") logger.Trace(\"authenticated\") Dim request2 As HttpWebRequest = PrepareOdataRequest(\"/0/ServiceModel/EntityDataService.svc/CaseCollection(guid'\" & ticketId & \"')\", \"GET\", BPMCookieContainer) logger.Trace(\"request prepared\") Dim resp = CType(request2.GetResponse(), HttpWebResponse) logger.Trace( \"get response\") Dim resultBody = Z_Http_Extract_Response_Body(resp) logger.Trace(\"response body obtained: \" & resultBody) 'Dim wrap As IDictionary(Of String,Object) = JsonConvert.DeserializeObject( Of IDictionary(Of String,Object))(resultBody) Dim pb As JObject = JObject.Parse(resultBody) 'logger.Trace(\"number=\" & pb.SelectToken(\"d.Number\").ToString()) Dim ticketStatus As String = \"other\" Dim solutionText As String = Nothing Dim f As ISqlFormatter = Connection.SqlFormatter If Connection.GetSingleProperty(\"DialogConfigParm\", \"Value\", f.Comparison(\"FullPath\", \"TargetSystem\\UNS\\ITResource\\BPM\\Ticket\\approved\\StatusId[\" & pb.SelectToken(\"d.StatusId\").ToString() & \"]\\ClosureCodeId[\" & pb.SelectToken(\"d.ClosureCodeId\").ToString() & \"]\" , ValType.String)) = \"1\" Then ticketStatus = \"approved\" End If If Connection.GetSingleProperty(\"DialogConfigParm\", \"Value\", f.Comparison(\"FullPath\", \"TargetSystem\\UNS\\ITResource\\BPM\\Ticket\\rejected\\StatusId[\" & pb.SelectToken(\"d.StatusId\").ToString() & \"]\\ClosureCodeId[\" & pb.SelectToken(\"d.ClosureCodeId\").ToString() & \"]\" , ValType.String)) = \"1\" Then ticketStatus = \"rejected\" End If If pb.SelectToken(\"d.Solution\") IsNot Nothing AndAlso pb.SelectToken(\"d.Solution\").Type \\<> JTokenType.Null solutionText = pb.SelectToken(\"d.Solution\").ToString() End If logger.Trace(\"ticketStatus=\" & ticketStatus) logger.Trace(\"solutionText=\" & solutionText) result.Add(\"status\", ticketStatus) result.Add(\"solutionText\", solutionText) End If Return result End Function 'finds ServicePactId for given Contact Public Function Z_BPM_Find_Service_Pact_By_Contact(ByVal contactId As String, Optional ext_BPMCookieContainer As CookieContainer = Nothing) As String logger.Trace(\"contactId = \" & contactId) If String.IsNullOrEmpty(contactId) OrElse NULL_GUID = contactId Then logger.Trace(\"contactId is empty; no service pact \") Return Nothing End If Dim BPMCookieContainer As CookieContainer = If (Not (ext_BPMCookieContainer Is Nothing), ext_BPMCookieContainer, Z_BPM_Authenticate()) 'get AccountId (=ContractAgent) for given contact Dim request As HttpWebRequest = PrepareOdataRequest(\"/0/ServiceModel/EntityDataService.svc/ContactCollection(guid'\" & contactId & \"')\", \"GET\", BPMCookieContainer) Dim resp = CType(request.GetResponse(), HttpWebResponse) Dim resultBody = Z_Http_Extract_Response_Body(resp) logger.Trace(\"contractagent search resultBody = \" & resultBody) Dim pb As JObject = JObject.Parse(resultBody) Dim accId As String = pb.SelectToken(\"d.AccountId\").ToString() logger.Trace(\"accId = \" & accId) If String.IsNullOrEmpty(accId) OrElse NULL_GUID = accId Then Return Nothing End If 'get service pacts linked to this contract agent Dim filterString = \"Account/Id eq guid'\" & accId & \"'\" request = PrepareOdataRequest(\"/0/ServiceModel/EntityDataService.svc/ServiceObjectCollection?\\$filter=\" & filterString, \"GET\", BPMCookieContainer) resp = CType(request.GetResponse(), HttpWebResponse) resultBody = Z_Http_Extract_Response_Body(resp) logger.Trace(\"servicepact search resultBody = \" & resultBody) pb = JObject.Parse(resultBody) Dim resultsJArray As JArray = CType(pb.SelectToken(\"d.results\"), JArray) logger.Trace(\"servicepact number = \" & resultsJArray.Count.ToString()) If resultsJArray.Count>0 Then Return resultsJArray.First.SelectToken(\"ServicePactId\").ToString() Else Return Nothing End If End Function","title":"29. One Identity BPM"},{"location":"3.%20Scripts/","text":"3. Scripts 27 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2020 \u0433. 14:48 Script Meaning Script (OnDiscarded) The script is run after the object is discarded. Script (OnDiscarding) The script is run before the object is discarded. Script (OnLoaded) The script is run after the object is loaded. Script (OnSaved) The script is run after the object is saved. Script (OnSaving) The script is run before the object is saved. *From \\<<https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/29* \u041e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u0435 \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0441\u043a\u043e\u0440\u043e \u0443\u0432\u043e\u043b\u0435\u043d\u044b Public Function Z_Notify_Upcoming_User_Termination() As String Dim timeSqlParts As New List(Of String) For Each nextTimeDiff As String In {\"0\", \"5\", \"10\"} timeSqlParts.Add(\"DATEADD(DD,\" & nextTimeDiff & \",CAST(getdate() AS Date))=cast(ExitDate as date)\") Next Dim items As IColDbObject = Nothing items = Connection.CreateCol(\"Person\") items.Prototype(\"UID_Person\").IsDisplayItem = True items.Prototype(\"UID_PersonHead\").IsDisplayItem = True items.Prototype.WhereClause = \"ExitDate is not null and IsInActive=0 and IsExternal=1 and (\" & String.Join(\" or \", timeSqlParts) & \")\" items.Prototype.OrderBy = \"internalname\" items.Load() logger.Trace(\"pending termination count: \" & items.Count) Dim managersToUsers As New Dictionary(Of String, List(Of String)) For Each nextOp As IColElem In items Dim managerId = nextOp.GetValue(\"UID_PersonHead\").String Dim persId = nextOp.GetValue(\"UID_Person\").String If Not String.IsNullOrEmpty(managerId) Then Z_Dictionary_Put_If_Absent(managersToUsers, managerId, New List(Of String)) managersToUsers.Item(managerId).Add(persId) End If Next For Each nextManager As String In managersToUsers.Keys Try Dim userIds As List(Of String) = managersToUsers.Item(nextManager) logger.Trace(\"sending upcoming termination mail with \" & userIds.Count & \" users (\" & String.Join(\", \", userIds) & \") to \" & nextManager) Dim toEmail As String = Connection.CreateSingle(\"Person\", nextManager).GetValue(\"DefaultEmailAddress\").String Dim emailParams As New Dictionary(Of String, Object) emailParams.Add(\"userIds\", userIds) emailParams.Add(\"Receiver\", nextManager) Z_Send_Html_Mail_With_Template(toEmail, \"Z_Upcoming_Termination\", emailParams) Catch ex As Exception logger.Error(ex, \"error hile sending mail to \" & nextManager) End Try Next Return \"ok\" End Function \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e (\u0441\u043a\u0440\u0438\u043f\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u043e\u0447\u0442\u044b) #If Not SCRIPTDEBUGGER Then Imports System.Collections.Generic Imports System.Net.Mail #End If toAddress = Connection.GetConfigParm(\"Common\\MailNotification\\RedirectAllMailsTo\") ///////////////////////////////////////////////////////////////////////////////////////////////////// Sub Z_Send_Mail(ByVal toAddress As String, ByVal subject As String, ByVal body As String, isHTML As Boolean, Optional dontCatchError As Boolean = False) If Not String.IsNullOrWhiteSpace(Connection.GetConfigParm(\"Common\\MailNotification\\RedirectAllMailsTo\")) Then toAddress = Connection.GetConfigParm(\"Common\\MailNotification\\RedirectAllMailsTo\") logger.trace(\"system configured to redirect all mails to \" & toAddress) End If If String.IsNullOrEmpty(toAddress) Then logger.Warn(\"toAddress is empty for message with subject = \" & subject & \"; body = \" & body) Return End If If String.IsNullOrEmpty(Connection.GetConfigParm(\"Common\\MailNotification\\DefaultSender\")) OrElse String.IsNullOrEmpty(Connection.GetConfigParm(\"Common\\MailNotification\\SMTPRelay\")) Then logger.Warn(\"SMTP server is not configured for message with subject = \" & subject & \"; body = \" & body) Return End If Try **Dim Smtp_Server As New SmtpClient** **Dim e_mail As New MailMessage()** **' Smtp_Server.UseDefaultCredentials = False** **' Smtp_Server.Credentials = New Net.NetworkCredential( Connection.GetConfigParm(\"Common\\MailNotification\\SMTPDomain\") & \"\\\\ & Connection.GetConfigParm(\"Common\\MailNotification\\SMTPAccount\"), Connection.GetConfigParm(\"Common\\MailNotification\\SMTPPassword\"))** **Smtp_Server.Port = Convert.toInt32(Connection.GetConfigParm(\"Common\\MailNotification\\SMTPPort\"))** **Smtp_Server.EnableSsl = False** **Smtp_Server.Host = Connection.GetConfigParm(\"Common\\MailNotification\\SMTPRelay\")** **e_mail = New MailMessage()** **e_mail.From = New MailAddress(Connection.GetConfigParm(\"Common\\MailNotification\\DefaultSender\"))** **For Each addr As String In toAddress.Split(\",\"c)** **e_mail.To.Add(addr.trim())** **Next** **e_mail.Subject = subject** **e_mail.IsBodyHtml = isHTML** **e_mail.Body = body** **Smtp_Server.Send(e_mail)** Catch ex As Exception logger.error(ex, \"error while sending mesage with subject = \" & subject & \"; body = \" & body & \" to \" & toAddress) If dontCatchError Then Throw ex End If End Try End Sub \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u0442\u043a\u0438 SfB Public Function Z_Connector_Skype_Add_Account(account As SingleDbObjectSnapshot) As String Dim scriptText As String = Z_Get_Email_Template_Body(\"Z_Skype_Create\") Dim output As New List(Of String) 'output.Add(\"userDataJSON\") Dim scriptParams As New Dictionary(Of String, Object) scriptParams.Add(\"guid\", account.GetValue(\"ObjectGUID\").String) scriptParams.Add(\"pool\", account.GetValue(\"CCC_RegistrarPool\").String) scriptParams.Add(\"sip\", account.GetValue(\"CCC_SipAddress\").String) Dim results As IDictionary(Of String, Object) = Z_Run_PowerShell(scriptText, scriptParams, output) 'Dim outputLines = CType(results.Item(\"\\_\\_OUTPUT\\_\\_\"), List(Of String)) 'logger.Trace(\"outputLines = \" & String.Join(vbCrLf, outputLines)) Try Z_Send_Mail_New_Account_To_ISA(account.GetValue(\"XObjectKey\").String) Catch ex As Exception logger.Error(ex, \"error while sending mail to ISA\") End Try Z_Assign_Add_Group(account.GetValue(\"UID_Person\").String, Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\Skype\\DefaultGroupCN\")) Return account.GetValue(\"ObjectGUID\").String End Function ///////// *Z_Skype_Create* param(\\$guid, \\$pool, \\$sip) \\$ErrorActionPreference = \"Stop\" import-module SkypeForBusiness \\$trgUser = Get-CsAdUser \u2013Identity \\$guid If(\\$trgUser.Enabled -eq \\$null){ Write-output \"lync account not found; trying to create\" try { Enable-CSUser \\$guid -RegistrarPool \\$pool -SipAddress \\$sip } catch { \\$ErrorMessage = \\$\\_.Exception. Write-output \\$ErrorMessage if (\\$ErrorMessage -eq \"The EXECUTE permission was denied on the object 'XdsPublishItems', database 'xds', schema 'dbo'.\" ) { Write-output \"expected error; should not affect lync account\" } else { throw } } } elseif(\\$trgUser.Enabled -eq \\$false) { Write-output \"account was disabled; enable it\" Set-CsUser \u2013Identity \\$guid \u2013Enabled \\$True } else { Write-output \"lync account already enabled\" } \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0443\u0447\u0435\u0442\u043a\u0438 SfB 2 (\u0432 \u0441\u043a\u043f\u0440\u0438\u0442\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430) ``` 'Value=\"get-alias | Where-Object {\\$_.name -like 'tee*'}\" Dim theScript As New StringBuilder() ' load modules ' theScript.AppendLine(\"import-module activedirectory\" ) ' theScript.AppendLine(\"\\$myname=\"\"tee\"\"\") ' theScript.AppendLine(\"get-alias -Name \\$myName\") Dim SAMAccountName As String = \\$cn\\$ Dim Username As String = Connection.GetConfigParm(\"Custom\\SFB\\Username\") Dim Password As String = Connection.GetConfigParm(\"Custom\\SFB\\Password\") Dim RegistrarPool As String = Connection.GetConfigParm(\"Custom\\SFB\\RegistrarPool\") Dim SipAddressType As String = Connection.GetConfigParm(\"Custom\\SFB\\SipAddressType\") Dim SipDomain As String = Connection.GetConfigParm(\"Custom\\SFB\\SipDomain\") Dim URL As String = Connection.GetConfigParm(\"Custom\\SFB\\URL_oscPowerShell\") theScript.AppendLine(\"\\$creds = New-Object System.Management.Automation.PSCredential ('\"+Username+\"', (ConvertTo-SecureString '\"+Password+\"' -AsPlainText -Force))\") theScript.AppendLine(\"\\$s = New-PSSession -Name SfB -ConnectionUri '\"+URL+\"' -Credential \\$creds\") theScript.AppendLine(\"\\$session = Import-PSSession -Session \\$s\") theScript.AppendLine(\"Enable-CsUser -Identity 'nlmk\\+SAMAccountName+\"' -RegistrarPool '\"+RegistrarPool+\"' -SipAddressType '\"+SipAddressType+\"' -SipDomain '\"+SipDomain +\"'\") theScript.AppendLine(\"Remove-PSSession -Session \\$s\") Value = theScript.ToString() ``` \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 SQL \u0432 \u0441\u043f\u0440\u0438\u043f\u0442\u0430\u0445 ' Get the SQL formatter for our connection Dim f As ISqlFormatter = Session.SqlFormatter SQL \u0437\u0430\u043f\u0440\u043e\u0441 Public Function CCC_GetSingleValueWithOrderBy(UID_PersonWantsOrg As String) As String Dim f As ISqlFormatter = Session.SqlFormatter Dim WhereClause As String = f.AndRelation( f.Comparison(\"DecisionType\", \"Unsubscribe\", ValType.String), f.Comparison(\"UID_PersonWantsOrg\", UID_PersonWantsOrg, ValType.String)) Return Session.Source.GetSingleValue(Of String)(Query. From(\"PWODecisionHistory\"). Where(WhereClause). OrderBy(\"DateHead DESC\"). Select(\"ReasonHead\")) End Function <https://www.oneidentity.com/community/identity-manager/f/forum/21728/orderby-quering-the-database-with-script <span class=\"mark\"Dim qApprover = Query.From(Table.PWOHelperPWO, \"php\").Join(Table.PersonWantsOrg, \"pwo\").On(**Table.PWOHelperPWO.UID_PersonWantsOrg**).</span <span class=\"mark\"Select(Table.PersonWantsOrg.DecisionLevel).</span <span class=\"mark\"Where(\"php.UID_PersonHead = 'e94fd1f7-ecf2-4d5f-9955-f2311a110c39' AND php.LevelNumber = pwo.DecisionLevel\")</span Expression Clauses in a query - Forum - Identity Manager Community - One Identity Community \u0421 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c Join \u0438 OrderBy \u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 OrderBy \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u0438\u043f query \u043d\u0430 Iselect. \u0427\u0442\u043e\u0431\u044b \u044d\u0442\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c, \u043c\u0435\u043d\u044f\u0435\u0442 \u0442\u0438\u0432 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438. Dim qContentShort = Query.From(\"DialogWatchProperty\", \"watchprop\").Join(Table.DialogWatchOperation, \"watchop\").On(Table.DialogWatchOperation.UID_DialogWatchOperation).SelectAll().Where(strWhere).OrderBy(\"DialogWatchOperation.OperationDate\") colRecords = Session.Source.GetCollection(CType(qContentShort, Query)) \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0411\u0414 Dim xValue As String If (Session.Source().TryGetSingleValue(Of String)(\"\\<tablename\\\", \"\\<columnname\\\", \"\\<whereclause\\\", xValue)) Then 'work with xValue 'Else 'make something different End If <https://support.oneidentity.com/identity-manager/kb/204144/changed-behaviour-in-the-new-object-layer-api \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0411\u0414 2 Dim xValue As String Dim f As ISqlFormatter = Session.SqlFormatter Dim WhereClause As String = f.Comparison(\"UID_PersonWantsOrg\", UID_PersonWantsOrg, ValType.String,CompareOperator.Equal, FormatterOptions.None) Session.Source().TryGetSingleValue(Of String)(\"Table\",\"ColumnName\",WhereClause,xValue) **\u0418\u041b\u0418** XValue = Connection.GetSingleProperty(\"AccProductGroup\", \"UID_AccProductGroup\", WhereClause) \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f Dim CompanyCode As String Dim ObjectID as String = Right(\\$ObjectID\\$,8) Dim GroupName As String Dim ShortName as String = \\$ShortName\\$ Dim dbDepartment as IEntity '\u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e, \u043a\u0430\u043a \u043e\u0431\u044a\u0435\u043a\u0442 Dim f As ISqlFormatter = Session.SqlFormatter '\u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 sql \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u0430 Dim strUID_ParentDepartment As String Dim strWhere As String dbDepartment = session.Source.Get(\"Department\", \\$UID_Department\\$) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u043e \u0435\u0433\u043e UID CompanyCode = dbDepartment.GetValue(\"CustomProperty02\").ToString() '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u043a\u043e\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f strUID_ParentDepartment = dbDepartment.GetValue(\"UID_ParentDepartment\") '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 strWhere = f.UidComparison(\"UID_Department\", strUID_ParentDepartment) '\u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f UID \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f While string.IsNullOrWhiteSpace(CompanyCode) AND Session.Source.Exists(\"Department\",strWhere) '\u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u041a\u043e\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 = Null \u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 dbDepartment= session.Source.Get(\"Department\",strUID_ParentDepartment) CompanyCode = dbDepartment.GetValue(\"CustomProperty02\").ToString() strUID_ParentDepartment = dbDepartment.GetValue(\"UID_ParentDepartment\") strWhere = f.UidComparison(\"UID_Department\", strUID_ParentDepartment) End While If (not string.IsNullOrWhiteSpace(CompanyCode)) Then values(\"CompanyCode\") = CompanyCode End if GroupName = \"hab-\" + CompanyCode + \"-\" + ObjectID values(\"ObjectID\") = ObjectID values(\"ShortName\") = ShortName values(\"GroupName\") = GroupName values(\"Alias\") = GroupName values(\"CanonicalName\") = \"ao.nlmk/HAB/\" + GroupName values(\"DistinguishedName\") = \"CN=\" + GroupName + \",OU=HAB,DC=ao,DC=nlmk\" \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 DistinguishedName \u043f\u043e UID Public Function CCC_Test_UID_ADSContainer(ByVal strUID_ADSContainer As String) As String ' Get the SQL formatter for our connection Dim f As ISqlFormatter = Session.SqlFormatter 'Dim a As String ' Build the WHERE clause for our request Dim where As String = f.Comparison(\"UID_ADSContainer\", strUID_ADSContainer, ValType.String) ' Get Ident_Domain of the ADSContainer 'a = Session.Source.GetSingleValue(Of String)(\"ADSContainer\", \"DistinguishedName\", where) Dim xValue As String = \"1\" If (Session.Source().TryGetSingleValue(Of String)(\"ADSContainer\", \"DistinguishedName\", where, xValue)) Then 'work with xValue 'Else 'make something different End If Return xValue End Function \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 UID \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0434\u043e\u043c\u0435\u043d\u0430 Public Function CCC_Test_Get_UID_from_Name(ByVal Name As String) As String ' Get the SQL formatter for our connection Dim f As ISqlFormatter = Session.SqlFormatter ' Build the WHERE clause for our request Dim where As String = f.Comparison(\"ADSDomainName\", Name, ValType.String) ' Get Ident_Domain of the ADSContainer 'a = Session.Source.GetSingleValue(Of String)(\"ADSContainer\", \"DistinguishedName\", where) Dim xValue As String = \"1\" 'If (Session.Source().TryGetSingleValue(Of String)(\"ADSContainer\", \"DistinguishedName\", where, xValue)) Then 'work with xValue 'Else 'make something different 'End If xValue = Connection.GetSingleProperty(\"ADSDomain\", \"UID_ADSDomain\", where) Return xValue End Function \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 Dim URL As String = Connection.GetConfigParm(\"Custom\\Exchange\\URL_ExchPowerShell\") Where \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u041f\u0440\u043e\u0446\u0435\u0441\u0441 SQLComponent - Existsvalues(\"GroupOUName\").ToString \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c \u0432 Pre-Script \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0431\u043b\u043e\u043a\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 **Dim f As ISqlFormatter = Connection.SqlFormatter** **Value = f.Comparison(\"cn\", values(\"GroupOUName\"), ValType.String, CompareOperator.Equal)** values(\"GroupOUName\") = GroupOUName <img src=\"../media/3. Scripts/media/image1.png\" style=\"width:8.5625in;height:1.51042in\" alt=\"Param eters Parameter name Connectionprovider ConnectionString TableName Parameter value Value = Connectionlnfo.ConnectionProvider Value = Connectionlnfo.ConnectionString Value = \u2022ADSContainer\u2022 Dim f ISqIFormatter = = f.Comparison(' cn' \" / <img src=\"../media/3. Scripts/media/image2.png\" style=\"width:3.34375in;height:1.08333in\" alt=\"Process step properties General Generation Error handling Extended Name Process task Check Exist OU SQLComponent - Exists \" / SQL \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0414\u043b\u044f SQLComponent - Execute SQL Dim f As ISqlFormatter = Connection.SqlFormatter Value = \"delete ADSAccount where \" & f.UIDComparison(\"UID_ADSAccount\", \\$UID_ADSAccount\\$) \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f\u043c\u0438 \u0438\u0437 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0411\u0414 Public Function CCC_Test_Unique_CompanyCode(ByVal CompanyCode As Integer) As String Dim colPersons As IEntityCollection Dim strSubType As String Dim dbPerson As IEntity Dim f As ISqlFormatter = Session.SqlFormatter Dim Res As String **' create the query object** Dim qPerson = Query.From(\"CCCOrgUnitMapping\").SelectAll() **' Load a collection of Person objects** colPersons = Session.Source.GetCollection(qPerson) ' Run through the list For Each colElement As IEntity In colPersons dbPerson = colElement.Create(Session, EntityLoadType.Interactive) strSubType = dbPerson.GetValue(\"CCC_CompanyCode\").String Dim qPerson1 = Query.From(\"CCCOrgUnitMapping\").Where(Function(c) c.Column(\"CCC_CompanyCode\") = strSubType).SelectCount() Dim iCount = Session.Source.GetCount(qPerson1) If iCount = CompanyCode Then Return strSubType End If Next Return CompanyCode.ToString() End Function \u0428\u0430\u0431\u043b\u043e\u043d \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 Dim oDate As DateTime = Convert.ToDateTime(\\$CustomProperty08\\$) If oDate \\< Date.UtcNow then Value = True Else Value = False End If \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 \u0432 Manager \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 (\u0414\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b - OnSaving) Dim IPAddress As String = Convert.ToString(Value) If Not Regex.IsMatch(IPAddress, \"^\\d{1,3}\\\\\\d{1,3}\\\\\\d{1,3}\\\\\\d{1,3}\\$\", RegexOptions.CultureInvariant) Then Throw New **VIException**(\"IP Address submitted is not valid.\", ExceptionRelevance.EndUser) End If \u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0411\u0414 Insert \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u041d\u0430\u0434\u043e \u043f\u0440\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c Use Transaction <img src=\"../media/3. Scripts/media/image3.png\" style=\"width:11.22917in;height:1.14583in\" alt=\"Test script String UID_Person, String String UID.Org . \u2022 String Parameters _ Person (System.String) ccc (System.String) .Org (System. String) 4b9bebcf-204e4369-acf2-28ea26dd9af9 021 afe9f-c57c4e5e-8334-73045d1 b5780 Run Options \u2022 use master connection use transaction Record SQL log \" / <https://www.oneidentity.com/community/identity-manager/f/forum/30974/create-db-objects \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0411\u0414 Insert Public Function CCC_Test_Insert_DbObject(ByVal UID_Person As String, ByVal CCC_UID_Point_of_View As String, ByVal UID_Org As String) As String Dim dbCCCPointOfViewInAccProd As IEntity dbCCCPointOfViewInAccProd = Session.Source.CreateNew(\"CCCPointOfViewInAccProd\") Using t As New Transaction(Session) dbCCCPointOfViewInAccProd.PutValue(\"CCC_UID_Person\", UID_Person) dbCCCPointOfViewInAccProd.PutValue(\"CCC_UID_Point_of_View\", CCC_UID_Point_of_View) **Using uow As IUnitOfWork = Session.StartUnitOfWork()** **uow.Put(dbCCCPointOfViewInAccProd)** **uow.Commit()** **End Using** **t.Commit()** End Using Return UID_Person End Function \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 \u0411\u0414 Public Function CCC_Test_Delete_DbObject(ByVal UID_Person As String, ByVal UID_ShoppingCartOrder As String, ByVal UID_PWO As String) As String Dim CCC_UID_Point_of_View As String Dim dbPointOfView As IEntity Dim dbPointOfView_new As IEntity Dim f As ISqlFormatter = Session.SqlFormatter Dim Res As String ' create the query object Dim qPointOfView = Query.From(\"CCCPointOfViewInAccProd_T\").Where(Function(c) c.Column(\"CCC_UID_ShoppingCartOrder\") = UID_ShoppingCartOrder).SelectAll() ' Load a collection of Person objects Dim colPointsOfView = Session.Source.GetCollection(qPointOfView,EntityCollectionLoadType.Bulk) Using uow = Session.StartUnitOfWork() ' Walk through the list of all persons For Each colElement As IEntity In colPointsOfView ' Mark for deletion colElement.MarkForDeletion() ' put the object in the unit of work uow.Put(colElement) Next ' All person objects will be saved here! uow.Commit() End Using Return UID_Person End Function \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0411\u0414 dbcolCCCPersonnelActionsAPI = colElement.Create(Session, EntityLoadType.Interactive) dbcolCCCPersonnelActionsAPI.**PutValue**(\"CCC_InsertedDate\",Date.UtcNow) Using t As New Transaction(Session) Using uow As IUnitOfWork = Session.StartUnitOfWork() uow.Put(dbcolCCCPersonnelActionsAPI) uow.Commit() End Using t.Commit() End Using \u0421\u043b\u043e\u0436\u043d\u044b\u0439 Where WhereClause = f.AndRelation( \\_ f.Comparison(\"CCC_CompanyCode\", CompanyCode, ValType.String), \\_ f.Comparison(\"CCC_City\", City, ValType.String), \\_ f.Comparison(\"CCC_CompanySubCode\", CompanySubCode, ValType.String)) End If \u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438 AD Account Definition \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0434\u043b\u044f \u043f\u043e\u0447\u0442\u043e\u0432\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0440\u0435\u0436\u0438\u043c\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 Public Function CCC_PersonHasTSBAccountDef() As String '\u0422\u0430\u0431\u043b\u0438\u0446\u0430 PWOHelperPWO Dim f As ISqlFormatter = Session.SqlFormatter Dim UID_PersonOrdered As String = \\$FK(UID_PersonWantsOrg).UID_PersonOrdered\\$ Dim colPersonHasTSBAccountDef As IEntityCollection Dim colTSBAccountDef As IEntityCollection Dim dbTSBAccountDef As IEntity Dim UID_AccDef As String Dim Result As String Dim qTSBAccountDef = Query.From(\"TSBAccountDef\").Where(Function(c) c.Column(\"UID_DialogTableAccountType\") = \"ADS-T-ADSAccount\").SelectAll() colTSBAccountDef = Session.Source.GetCollection(qTSBAccountDef) For Each colElement As IEntity In colTSBAccountDef dbTSBAccountDef = colElement.Create(Session, EntityLoadType.Interactive) UID_AccDef = dbTSBAccountDef.GetValue(\"UID_TSBAccountDef\").String Dim qPersonHasTSBAccountDef = Query.From(\"PersonHasTSBAccountDef\").Where(Function(c) c.Column(\"UID_Person\") = UID_PersonOrdered And c.Column(\"UID_TSBAccountDef\") = UID_AccDef ).SelectCount() Dim iCount = Session.Source.GetCount(qPersonHasTSBAccountDef) If iCount \\ 0 Then Return \"\u0414\u0430\" End If Next Return \"\u041d\u0435\u0442\" End Function \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c Dim dbPWOHelperPWO As IEntity = Session.Source.Get(\"PWOHelperPWO\", strUID_PWOHelperPWO) Dim f As ISqlFormatter = Session.SqlFormatter Dim strCCC_UID_ShoppingCartOrder As String = dbPWOHelperPWO.CreateWalker(Session).GetValue(\"FK(UID_PersonWantsOrg).UID_ShoppingCartOrder\").String Dim res As String = dbPWOHelperPWO.CreateWalker(Session).GetValue(\"FK(UID_PersonWantsOrg).FK(ObjectKeyOrdered),QERAssign.FK(ObjectKeyAssignTarget),Org.Ident_Org\").String Dim qCCCPointOfViewInAccProd_T = Query.From(\"CCCPointOfViewInAccProd_T\") \\_ .Where(f.AndRelation( f.UidComparison(\"CCC_UID_ShoppingCartOrder\", strCCC_UID_ShoppingCartOrder), f.UidComparison(\"CCC_UID_Person\",strUID_PersonOrdered))) \\_ .Select(\"CCC_UID_Point_Of_View\") colqCCCPointOfViewInAccProd_T = Session.Source.GetCollection(qCCCPointOfViewInAccProd_T) For Each colElement As IEntity In colqCCCPointOfViewInAccProd_T dbCCCPointOfView = Connection.CreateSingle(\"CCCPoint_Of_View\", colElement.GetValue(\"CCC_UID_Point_Of_View\").String) res= res + (dbCCCPointOfView.GetValue(\"CCC_Pov_Name\").String) & \" \" Next Update \u0442\u0430\u0431\u043b\u0438\u0446\u044b WhereClause Dim f As ISqlFormatter = Connection.SqlFormatter Value = f.Comparison(\"UID_Department\", values(\"UID_Dep\"), ValType.String, CompareOperator.Equal) SQL \u0437\u0430\u043f\u0440\u043e\u0441 Public Function CCC_GetSingleValueWithOrderBy(UID_PersonWantsOrg As String) As String Dim f As ISqlFormatter = Session.SqlFormatter Dim WhereClause As String = f.AndRelation( f.Comparison(\"DecisionType\", \"Unsubscribe\", ValType.String), f.Comparison(\"UID_PersonWantsOrg\", UID_PersonWantsOrg, ValType.String)) Return Session.Source.GetSingleValue(Of String)(Query. From(\"PWODecisionHistory\"). Where(WhereClause). OrderBy(\"DateHead DESC\"). Select(\"ReasonHead\")) End Function \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043c\u0430\u0441\u0441\u0438\u0432\u0430 Dim arr1 As New ArrayList() Dim Col As New ArrayList() Arr1.add(\"123\") Arr1.add(\"123\") For Each I As String In arr1 If Not Col.Contains(I) Then Col.Add(I) End If Next Return Col.Count.ToString() \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0432\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0430 \u043f\u043e\u0442\u043e\u043c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043c\u0441\u044f \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u041b\u0438\u0441\u0442. \u041f\u043e\u0442\u043e\u043c \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u043b\u0438\u0441\u0442 \u043f\u0438\u0448\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0433\u043e \u043b\u0438\u0441\u0442\u0430. Dim f As ISqlFormatter = Session.SqlFormatter Dim colUsers As IEntityCollection Dim colUsers_unique As IEntityCollection Dim dbUser As IEntity Dim listUID_UNSAccountB As New List(Of String) Dim listUID_UNSAccountBAll As New List(Of String) Dim qUsers = Query.From(\"UNSAccountBInUNSGroupB\").Select(\"UID_UNSAccountB\") colUsers = Session.Source.GetCollection(qUsers,EntityCollectionLoadType.Slim) For Each colElement As IEntity In colUsers dbUser = colElement.Create(Session, EntityLoadType.Interactive) UID_UNSAccountB = dbUser.GetValue(\"UID_UNSAccountB\").String listUID_UNSAccountB.Add(UID_UNSAccountB) Next **listUID_UNSAccountBAll = listUID_UNSAccountB.Distinct().ToList()** Return listUID_UNSAccountBAll.count().tostring \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043b-\u0432\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0445 \u043f\u043e \u0442\u043e\u0447\u043a\u0430\u043c \u0437\u0440\u0435\u043d\u0438\u044f PreScript \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b PersonWantsOrg Dim UID_ShoppingCartOrder as String = \\$UID_ShoppingCartOrder\\$ Dim UID_PWO as String = \\$UID_PersonWantsOrg\\$ Dim dbPoV As IEntity '\u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e, \u043a\u0430\u043a \u043e\u0431\u044a\u0435\u043a\u0442 Dim dbBalanceUnit As IEntity Dim dbDepartment As IEntity Dim dbPerson As IEntity Dim strCCC_UID_BalanceUnit As String Dim strCCC_UID_SanctionDepartment As String Dim strUID_PersonHeadDep As String Dim strMail_PersonHeadDep As String Dim strMail_PersonHeadDep_all As String Dim XObjectKey as String Dim arr As New ArrayList() Dim Col As New ArrayList() Dim colPointsOfView As IEntityCollection Dim colPWOHelperPWO As IEntityCollection Dim CCC_UID_Point_of_View As String Dim dbPointOfView As IEntity Dim dbPWOHelperPWO As IEntity Dim dbPointOfView_new As IEntity Dim f As ISqlFormatter = Session.SqlFormatter Dim Res As String ' create the query object Dim qPointOfView = Query.From(\"CCCPointOfViewInAccProd_T\").Where(Function(c) c.Column(\"CCC_UID_ShoppingCartOrder\") = UID_ShoppingCartOrder).SelectAll() Dim qPointOfView_count = Query.From(\"CCCPointOfViewInAccProd_T\").Where(Function(c) c.Column(\"CCC_UID_ShoppingCartOrder\") = UID_ShoppingCartOrder).SelectCount() Dim CountApprover = Session.Source.GetCount(qPointOfView_count) ' Load a collection of Person objects colPointsOfView = Session.Source.GetCollection(qPointOfView) ' Run through the list For Each colElement As IEntity In colPointsOfView dbPointOfView = colElement.Create(Session, EntityLoadType.Interactive) CCC_UID_Point_of_View = dbPointOfView.GetValue(\"CCC_UID_Point_of_View\").String dbPoV = session.Source.Get(\"CCCPoint_of_View\", CCC_UID_Point_of_View) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 Point of View \u043f\u043e \u0435\u0433\u043e UID strCCC_UID_BalanceUnit = dbPoV.GetValue(\"CCC_UID_BalanceUnit\") dbBalanceUnit = session.Source.Get(\"CCCBalance_units\", strCCC_UID_BalanceUnit) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 Balance_unit \u043f\u043e \u0435\u0433\u043e UID strCCC_UID_SanctionDepartment = dbBalanceUnit.GetValue(\"CCC_UID_SanctionDepartment\") dbDepartment = session.Source.Get(\"Department\", strCCC_UID_SanctionDepartment) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 Department \u043f\u043e \u0435\u0433\u043e UID strUID_PersonHeadDep = dbDepartment.GetValue(\"UID_PersonHead\") **arr.Add(strUID_PersonHeadDep) ' Add to array uid person** dbPerson = session.Source.Get(\"Person\", strUID_PersonHeadDep) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 Person \u043f\u043e \u0435\u0433\u043e UID strMail_PersonHeadDep = dbPerson.GetValue(\"DefaultEmailAddress\") '\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 DefaultEmailAddress \u0443 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 If (not string.IsNullOrWhiteSpace(strMail_PersonHeadDep)) Then strMail_PersonHeadDep_all = strMail_PersonHeadDep + \"; \" + strMail_PersonHeadDep_all End If Next 'Calculate XObject PWOHelperPWO for mail template Dim qPWOHelperPWO = Query.From(\"PWOHelperPWO\").Where(Function(c) c.Column(\"UID_PersonWantsOrg\") = UID_PWO and c.Column(\"UID_PWODecisionRule\") = \"QER-PWODecisionRule-EX\").SelectAll() colPWOHelperPWO = Session.Source.GetCollection(qPWOHelperPWO) For Each colElement As IEntity In colPWOHelperPWO dbPWOHelperPWO = colElement.Create(Session, EntityLoadType.Interactive) XObjectKey = dbPWOHelperPWO.GetValue(\"XObjectKey\").String Next 'Create array from arr with unique values For Each I As String In arr If Not Col.Contains(I) Then Col.Add(I) End If Next values(\"Addresses\") = strMail_PersonHeadDep_all values(\"XObjectKey\") = XObjectKey values(\"CountApprover\") = Col.Count.ToString() <img src=\"../media/3. Scripts/media/image4.png\" style=\"width:9.9375in;height:5.90625in\" alt=\"O PersonWantsOrg Calculate CountAp.\u201e Person Wan tsOrg Calcu late Coun tApprover for Decision Step Update CountApprover for Decisio n Step Make positive decision for requ Process - PersonWantsOrg Calcula... O Perso nWa ntsOrg create PWOHe1perPW0 I O ShoppingCartOrder Send mail Schema Editor Param eters Parameter name V SuthenticationString Connectionprovider ConnectionString ObjectType WhereCIause val_CountApprover ConnectionVariabIes Parameter value value = Connectionlnfo.\u00c5uthString Value = Connectionlnfo.ConnectionProvider Value = Connectionlnfo.ConnectionString Value = \u2022PVVODecisionStep\u2022 Dim f As ISqIFormatter = Connection.SqIFormatter Value = f.ComparisonCUID_PVVODecisionStep , \u2022 \u2022ccc-23FA8465854A064181A8113F9F8DIC84\u2022, Val Value = valuesCCountApprover\u2022) Value = \u2022VarllVar21VarY \" / \u0412\u044b\u0432\u043e\u0434 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u043e \u0438\u0437 \u043c\u0430\u0441\u0441\u0438\u0432\u0430 Dim DetailStrg As New StringBuilder DetailStrg.AppendLine(FIO_Attestor) Return DetailStrg.ToString() ObjectWalker dbPWOHelperPWO_1 = colElement.Create(Session, EntityLoadType.Interactive) FIO_Attestor = dbPWOHelperPWO_1.CreateWalker(Session).GetValue(\"FK(UID_PersonHead).InternalName\").String Dim Pers as ISingleDbObject = Connection.CreateSingle(\"Person\", \\$UID_PersonHead\\$) Dim culture as String = Pers.Custom.CallMethod(\"GetCulture\").ToString **Pers.ObjectWalker.GetValue(\"FK(UID_DialogCultureFormat).Ident_DialogCulture\").String** \u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 Global variables owned by the set up program Syntax: Value = Variables(\"\\<variable name\\\") Example: Value = Variables(\"GENPROCID\") Value = Variables(\"FULLSYNC\") Process or process step variables created locally by a pre-script Syntax: Value = values(\"Name\") Example: Value = Values(\"FirstHomeServer\") *From \\<<https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/73* Allocating Parameter Values Define value templates in VB.Net syntax. The following statements can be used for allocating values: None Object columns or columns of a related object Syntax: Value = \\$\\<column name\\:\\<data type\\$ Value = \\${FK(\\<foreign key column).}\\<column name\\:\\<data type\\$ Example: Value = \\$Lastname\\$ Value = \\$PasswordNeverExpires:bool\\$ Value = \\$FK(Ident_Domain).Description\\$ Parameter from the optional parameter collection Syntax: Value = \\$PC(\\<parameter name)\\$ Example: Value = \\$PC(SRCUID_Application)\\$ Out parameter Parameters of type \"OUT\" or \"INOUT\" are parameters that can be used by process components to output a value. This value is then available to subsequent process steps in the process and can be used as a value for IN parameters. When you use OUT parameters you need to take care that these contain data at runtime. Alternatively, when the text is processed \"&OUT(\\<parameter name)&\" is entered, which means that the variable will not be replaced. Syntax: Value = \"&OUT(\\<Parameter name)&\" Example: Value = \"&Out(FileSize)&\" Global variables owned by the set up program Syntax: Value = Variables(\"\\<variable name\\\") Example: Value = Variables(\"GENPROCID\") Value = Variables(\"FULLSYNC\") Process or process step variables created locally by a pre-script Syntax: Value = values(\"Name\") Example: Value = Values(\"FirstHomeServer\") Querying Configuration Parameters The full path for the configuration parameter always has to be entered. Syntax: Value = Session.Config().GetConfigParm(\"\\<full path\\\") Example: Value = Session.Config().GetConfigParm(\"TargetSystem\\ADS\\RestoreMode\") VB.net Enter any VB.Net statement. Identity Manager 8.0 - Configuration Guide (oneidentity.com) \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \\#If Not SCRIPTDEBUGGER Then References VI.DataImport.dll Imports System.Collections.Generic Imports System.IO Imports System.Globalization Imports VI.DataImport \\#End If Dim SCLOG As String = Session.Config.GetConfigParm(\"Custom\\LogPath\") + \"CCC_Department_ImportFromAPI\\_\" + DateTime.Now.ToString(\"yyyy-MM-dd\") + \".txt\" Try colCCCDepartmentsAPI = Session.Source.GetCollection(qCCCDepartmentsAPI) Catch ex As Exception If Not ex.InnerException Is Nothing AndAlso Not ex.InnerException.InnerException Is Nothing Then CCC_VID_Write2Log(SCLOG, Environment.NewLine + Date.Now.ToString(\"yyyy-MM-dd HH:mm:ss\") + \" \" + \"ERROR @ \" + ex.Message + \" \" + ex.InnerException.Message + \" \" + ex.InnerException.InnerException.Message + \" \" + ex.StackTrace) ElseIf Not ex.InnerException Is Nothing Then CCC_VID_Write2Log(SCLOG, Environment.NewLine + Date.Now.ToString(\"yyyy-MM-dd HH:mm:ss\") + \" \" + \"ERROR @ \" + ex.Message + \" \" + ex.InnerException.Message + \" \" + ex.StackTrace) Else CCC_VID_Write2Log(SCLOG, Environment.NewLine + Date.Now.ToString(\"yyyy-MM-dd HH:mm:ss\") + \" \" + \"ERROR @ \" + ex.Message + \" \" + ex.StackTrace) End If End Try CCC_VID_Write2Log \\#If Not SCRIPTDEBUGGER Then References VI.Samba.Tools.dll \\#End If Public Sub CCC_VID_Write2Log(ByVal LogFile As String, ByVal Line As String) Dim logFilePath As System.String If Not AppData.Instance.RuntimeEnvironment.IsMono Then logFilePath = PathHelper.ConvertSeparators(LogFile) Else Dim sambaUncPath As New VI.Samba.Tools.SambaUncPath(LogFile) If Not sambaUncPath.IsLocal Then Throw New System.Exception(#LD(\"UNC-path \"\"{0}\"\" does not reference a local path.\", LogFile)#) Else logFilePath = sambaUncPath.LocalPath End If End If Dim f As System.IO.StreamWriter = Nothing Try f = New System.IO.StreamWriter(logFilePath, True, System.Text.Encoding.UTF8) f.NewLine() = Chr(13) & Chr(10) f.WriteLine(Line) Catch exc As System.Exception Throw New System.Exception(#LD(\"The path is '{0}'.\", logFilePath)#, exc) Finally If Not f Is Nothing Then f.Flush() f.Close() End If End Try End Sub \u0421\u0442\u0440\u043e\u043a\u0438 \u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0440\u043e\u043a Dim DetailStrg As New StringBuilder DetailStrg.AppendLine(\"qq\") Return DetailStrg.ToString() WHERE Dim f As ISqlFormatter = Session.SqlFormatter() Value = f.UidComparison(\"UID_ADSAccount\", \\$UID_ADSAccount\\$) EXPORT TO CSV CSVExportSingle <https://www.oneidentity.com/community/identity-manager/f/forum/30780/export-selectet-data-from-a-new-created-user-into-a-csv-file \u0424\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u0442\u044b Dim asd As String = expenddt.ToString(\"dd/MM/yyyy\") *From \\<<https://coderoad.ru/8644398/%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82-%D0%B4%D0%B0%D1%82%D1%8B-%D0%B2-vb-net* ObjectWalker Public Function CCC_Test_ObjectWalker (ByVal UID_PWO As String) As String Dim dbPWO As IEntity Dim strDisplayOrg As String Dim strDisplayOrgParent As String Dim strCCC_BPMServiceID As String dbPWO = Session.Source.Get(\"PersonWantsOrg\", UID_PWO) strDisplayOrg = dbPWO.CreateWalker(Session).GetValue(\"DisplayOrg\").String strDisplayOrgParent = dbPWO.CreateWalker(Session).GetValue(\"DisplayOrgParent\").String 'strCCC_BPMServiceID = dbPWO.CreateWalker(Session).GetValue(\"FK(UID_OrgParentOfParent).FK(UID_AccProduct).FK(UID_AccProductGroup).CCC_BPMServiceID\").String strCCC_BPMServiceID = dbPWO.CreateWalker(Session).GetValue(\"FK(UID_Org).FK(UID_AccProduct).FK(UID_AccProductGroup).CCC_BPMServiceID\").String Return strCCC_BPMServiceID End Function \u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 GreenPlum (Postgress) \u041d\u0430\u0434\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c odbc \u0434\u0440\u0430\u0439\u0432\u0435\u0440 <https://www.postgresql.org/ftp/odbc/versions/msi/ \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u044e\u0437\u0430\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435, \u0447\u0435\u0440\u0435\u0437 ADO .NET ( \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 ADO.NET (https_metanit.com) ) Public Sub CCC_Test_GreenPlum_TestConnection() Dim MyCon As New Odbc.OdbcConnection MyCon.ConnectionString = \"**Driver={PostgreSQL ANSI**};database=test001;server=[REDACTED_HOST];port=5432;uid=[REDACTED_USER];sslmode=disable;readonly=0;protocol=7.4;User ID=[REDACTED_USER];password=[REDACTED];\" MyCon.Open() If MyCon.State = ConnectionState.Open Then MsgBox(\"Connected To PostGres\", MsgBoxStyle.MsgBoxSetForeground) End If End Sub IDbCommand Interface *From \\<<https://docs.microsoft.com/en-us/dotnet/api/system.data.idbcommand?view=net-5.0* \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043f\u043e\u0441\u0442\u0433\u0440\u0435\u0441\u0441 Public Sub CCC_Test_GreenPlum_UpdateValue() Dim MyCon As New Odbc.OdbcConnection Dim DB = Connection.GetConfigParm(\"Custom\\GreenPlum\\GreenplumDB\") Dim ConnPort = Connection.GetConfigParm(\"Custom\\GreenPlum\\ConnectionPort\") Dim Srv = Connection.GetConfigParm(\"Custom\\GreenPlum\\GreenplumMaster\") Dim ConnUser = Connection.GetConfigParm(\"Custom\\GreenPlum\\ConnectionUser\") Dim ConnUserPass = Connection.GetConfigParm(\"Custom\\GreenPlum\\ConnectionUserPassword\") Dim strSQL As String = \"UPDATE AccessRights SET dimensionvalue = 'TestValue003' WHERE username = 'Alex';\" Dim strUserName As String MyCon.ConnectionString = \"Driver={PostgreSQL ANSI};Database=\" + DB + \";Server=\" + Srv + \";Port=\" + ConnPort + \";Uid=\" + ConnUser + \";Pwd=\" + ConnUserPass +\";\" MyCon.Open() ' Create a database command object Using dbCommand As IDbCommand = MyCon.CreateCommand() ' Set the SQL statement to execute dbCommand.CommandText = strSQL dbCommand.ExecuteNonQuery() End Using MyCon.Close() End Sub \u041a\u0430\u0432\u044b\u0447\u043a\u0438 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\u0445 \u0414\u043b\u044f postgress, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u0441 \u0442\u043e\u0447\u043a\u043e\u0439 \u0432 \u0438\u043c\u0435\u043d\u0438, \u043d\u0430\u0434\u043e \u0437\u0430\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438\u043c\u044f \u0432 \u043a\u0430\u0432\u044b\u0447\u043a\u0438 \u0427\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e \u0432 Vb.Net \u043d\u0430\u0434\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c '<span class=\"mark\"\"\"\"\" (4 \u043a\u0430\u0432\u044b\u0447\u043a\u0438!!!)</span \u041e\u0434\u043d\u0430 \u043a\u0430\u0432\u044b\u0447\u043a\u0438 - \u044d\u0442\u043e \"\" Dim MyVar as string = \"some text \"\"hello\"\" \" = some text \"hello\" *From \\<<https://stackoverflow.com/questions/7767037/how-to-put-data-containing-double-quotes-in-string-variable* \u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u0434\u043b\u044f UNSAccountB Identity Manager 8.0 - Administration Guide for Connecting to Custom Target Systems (oneidentity.com) \u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0415\u0441\u043b\u0438 \u043d\u0435 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0448\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 \u0411\u0414 (Person, ..) \u0442\u0430\u043a\u0438\u0435, \u043a\u0430\u043a \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438 \u0442.\u043f., \u0442\u043e \u043b\u0443\u0447\u0448\u0435 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c SingleDBObject - \u044d\u0442\u043e \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0431\u0435\u0433\u0430\u0435\u0448\u044c\u0441\u044f \u043f\u043e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0438 \u0434\u0435\u043b\u0430\u0435\u0448\u044c For Each colUser_unique As IEntity In colUsers_unique ~~dbUser_unique = colUser_unique.Create(Session, EntityLoadType.Interactive)~~ \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u0430\u043a: strGroupUID = colUser_unique .GetValue(\"UID_UNSGroupB\").String \u041f\u0440\u0438\u0447\u0435\u043c, \u0437\u0430\u043f\u0440\u043e\u0441 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0442\u0430\u043a: Dim qUser = Query.From(\"UNSAccountBInUNSGroupB\").Where(Function(c) c.Column(\"UID_UNSAccountB\") = UID_UNSAccountB). Select(\"UID_UNSGroupB\",\"UID_UNSAccountB\") [\u0414\u043b\u044f FK](onenote:#One%20Identity%20\u0441\u043a\u0440\u0438\u043f\u0442\u044b&section-id=[REDACTED_USER] dbDepartment = dbPerson.GetFk(Session, \"UID_Department\").GetParent() \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 Target System type (Custom Target System) \u043f\u043e UID_Person Public Function CCC_Test_ChildRelation_UNSAccountB (ByVal UID_Person As String) As String Dim dbPerson As ISingleDbObject Dim dbUNSRootB As IEntity Dim crUNSAccountB As IChildRelation 'Dim crDPRNameSpace As IChildRelation Dim dbUNSAccountB As ISingleDbObject = Nothing Dim dbDPRNameSpace As ISingleDbObject = Nothing Dim UID_UNSRootB As String Dim strIdent_DPRNameSpace As String dbPerson = Connection.CreateSingle(\"Person\", UID_Person) crUNSAccountB = dbPerson.GetCR(\"UNSAccountB\", \"UID_Person\") If crUNSAccountB.Children.Count = 1 Then For Each colElement As IColElem In crUNSAccountB.Children dbUNSAccountB = colElement.Create() Next UID_UNSRootB = dbUNSAccountB.GetValue(\"UID_UNSRootB\") dbUNSRootB = Session.Source.Get(\"UNSRootB\", UID_UNSRootB) strIdent_DPRNameSpace = dbUNSRootB.CreateWalker(Session).GetValue(\"FK(UID_DPRNameSpace).Ident_DPRNameSpace\").String Return strIdent_DPRNameSpace End If return \"1\" End Function Random \u0447\u0438\u0441\u043b\u043e Public Function CCC_Test_Random() As String Dim value As Integer = CInt(Int((120 \\* Rnd()))) Return value.ToString End Function \u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0418\u043c\u0435\u0435\u043c Encrypt \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0412 \u0441\u043a\u0440\u0438\u043f\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0435\u0433\u043e \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0434\u043e: ' Caution: This only work if the script is running in the Job Service. DecryptVal = Session.Decrypt(EncryptedString) \u0420\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0431\u0443\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0441 JobServer - \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441, \u0447\u0435\u0440\u0435\u0437 Process Automation. <https://www.oneidentity.com/community/identity-manager/f/forum/27672/onedb-encrypted-how-to-decrypt-an-encrypted-password-on-config-parameters \u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 Dim tmpVal As String = Connection.GetSingleProperty(\"Person\",\"UID_PersonHead\",\"UID_Person = '\"+UID_Owner+\"'\") --- \u0418\u0437\u0432\u043b\u0435\u0447\u044c \u0442\u0435\u043a\u0441\u0442 \u0438\u0437 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e \u0438 \u043f\u043e\u0441\u043b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u0430 (.) Dim IndexDotInCustomTable As Integer = **CustomTable**.IndexOf(\".\") If (IndexDotInCustomTable \\ -1) Then SchemaName = CustomTable.Substring(0,IndexDotInCustomTable) TableName = CustomTable.Substring(IndexDotInCustomTable + 1) Else SchemaName = \"public\" TableName = CustomTable End If *\u0415\u0441\u043b\u0438 CustomTable = qwe.ddd, \u0442\u043e* *SchemaName = qwe* *TableName = ddd* *\u0415\u0441\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u0442 \u0441\u0438\u043c\u0432\u043e\u043b \u0432 \u0441\u0442\u0440\u043e\u043a\u0435, \u0442\u043e* **CustomTable**.IndexOf(\".\") = **-1** **---** \u0427\u0442\u0435\u043d\u0438\u0435 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 csv \u0438\u043c\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 (SamAccountName) \u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0444\u0430\u0439\u043b \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c Person Public Sub CCC_Test_GetDepartmentFullPath(ByVal InputFile As String, ByVal ResultFile As String)Dim strQuery As String = \"\" Dim strQuery1 As String = \"\" Dim strQuery2 As String = \"\" Dim strQuery3 As String = \"\" Dim UID_Person As String = \"\" Dim UID_Department As String = \"\" Dim FullPath As String = \"\" Dim Title As String = \"\" Dim AccountName As String = \"\" 'Dim tfp As New FileIO.TextFieldParser(\"C:\\temp\\users1.txt\") **FileOpen(1, InputFile, OpenMode.Input)** While Not EOF(1) Input(1, AccountName) strQuery = String.Format(\"SAMAccountName = '{0}'\", AccountName) Session.Source().TryGetSingleValue(Of String)(\"ADSAccount\",\"UID_Person\",strQuery,UID_Person) strQuery1 = String.Format(\"UID_Person = '{0}'\", UID_Person) Session.Source().TryGetSingleValue(Of String)(\"Person\",\"UID_Department\",strQuery1,UID_Department) strQuery2 = String.Format(\"UID_Person = '{0}'\", UID_Person) Session.Source().TryGetSingleValue(Of String)(\"Person\",\"Title\",strQuery2,Title) strQuery3 = String.Format(\"UID_Department = '{0}'\", UID_Department) Session.Source().TryGetSingleValue(Of String)(\"Department\",\"FullPath\",strQuery3,FullPath) **CCC_Write2Log(ResultFile,AccountName + \";\" + FullPath)** End While End Sub **---** \u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0432\u044b\u0432\u043e\u0434 JobServer \u041f\u0440\u0438 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043d\u0430 JobServer \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0435\u0433\u043e \u043b\u043e\u0433 RaiseMessage(\"Table_count 002: \"+Table_count.tostring()+ \" RemoveExistsCustomTables 002: \" + RemoveExistsCustomTables.ToString()) RaiseMessage(<span class=\"mark\"MsgSeverity.Serious","title":"3. Scripts"},{"location":"3.%20Scripts/#sql","text":"Public Function CCC_GetSingleValueWithOrderBy(UID_PersonWantsOrg As String) As String Dim f As ISqlFormatter = Session.SqlFormatter Dim WhereClause As String = f.AndRelation( f.Comparison(\"DecisionType\", \"Unsubscribe\", ValType.String), f.Comparison(\"UID_PersonWantsOrg\", UID_PersonWantsOrg, ValType.String)) Return Session.Source.GetSingleValue(Of String)(Query. From(\"PWODecisionHistory\"). Where(WhereClause). OrderBy(\"DateHead DESC\"). Select(\"ReasonHead\")) End Function <https://www.oneidentity.com/community/identity-manager/f/forum/21728/orderby-quering-the-database-with-script <span class=\"mark\"Dim qApprover = Query.From(Table.PWOHelperPWO, \"php\").Join(Table.PersonWantsOrg, \"pwo\").On(**Table.PWOHelperPWO.UID_PersonWantsOrg**).</span <span class=\"mark\"Select(Table.PersonWantsOrg.DecisionLevel).</span <span class=\"mark\"Where(\"php.UID_PersonHead = 'e94fd1f7-ecf2-4d5f-9955-f2311a110c39' AND php.LevelNumber = pwo.DecisionLevel\")</span Expression Clauses in a query - Forum - Identity Manager Community - One Identity Community","title":"SQL \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"3.%20Scripts/#join-orderby","text":"\u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 OrderBy \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u0438\u043f query \u043d\u0430 Iselect. \u0427\u0442\u043e\u0431\u044b \u044d\u0442\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c, \u043c\u0435\u043d\u044f\u0435\u0442 \u0442\u0438\u0432 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438. Dim qContentShort = Query.From(\"DialogWatchProperty\", \"watchprop\").Join(Table.DialogWatchOperation, \"watchop\").On(Table.DialogWatchOperation.UID_DialogWatchOperation).SelectAll().Where(strWhere).OrderBy(\"DialogWatchOperation.OperationDate\") colRecords = Session.Source.GetCollection(CType(qContentShort, Query)) \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0411\u0414 Dim xValue As String If (Session.Source().TryGetSingleValue(Of String)(\"\\<tablename\\\", \"\\<columnname\\\", \"\\<whereclause\\\", xValue)) Then 'work with xValue 'Else 'make something different End If <https://support.oneidentity.com/identity-manager/kb/204144/changed-behaviour-in-the-new-object-layer-api \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0411\u0414 2 Dim xValue As String Dim f As ISqlFormatter = Session.SqlFormatter Dim WhereClause As String = f.Comparison(\"UID_PersonWantsOrg\", UID_PersonWantsOrg, ValType.String,CompareOperator.Equal, FormatterOptions.None) Session.Source().TryGetSingleValue(Of String)(\"Table\",\"ColumnName\",WhereClause,xValue) **\u0418\u041b\u0418** XValue = Connection.GetSingleProperty(\"AccProductGroup\", \"UID_AccProductGroup\", WhereClause) \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f Dim CompanyCode As String Dim ObjectID as String = Right(\\$ObjectID\\$,8) Dim GroupName As String Dim ShortName as String = \\$ShortName\\$ Dim dbDepartment as IEntity '\u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e, \u043a\u0430\u043a \u043e\u0431\u044a\u0435\u043a\u0442 Dim f As ISqlFormatter = Session.SqlFormatter '\u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 sql \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u0430 Dim strUID_ParentDepartment As String Dim strWhere As String dbDepartment = session.Source.Get(\"Department\", \\$UID_Department\\$) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u043e \u0435\u0433\u043e UID CompanyCode = dbDepartment.GetValue(\"CustomProperty02\").ToString() '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u043a\u043e\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f strUID_ParentDepartment = dbDepartment.GetValue(\"UID_ParentDepartment\") '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 strWhere = f.UidComparison(\"UID_Department\", strUID_ParentDepartment) '\u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f UID \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f While string.IsNullOrWhiteSpace(CompanyCode) AND Session.Source.Exists(\"Department\",strWhere) '\u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u041a\u043e\u0434 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 = Null \u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0439 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 dbDepartment= session.Source.Get(\"Department\",strUID_ParentDepartment) CompanyCode = dbDepartment.GetValue(\"CustomProperty02\").ToString() strUID_ParentDepartment = dbDepartment.GetValue(\"UID_ParentDepartment\") strWhere = f.UidComparison(\"UID_Department\", strUID_ParentDepartment) End While If (not string.IsNullOrWhiteSpace(CompanyCode)) Then values(\"CompanyCode\") = CompanyCode End if GroupName = \"hab-\" + CompanyCode + \"-\" + ObjectID values(\"ObjectID\") = ObjectID values(\"ShortName\") = ShortName values(\"GroupName\") = GroupName values(\"Alias\") = GroupName values(\"CanonicalName\") = \"ao.nlmk/HAB/\" + GroupName values(\"DistinguishedName\") = \"CN=\" + GroupName + \",OU=HAB,DC=ao,DC=nlmk\" \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 DistinguishedName \u043f\u043e UID Public Function CCC_Test_UID_ADSContainer(ByVal strUID_ADSContainer As String) As String ' Get the SQL formatter for our connection Dim f As ISqlFormatter = Session.SqlFormatter 'Dim a As String ' Build the WHERE clause for our request Dim where As String = f.Comparison(\"UID_ADSContainer\", strUID_ADSContainer, ValType.String) ' Get Ident_Domain of the ADSContainer 'a = Session.Source.GetSingleValue(Of String)(\"ADSContainer\", \"DistinguishedName\", where) Dim xValue As String = \"1\" If (Session.Source().TryGetSingleValue(Of String)(\"ADSContainer\", \"DistinguishedName\", where, xValue)) Then 'work with xValue 'Else 'make something different End If Return xValue End Function \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 UID \u043f\u043e \u0438\u043c\u0435\u043d\u0438 \u0434\u043e\u043c\u0435\u043d\u0430 Public Function CCC_Test_Get_UID_from_Name(ByVal Name As String) As String ' Get the SQL formatter for our connection Dim f As ISqlFormatter = Session.SqlFormatter ' Build the WHERE clause for our request Dim where As String = f.Comparison(\"ADSDomainName\", Name, ValType.String) ' Get Ident_Domain of the ADSContainer 'a = Session.Source.GetSingleValue(Of String)(\"ADSContainer\", \"DistinguishedName\", where) Dim xValue As String = \"1\" 'If (Session.Source().TryGetSingleValue(Of String)(\"ADSContainer\", \"DistinguishedName\", where, xValue)) Then 'work with xValue 'Else 'make something different 'End If xValue = Connection.GetSingleProperty(\"ADSDomain\", \"UID_ADSDomain\", where) Return xValue End Function \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 Dim URL As String = Connection.GetConfigParm(\"Custom\\Exchange\\URL_ExchPowerShell\") Where \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u041f\u0440\u043e\u0446\u0435\u0441\u0441 SQLComponent - Existsvalues(\"GroupOUName\").ToString \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u043c \u0432 Pre-Script \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0431\u043b\u043e\u043a\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 **Dim f As ISqlFormatter = Connection.SqlFormatter** **Value = f.Comparison(\"cn\", values(\"GroupOUName\"), ValType.String, CompareOperator.Equal)** values(\"GroupOUName\") = GroupOUName <img src=\"../media/3. Scripts/media/image1.png\" style=\"width:8.5625in;height:1.51042in\" alt=\"Param eters Parameter name Connectionprovider ConnectionString TableName Parameter value Value = Connectionlnfo.ConnectionProvider Value = Connectionlnfo.ConnectionString Value = \u2022ADSContainer\u2022 Dim f ISqIFormatter = = f.Comparison(' cn' \" / <img src=\"../media/3. Scripts/media/image2.png\" style=\"width:3.34375in;height:1.08333in\" alt=\"Process step properties General Generation Error handling Extended Name Process task Check Exist OU SQLComponent - Exists \" / SQL \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0414\u043b\u044f SQLComponent - Execute SQL Dim f As ISqlFormatter = Connection.SqlFormatter Value = \"delete ADSAccount where \" & f.UIDComparison(\"UID_ADSAccount\", \\$UID_ADSAccount\\$) \u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f\u043c\u0438 \u0438\u0437 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0411\u0414 Public Function CCC_Test_Unique_CompanyCode(ByVal CompanyCode As Integer) As String Dim colPersons As IEntityCollection Dim strSubType As String Dim dbPerson As IEntity Dim f As ISqlFormatter = Session.SqlFormatter Dim Res As String **' create the query object** Dim qPerson = Query.From(\"CCCOrgUnitMapping\").SelectAll() **' Load a collection of Person objects** colPersons = Session.Source.GetCollection(qPerson) ' Run through the list For Each colElement As IEntity In colPersons dbPerson = colElement.Create(Session, EntityLoadType.Interactive) strSubType = dbPerson.GetValue(\"CCC_CompanyCode\").String Dim qPerson1 = Query.From(\"CCCOrgUnitMapping\").Where(Function(c) c.Column(\"CCC_CompanyCode\") = strSubType).SelectCount() Dim iCount = Session.Source.GetCount(qPerson1) If iCount = CompanyCode Then Return strSubType End If Next Return CompanyCode.ToString() End Function \u0428\u0430\u0431\u043b\u043e\u043d \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 Dim oDate As DateTime = Convert.ToDateTime(\\$CustomProperty08\\$) If oDate \\< Date.UtcNow then Value = True Else Value = False End If \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u043e\u0448\u0438\u0431\u043a\u0443 \u0432 Manager \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 (\u0414\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b - OnSaving) Dim IPAddress As String = Convert.ToString(Value) If Not Regex.IsMatch(IPAddress, \"^\\d{1,3}\\\\\\d{1,3}\\\\\\d{1,3}\\\\\\d{1,3}\\$\", RegexOptions.CultureInvariant) Then Throw New **VIException**(\"IP Address submitted is not valid.\", ExceptionRelevance.EndUser) End If","title":"\u0421 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c Join \u0438 OrderBy"},{"location":"3.%20Scripts/#insert","text":"\u041d\u0430\u0434\u043e \u043f\u0440\u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c Use Transaction <img src=\"../media/3. Scripts/media/image3.png\" style=\"width:11.22917in;height:1.14583in\" alt=\"Test script String UID_Person, String String UID.Org . \u2022 String Parameters _ Person (System.String) ccc (System.String) .Org (System. String) 4b9bebcf-204e4369-acf2-28ea26dd9af9 021 afe9f-c57c4e5e-8334-73045d1 b5780 Run Options \u2022 use master connection use transaction Record SQL log \" / <https://www.oneidentity.com/community/identity-manager/f/forum/30974/create-db-objects","title":"\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0411\u0414 Insert \u0447\u0435\u0440\u0435\u0437 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430"},{"location":"3.%20Scripts/#insert_1","text":"Public Function CCC_Test_Insert_DbObject(ByVal UID_Person As String, ByVal CCC_UID_Point_of_View As String, ByVal UID_Org As String) As String Dim dbCCCPointOfViewInAccProd As IEntity dbCCCPointOfViewInAccProd = Session.Source.CreateNew(\"CCCPointOfViewInAccProd\") Using t As New Transaction(Session) dbCCCPointOfViewInAccProd.PutValue(\"CCC_UID_Person\", UID_Person) dbCCCPointOfViewInAccProd.PutValue(\"CCC_UID_Point_of_View\", CCC_UID_Point_of_View) **Using uow As IUnitOfWork = Session.StartUnitOfWork()** **uow.Put(dbCCCPointOfViewInAccProd)** **uow.Commit()** **End Using** **t.Commit()** End Using Return UID_Person End Function","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0411\u0414 Insert"},{"location":"3.%20Scripts/#_1","text":"Public Function CCC_Test_Delete_DbObject(ByVal UID_Person As String, ByVal UID_ShoppingCartOrder As String, ByVal UID_PWO As String) As String Dim CCC_UID_Point_of_View As String Dim dbPointOfView As IEntity Dim dbPointOfView_new As IEntity Dim f As ISqlFormatter = Session.SqlFormatter Dim Res As String ' create the query object Dim qPointOfView = Query.From(\"CCCPointOfViewInAccProd_T\").Where(Function(c) c.Column(\"CCC_UID_ShoppingCartOrder\") = UID_ShoppingCartOrder).SelectAll() ' Load a collection of Person objects Dim colPointsOfView = Session.Source.GetCollection(qPointOfView,EntityCollectionLoadType.Bulk) Using uow = Session.StartUnitOfWork() ' Walk through the list of all persons For Each colElement As IEntity In colPointsOfView ' Mark for deletion colElement.MarkForDeletion() ' put the object in the unit of work uow.Put(colElement) Next ' All person objects will be saved here! uow.Commit() End Using Return UID_Person End Function","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 \u0411\u0414"},{"location":"3.%20Scripts/#_2","text":"dbcolCCCPersonnelActionsAPI = colElement.Create(Session, EntityLoadType.Interactive) dbcolCCCPersonnelActionsAPI.**PutValue**(\"CCC_InsertedDate\",Date.UtcNow) Using t As New Transaction(Session) Using uow As IUnitOfWork = Session.StartUnitOfWork() uow.Put(dbcolCCCPersonnelActionsAPI) uow.Commit() End Using t.Commit() End Using","title":"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0411\u0414"},{"location":"3.%20Scripts/#where","text":"WhereClause = f.AndRelation( \\_ f.Comparison(\"CCC_CompanyCode\", CompanyCode, ValType.String), \\_ f.Comparison(\"CCC_City\", City, ValType.String), \\_ f.Comparison(\"CCC_CompanySubCode\", CompanySubCode, ValType.String)) End If","title":"\u0421\u043b\u043e\u0436\u043d\u044b\u0439 Where"},{"location":"3.%20Scripts/#ad-account-definition","text":"Public Function CCC_PersonHasTSBAccountDef() As String '\u0422\u0430\u0431\u043b\u0438\u0446\u0430 PWOHelperPWO Dim f As ISqlFormatter = Session.SqlFormatter Dim UID_PersonOrdered As String = \\$FK(UID_PersonWantsOrg).UID_PersonOrdered\\$ Dim colPersonHasTSBAccountDef As IEntityCollection Dim colTSBAccountDef As IEntityCollection Dim dbTSBAccountDef As IEntity Dim UID_AccDef As String Dim Result As String Dim qTSBAccountDef = Query.From(\"TSBAccountDef\").Where(Function(c) c.Column(\"UID_DialogTableAccountType\") = \"ADS-T-ADSAccount\").SelectAll() colTSBAccountDef = Session.Source.GetCollection(qTSBAccountDef) For Each colElement As IEntity In colTSBAccountDef dbTSBAccountDef = colElement.Create(Session, EntityLoadType.Interactive) UID_AccDef = dbTSBAccountDef.GetValue(\"UID_TSBAccountDef\").String Dim qPersonHasTSBAccountDef = Query.From(\"PersonHasTSBAccountDef\").Where(Function(c) c.Column(\"UID_Person\") = UID_PersonOrdered And c.Column(\"UID_TSBAccountDef\") = UID_AccDef ).SelectCount() Dim iCount = Session.Source.GetCount(qPersonHasTSBAccountDef) If iCount \\ 0 Then Return \"\u0414\u0430\" End If Next Return \"\u041d\u0435\u0442\" End Function","title":"\u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438 AD Account Definition \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0434\u043b\u044f \u043f\u043e\u0447\u0442\u043e\u0432\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0440\u0435\u0436\u0438\u043c\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u0430"},{"location":"3.%20Scripts/#_3","text":"Dim dbPWOHelperPWO As IEntity = Session.Source.Get(\"PWOHelperPWO\", strUID_PWOHelperPWO) Dim f As ISqlFormatter = Session.SqlFormatter Dim strCCC_UID_ShoppingCartOrder As String = dbPWOHelperPWO.CreateWalker(Session).GetValue(\"FK(UID_PersonWantsOrg).UID_ShoppingCartOrder\").String Dim res As String = dbPWOHelperPWO.CreateWalker(Session).GetValue(\"FK(UID_PersonWantsOrg).FK(ObjectKeyOrdered),QERAssign.FK(ObjectKeyAssignTarget),Org.Ident_Org\").String Dim qCCCPointOfViewInAccProd_T = Query.From(\"CCCPointOfViewInAccProd_T\") \\_ .Where(f.AndRelation( f.UidComparison(\"CCC_UID_ShoppingCartOrder\", strCCC_UID_ShoppingCartOrder), f.UidComparison(\"CCC_UID_Person\",strUID_PersonOrdered))) \\_ .Select(\"CCC_UID_Point_Of_View\") colqCCCPointOfViewInAccProd_T = Session.Source.GetCollection(qCCCPointOfViewInAccProd_T) For Each colElement As IEntity In colqCCCPointOfViewInAccProd_T dbCCCPointOfView = Connection.CreateSingle(\"CCCPoint_Of_View\", colElement.GetValue(\"CCC_UID_Point_Of_View\").String) res= res + (dbCCCPointOfView.GetValue(\"CCC_Pov_Name\").String) & \" \" Next","title":"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c"},{"location":"3.%20Scripts/#update","text":"WhereClause Dim f As ISqlFormatter = Connection.SqlFormatter Value = f.Comparison(\"UID_Department\", values(\"UID_Dep\"), ValType.String, CompareOperator.Equal)","title":"Update \u0442\u0430\u0431\u043b\u0438\u0446\u044b"},{"location":"3.%20Scripts/#sql_1","text":"Public Function CCC_GetSingleValueWithOrderBy(UID_PersonWantsOrg As String) As String Dim f As ISqlFormatter = Session.SqlFormatter Dim WhereClause As String = f.AndRelation( f.Comparison(\"DecisionType\", \"Unsubscribe\", ValType.String), f.Comparison(\"UID_PersonWantsOrg\", UID_PersonWantsOrg, ValType.String)) Return Session.Source.GetSingleValue(Of String)(Query. From(\"PWODecisionHistory\"). Where(WhereClause). OrderBy(\"DateHead DESC\"). Select(\"ReasonHead\")) End Function","title":"SQL \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"3.%20Scripts/#_4","text":"Dim arr1 As New ArrayList() Dim Col As New ArrayList() Arr1.add(\"123\") Arr1.add(\"123\") For Each I As String In arr1 If Not Col.Contains(I) Then Col.Add(I) End If Next Return Col.Count.ToString() \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0432\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0430 \u043f\u043e\u0442\u043e\u043c \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u043c\u0441\u044f \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432 \u041b\u0438\u0441\u0442. \u041f\u043e\u0442\u043e\u043c \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u043b\u0438\u0441\u0442 \u043f\u0438\u0448\u0435\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0442\u043e\u0433\u043e \u043b\u0438\u0441\u0442\u0430. Dim f As ISqlFormatter = Session.SqlFormatter Dim colUsers As IEntityCollection Dim colUsers_unique As IEntityCollection Dim dbUser As IEntity Dim listUID_UNSAccountB As New List(Of String) Dim listUID_UNSAccountBAll As New List(Of String) Dim qUsers = Query.From(\"UNSAccountBInUNSGroupB\").Select(\"UID_UNSAccountB\") colUsers = Session.Source.GetCollection(qUsers,EntityCollectionLoadType.Slim) For Each colElement As IEntity In colUsers dbUser = colElement.Create(Session, EntityLoadType.Interactive) UID_UNSAccountB = dbUser.GetValue(\"UID_UNSAccountB\").String listUID_UNSAccountB.Add(UID_UNSAccountB) Next **listUID_UNSAccountBAll = listUID_UNSAccountB.Distinct().ToList()** Return listUID_UNSAccountBAll.count().tostring","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043c\u0430\u0441\u0441\u0438\u0432\u0430"},{"location":"3.%20Scripts/#-","text":"PreScript \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b PersonWantsOrg Dim UID_ShoppingCartOrder as String = \\$UID_ShoppingCartOrder\\$ Dim UID_PWO as String = \\$UID_PersonWantsOrg\\$ Dim dbPoV As IEntity '\u043e\u0431\u044a\u044f\u0432\u043b\u044f\u0435\u043c \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e, \u043a\u0430\u043a \u043e\u0431\u044a\u0435\u043a\u0442 Dim dbBalanceUnit As IEntity Dim dbDepartment As IEntity Dim dbPerson As IEntity Dim strCCC_UID_BalanceUnit As String Dim strCCC_UID_SanctionDepartment As String Dim strUID_PersonHeadDep As String Dim strMail_PersonHeadDep As String Dim strMail_PersonHeadDep_all As String Dim XObjectKey as String Dim arr As New ArrayList() Dim Col As New ArrayList() Dim colPointsOfView As IEntityCollection Dim colPWOHelperPWO As IEntityCollection Dim CCC_UID_Point_of_View As String Dim dbPointOfView As IEntity Dim dbPWOHelperPWO As IEntity Dim dbPointOfView_new As IEntity Dim f As ISqlFormatter = Session.SqlFormatter Dim Res As String ' create the query object Dim qPointOfView = Query.From(\"CCCPointOfViewInAccProd_T\").Where(Function(c) c.Column(\"CCC_UID_ShoppingCartOrder\") = UID_ShoppingCartOrder).SelectAll() Dim qPointOfView_count = Query.From(\"CCCPointOfViewInAccProd_T\").Where(Function(c) c.Column(\"CCC_UID_ShoppingCartOrder\") = UID_ShoppingCartOrder).SelectCount() Dim CountApprover = Session.Source.GetCount(qPointOfView_count) ' Load a collection of Person objects colPointsOfView = Session.Source.GetCollection(qPointOfView) ' Run through the list For Each colElement As IEntity In colPointsOfView dbPointOfView = colElement.Create(Session, EntityLoadType.Interactive) CCC_UID_Point_of_View = dbPointOfView.GetValue(\"CCC_UID_Point_of_View\").String dbPoV = session.Source.Get(\"CCCPoint_of_View\", CCC_UID_Point_of_View) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 Point of View \u043f\u043e \u0435\u0433\u043e UID strCCC_UID_BalanceUnit = dbPoV.GetValue(\"CCC_UID_BalanceUnit\") dbBalanceUnit = session.Source.Get(\"CCCBalance_units\", strCCC_UID_BalanceUnit) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 Balance_unit \u043f\u043e \u0435\u0433\u043e UID strCCC_UID_SanctionDepartment = dbBalanceUnit.GetValue(\"CCC_UID_SanctionDepartment\") dbDepartment = session.Source.Get(\"Department\", strCCC_UID_SanctionDepartment) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 Department \u043f\u043e \u0435\u0433\u043e UID strUID_PersonHeadDep = dbDepartment.GetValue(\"UID_PersonHead\") **arr.Add(strUID_PersonHeadDep) ' Add to array uid person** dbPerson = session.Source.Get(\"Person\", strUID_PersonHeadDep) '\u043f\u043e\u043c\u0435\u0449\u0430\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442 Person \u043f\u043e \u0435\u0433\u043e UID strMail_PersonHeadDep = dbPerson.GetValue(\"DefaultEmailAddress\") '\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 DefaultEmailAddress \u0443 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 If (not string.IsNullOrWhiteSpace(strMail_PersonHeadDep)) Then strMail_PersonHeadDep_all = strMail_PersonHeadDep + \"; \" + strMail_PersonHeadDep_all End If Next 'Calculate XObject PWOHelperPWO for mail template Dim qPWOHelperPWO = Query.From(\"PWOHelperPWO\").Where(Function(c) c.Column(\"UID_PersonWantsOrg\") = UID_PWO and c.Column(\"UID_PWODecisionRule\") = \"QER-PWODecisionRule-EX\").SelectAll() colPWOHelperPWO = Session.Source.GetCollection(qPWOHelperPWO) For Each colElement As IEntity In colPWOHelperPWO dbPWOHelperPWO = colElement.Create(Session, EntityLoadType.Interactive) XObjectKey = dbPWOHelperPWO.GetValue(\"XObjectKey\").String Next 'Create array from arr with unique values For Each I As String In arr If Not Col.Contains(I) Then Col.Add(I) End If Next values(\"Addresses\") = strMail_PersonHeadDep_all values(\"XObjectKey\") = XObjectKey values(\"CountApprover\") = Col.Count.ToString() <img src=\"../media/3. Scripts/media/image4.png\" style=\"width:9.9375in;height:5.90625in\" alt=\"O PersonWantsOrg Calculate CountAp.\u201e Person Wan tsOrg Calcu late Coun tApprover for Decision Step Update CountApprover for Decisio n Step Make positive decision for requ Process - PersonWantsOrg Calcula... O Perso nWa ntsOrg create PWOHe1perPW0 I O ShoppingCartOrder Send mail Schema Editor Param eters Parameter name V SuthenticationString Connectionprovider ConnectionString ObjectType WhereCIause val_CountApprover ConnectionVariabIes Parameter value value = Connectionlnfo.\u00c5uthString Value = Connectionlnfo.ConnectionProvider Value = Connectionlnfo.ConnectionString Value = \u2022PVVODecisionStep\u2022 Dim f As ISqIFormatter = Connection.SqIFormatter Value = f.ComparisonCUID_PVVODecisionStep , \u2022 \u2022ccc-23FA8465854A064181A8113F9F8DIC84\u2022, Val Value = valuesCCountApprover\u2022) Value = \u2022VarllVar21VarY \" /","title":"\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043b-\u0432\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0445 \u043f\u043e \u0442\u043e\u0447\u043a\u0430\u043c \u0437\u0440\u0435\u043d\u0438\u044f"},{"location":"3.%20Scripts/#_5","text":"Dim DetailStrg As New StringBuilder DetailStrg.AppendLine(FIO_Attestor) Return DetailStrg.ToString()","title":"\u0412\u044b\u0432\u043e\u0434 \u0432 \u0448\u0430\u0431\u043b\u043e\u043d\u0435 \u043f\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u043e \u0438\u0437 \u043c\u0430\u0441\u0441\u0438\u0432\u0430"},{"location":"3.%20Scripts/#objectwalker","text":"dbPWOHelperPWO_1 = colElement.Create(Session, EntityLoadType.Interactive) FIO_Attestor = dbPWOHelperPWO_1.CreateWalker(Session).GetValue(\"FK(UID_PersonHead).InternalName\").String Dim Pers as ISingleDbObject = Connection.CreateSingle(\"Person\", \\$UID_PersonHead\\$) Dim culture as String = Pers.Custom.CallMethod(\"GetCulture\").ToString **Pers.ObjectWalker.GetValue(\"FK(UID_DialogCultureFormat).Ident_DialogCulture\").String**","title":"ObjectWalker"},{"location":"3.%20Scripts/#_6","text":"Global variables owned by the set up program Syntax: Value = Variables(\"\\<variable name\\\") Example: Value = Variables(\"GENPROCID\") Value = Variables(\"FULLSYNC\") Process or process step variables created locally by a pre-script Syntax: Value = values(\"Name\") Example: Value = Values(\"FirstHomeServer\") *From \\<<https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/73*","title":"\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u044b\u0435 \u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435"},{"location":"3.%20Scripts/#allocating-parameter-values","text":"Define value templates in VB.Net syntax. The following statements can be used for allocating values: None Object columns or columns of a related object Syntax: Value = \\$\\<column name\\:\\<data type\\$ Value = \\${FK(\\<foreign key column).}\\<column name\\:\\<data type\\$ Example: Value = \\$Lastname\\$ Value = \\$PasswordNeverExpires:bool\\$ Value = \\$FK(Ident_Domain).Description\\$ Parameter from the optional parameter collection Syntax: Value = \\$PC(\\<parameter name)\\$ Example: Value = \\$PC(SRCUID_Application)\\$ Out parameter Parameters of type \"OUT\" or \"INOUT\" are parameters that can be used by process components to output a value. This value is then available to subsequent process steps in the process and can be used as a value for IN parameters. When you use OUT parameters you need to take care that these contain data at runtime. Alternatively, when the text is processed \"&OUT(\\<parameter name)&\" is entered, which means that the variable will not be replaced. Syntax: Value = \"&OUT(\\<Parameter name)&\" Example: Value = \"&Out(FileSize)&\" Global variables owned by the set up program Syntax: Value = Variables(\"\\<variable name\\\") Example: Value = Variables(\"GENPROCID\") Value = Variables(\"FULLSYNC\") Process or process step variables created locally by a pre-script Syntax: Value = values(\"Name\") Example: Value = Values(\"FirstHomeServer\") Querying Configuration Parameters The full path for the configuration parameter always has to be entered. Syntax: Value = Session.Config().GetConfigParm(\"\\<full path\\\") Example: Value = Session.Config().GetConfigParm(\"TargetSystem\\ADS\\RestoreMode\") VB.net Enter any VB.Net statement. Identity Manager 8.0 - Configuration Guide (oneidentity.com)","title":"Allocating Parameter Values"},{"location":"3.%20Scripts/#_7","text":"\\#If Not SCRIPTDEBUGGER Then References VI.DataImport.dll Imports System.Collections.Generic Imports System.IO Imports System.Globalization Imports VI.DataImport \\#End If Dim SCLOG As String = Session.Config.GetConfigParm(\"Custom\\LogPath\") + \"CCC_Department_ImportFromAPI\\_\" + DateTime.Now.ToString(\"yyyy-MM-dd\") + \".txt\" Try colCCCDepartmentsAPI = Session.Source.GetCollection(qCCCDepartmentsAPI) Catch ex As Exception If Not ex.InnerException Is Nothing AndAlso Not ex.InnerException.InnerException Is Nothing Then CCC_VID_Write2Log(SCLOG, Environment.NewLine + Date.Now.ToString(\"yyyy-MM-dd HH:mm:ss\") + \" \" + \"ERROR @ \" + ex.Message + \" \" + ex.InnerException.Message + \" \" + ex.InnerException.InnerException.Message + \" \" + ex.StackTrace) ElseIf Not ex.InnerException Is Nothing Then CCC_VID_Write2Log(SCLOG, Environment.NewLine + Date.Now.ToString(\"yyyy-MM-dd HH:mm:ss\") + \" \" + \"ERROR @ \" + ex.Message + \" \" + ex.InnerException.Message + \" \" + ex.StackTrace) Else CCC_VID_Write2Log(SCLOG, Environment.NewLine + Date.Now.ToString(\"yyyy-MM-dd HH:mm:ss\") + \" \" + \"ERROR @ \" + ex.Message + \" \" + ex.StackTrace) End If End Try","title":"\u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"},{"location":"3.%20Scripts/#ccc_vid_write2log","text":"\\#If Not SCRIPTDEBUGGER Then References VI.Samba.Tools.dll \\#End If Public Sub CCC_VID_Write2Log(ByVal LogFile As String, ByVal Line As String) Dim logFilePath As System.String If Not AppData.Instance.RuntimeEnvironment.IsMono Then logFilePath = PathHelper.ConvertSeparators(LogFile) Else Dim sambaUncPath As New VI.Samba.Tools.SambaUncPath(LogFile) If Not sambaUncPath.IsLocal Then Throw New System.Exception(#LD(\"UNC-path \"\"{0}\"\" does not reference a local path.\", LogFile)#) Else logFilePath = sambaUncPath.LocalPath End If End If Dim f As System.IO.StreamWriter = Nothing Try f = New System.IO.StreamWriter(logFilePath, True, System.Text.Encoding.UTF8) f.NewLine() = Chr(13) & Chr(10) f.WriteLine(Line) Catch exc As System.Exception Throw New System.Exception(#LD(\"The path is '{0}'.\", logFilePath)#, exc) Finally If Not f Is Nothing Then f.Flush() f.Close() End If End Try End Sub","title":"CCC_VID_Write2Log"},{"location":"3.%20Scripts/#_8","text":"\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0440\u043e\u043a Dim DetailStrg As New StringBuilder DetailStrg.AppendLine(\"qq\") Return DetailStrg.ToString()","title":"\u0421\u0442\u0440\u043e\u043a\u0438"},{"location":"3.%20Scripts/#where_1","text":"Dim f As ISqlFormatter = Session.SqlFormatter() Value = f.UidComparison(\"UID_ADSAccount\", \\$UID_ADSAccount\\$)","title":"WHERE"},{"location":"3.%20Scripts/#export-to-csv","text":"","title":"EXPORT TO CSV"},{"location":"3.%20Scripts/#csvexportsingle","text":"<https://www.oneidentity.com/community/identity-manager/f/forum/30780/export-selectet-data-from-a-new-created-user-into-a-csv-file","title":"CSVExportSingle"},{"location":"3.%20Scripts/#_9","text":"Dim asd As String = expenddt.ToString(\"dd/MM/yyyy\") *From \\<<https://coderoad.ru/8644398/%D0%A4%D0%BE%D1%80%D0%BC%D0%B0%D1%82-%D0%B4%D0%B0%D1%82%D1%8B-%D0%B2-vb-net*","title":"\u0424\u043e\u0440\u043c\u0430\u0442 \u0434\u0430\u0442\u044b"},{"location":"3.%20Scripts/#objectwalker_1","text":"Public Function CCC_Test_ObjectWalker (ByVal UID_PWO As String) As String Dim dbPWO As IEntity Dim strDisplayOrg As String Dim strDisplayOrgParent As String Dim strCCC_BPMServiceID As String dbPWO = Session.Source.Get(\"PersonWantsOrg\", UID_PWO) strDisplayOrg = dbPWO.CreateWalker(Session).GetValue(\"DisplayOrg\").String strDisplayOrgParent = dbPWO.CreateWalker(Session).GetValue(\"DisplayOrgParent\").String 'strCCC_BPMServiceID = dbPWO.CreateWalker(Session).GetValue(\"FK(UID_OrgParentOfParent).FK(UID_AccProduct).FK(UID_AccProductGroup).CCC_BPMServiceID\").String strCCC_BPMServiceID = dbPWO.CreateWalker(Session).GetValue(\"FK(UID_Org).FK(UID_AccProduct).FK(UID_AccProductGroup).CCC_BPMServiceID\").String Return strCCC_BPMServiceID End Function","title":"ObjectWalker"},{"location":"3.%20Scripts/#greenplum-postgress","text":"\u041d\u0430\u0434\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c odbc \u0434\u0440\u0430\u0439\u0432\u0435\u0440 <https://www.postgresql.org/ftp/odbc/versions/msi/ \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u044e\u0437\u0430\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435, \u0447\u0435\u0440\u0435\u0437 ADO .NET ( \u0412\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 ADO.NET (https_metanit.com) ) Public Sub CCC_Test_GreenPlum_TestConnection() Dim MyCon As New Odbc.OdbcConnection MyCon.ConnectionString = \"**Driver={PostgreSQL ANSI**};database=test001;server=[REDACTED_HOST];port=5432;uid=[REDACTED_USER];sslmode=disable;readonly=0;protocol=7.4;User ID=[REDACTED_USER];password=[REDACTED];\" MyCon.Open() If MyCon.State = ConnectionState.Open Then MsgBox(\"Connected To PostGres\", MsgBoxStyle.MsgBoxSetForeground) End If End Sub","title":"\u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 GreenPlum (Postgress)"},{"location":"3.%20Scripts/#idbcommand-interface","text":"*From \\<<https://docs.microsoft.com/en-us/dotnet/api/system.data.idbcommand?view=net-5.0* \u041e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043f\u043e\u0441\u0442\u0433\u0440\u0435\u0441\u0441 Public Sub CCC_Test_GreenPlum_UpdateValue() Dim MyCon As New Odbc.OdbcConnection Dim DB = Connection.GetConfigParm(\"Custom\\GreenPlum\\GreenplumDB\") Dim ConnPort = Connection.GetConfigParm(\"Custom\\GreenPlum\\ConnectionPort\") Dim Srv = Connection.GetConfigParm(\"Custom\\GreenPlum\\GreenplumMaster\") Dim ConnUser = Connection.GetConfigParm(\"Custom\\GreenPlum\\ConnectionUser\") Dim ConnUserPass = Connection.GetConfigParm(\"Custom\\GreenPlum\\ConnectionUserPassword\") Dim strSQL As String = \"UPDATE AccessRights SET dimensionvalue = 'TestValue003' WHERE username = 'Alex';\" Dim strUserName As String MyCon.ConnectionString = \"Driver={PostgreSQL ANSI};Database=\" + DB + \";Server=\" + Srv + \";Port=\" + ConnPort + \";Uid=\" + ConnUser + \";Pwd=\" + ConnUserPass +\";\" MyCon.Open() ' Create a database command object Using dbCommand As IDbCommand = MyCon.CreateCommand() ' Set the SQL statement to execute dbCommand.CommandText = strSQL dbCommand.ExecuteNonQuery() End Using MyCon.Close() End Sub","title":"IDbCommand Interface"},{"location":"3.%20Scripts/#_10","text":"\u0414\u043b\u044f postgress, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u0441 \u0442\u043e\u0447\u043a\u043e\u0439 \u0432 \u0438\u043c\u0435\u043d\u0438, \u043d\u0430\u0434\u043e \u0437\u0430\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438\u043c\u044f \u0432 \u043a\u0430\u0432\u044b\u0447\u043a\u0438 \u0427\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u044d\u0442\u043e \u0432 Vb.Net \u043d\u0430\u0434\u043e \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c '<span class=\"mark\"\"\"\"\" (4 \u043a\u0430\u0432\u044b\u0447\u043a\u0438!!!)</span \u041e\u0434\u043d\u0430 \u043a\u0430\u0432\u044b\u0447\u043a\u0438 - \u044d\u0442\u043e \"\" Dim MyVar as string = \"some text \"\"hello\"\" \" = some text \"hello\" *From \\<<https://stackoverflow.com/questions/7767037/how-to-put-data-containing-double-quotes-in-string-variable*","title":"\u041a\u0430\u0432\u044b\u0447\u043a\u0438 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\u0445"},{"location":"3.%20Scripts/#unsaccountb","text":"Identity Manager 8.0 - Administration Guide for Connecting to Custom Target Systems (oneidentity.com)","title":"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u0434\u043b\u044f UNSAccountB"},{"location":"3.%20Scripts/#_11","text":"\u0415\u0441\u043b\u0438 \u043d\u0435 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0448\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u0430\u043c\u0438 \u0411\u0414 (Person, ..) \u0442\u0430\u043a\u0438\u0435, \u043a\u0430\u043a \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438 \u0442.\u043f., \u0442\u043e \u043b\u0443\u0447\u0448\u0435 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c SingleDBObject - \u044d\u0442\u043e \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0431\u0435\u0433\u0430\u0435\u0448\u044c\u0441\u044f \u043f\u043e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0438 \u0434\u0435\u043b\u0430\u0435\u0448\u044c For Each colUser_unique As IEntity In colUsers_unique ~~dbUser_unique = colUser_unique.Create(Session, EntityLoadType.Interactive)~~ \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0442\u0430\u043a: strGroupUID = colUser_unique .GetValue(\"UID_UNSGroupB\").String \u041f\u0440\u0438\u0447\u0435\u043c, \u0437\u0430\u043f\u0440\u043e\u0441 \u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u0442\u0430\u043a: Dim qUser = Query.From(\"UNSAccountBInUNSGroupB\").Where(Function(c) c.Column(\"UID_UNSAccountB\") = UID_UNSAccountB). Select(\"UID_UNSGroupB\",\"UID_UNSAccountB\") [\u0414\u043b\u044f FK](onenote:#One%20Identity%20\u0441\u043a\u0440\u0438\u043f\u0442\u044b&section-id=[REDACTED_USER] dbDepartment = dbPerson.GetFk(Session, \"UID_Department\").GetParent()","title":"\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432"},{"location":"3.%20Scripts/#target-system-type-custom-target-system-uid_person","text":"Public Function CCC_Test_ChildRelation_UNSAccountB (ByVal UID_Person As String) As String Dim dbPerson As ISingleDbObject Dim dbUNSRootB As IEntity Dim crUNSAccountB As IChildRelation 'Dim crDPRNameSpace As IChildRelation Dim dbUNSAccountB As ISingleDbObject = Nothing Dim dbDPRNameSpace As ISingleDbObject = Nothing Dim UID_UNSRootB As String Dim strIdent_DPRNameSpace As String dbPerson = Connection.CreateSingle(\"Person\", UID_Person) crUNSAccountB = dbPerson.GetCR(\"UNSAccountB\", \"UID_Person\") If crUNSAccountB.Children.Count = 1 Then For Each colElement As IColElem In crUNSAccountB.Children dbUNSAccountB = colElement.Create() Next UID_UNSRootB = dbUNSAccountB.GetValue(\"UID_UNSRootB\") dbUNSRootB = Session.Source.Get(\"UNSRootB\", UID_UNSRootB) strIdent_DPRNameSpace = dbUNSRootB.CreateWalker(Session).GetValue(\"FK(UID_DPRNameSpace).Ident_DPRNameSpace\").String Return strIdent_DPRNameSpace End If return \"1\" End Function","title":"\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 Target System type (Custom Target System) \u043f\u043e UID_Person"},{"location":"3.%20Scripts/#random","text":"Public Function CCC_Test_Random() As String Dim value As Integer = CInt(Int((120 \\* Rnd()))) Return value.ToString End Function","title":"Random \u0447\u0438\u0441\u043b\u043e"},{"location":"3.%20Scripts/#_12","text":"\u0418\u043c\u0435\u0435\u043c Encrypt \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u0412 \u0441\u043a\u0440\u0438\u043f\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0435\u0433\u043e \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0434\u043e: ' Caution: This only work if the script is running in the Job Service. DecryptVal = Session.Decrypt(EncryptedString) \u0420\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0431\u0443\u0434\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0441 JobServer - \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441, \u0447\u0435\u0440\u0435\u0437 Process Automation. <https://www.oneidentity.com/community/identity-manager/f/forum/27672/onedb-encrypted-how-to-decrypt-an-encrypted-password-on-config-parameters","title":"\u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432"},{"location":"3.%20Scripts/#_13","text":"Dim tmpVal As String = Connection.GetSingleProperty(\"Person\",\"UID_PersonHead\",\"UID_Person = '\"+UID_Owner+\"'\") ---","title":"\u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443"},{"location":"3.%20Scripts/#_14","text":"Dim IndexDotInCustomTable As Integer = **CustomTable**.IndexOf(\".\") If (IndexDotInCustomTable \\ -1) Then SchemaName = CustomTable.Substring(0,IndexDotInCustomTable) TableName = CustomTable.Substring(IndexDotInCustomTable + 1) Else SchemaName = \"public\" TableName = CustomTable End If *\u0415\u0441\u043b\u0438 CustomTable = qwe.ddd, \u0442\u043e* *SchemaName = qwe* *TableName = ddd* *\u0415\u0441\u043b\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u0442 \u0441\u0438\u043c\u0432\u043e\u043b \u0432 \u0441\u0442\u0440\u043e\u043a\u0435, \u0442\u043e* **CustomTable**.IndexOf(\".\") = **-1** **---**","title":"\u0418\u0437\u0432\u043b\u0435\u0447\u044c \u0442\u0435\u043a\u0441\u0442 \u0438\u0437 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e \u0438 \u043f\u043e\u0441\u043b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u0430 (.)"},{"location":"3.%20Scripts/#csv-samaccountname-person","text":"Public Sub CCC_Test_GetDepartmentFullPath(ByVal InputFile As String, ByVal ResultFile As String)Dim strQuery As String = \"\" Dim strQuery1 As String = \"\" Dim strQuery2 As String = \"\" Dim strQuery3 As String = \"\" Dim UID_Person As String = \"\" Dim UID_Department As String = \"\" Dim FullPath As String = \"\" Dim Title As String = \"\" Dim AccountName As String = \"\" 'Dim tfp As New FileIO.TextFieldParser(\"C:\\temp\\users1.txt\") **FileOpen(1, InputFile, OpenMode.Input)** While Not EOF(1) Input(1, AccountName) strQuery = String.Format(\"SAMAccountName = '{0}'\", AccountName) Session.Source().TryGetSingleValue(Of String)(\"ADSAccount\",\"UID_Person\",strQuery,UID_Person) strQuery1 = String.Format(\"UID_Person = '{0}'\", UID_Person) Session.Source().TryGetSingleValue(Of String)(\"Person\",\"UID_Department\",strQuery1,UID_Department) strQuery2 = String.Format(\"UID_Person = '{0}'\", UID_Person) Session.Source().TryGetSingleValue(Of String)(\"Person\",\"Title\",strQuery2,Title) strQuery3 = String.Format(\"UID_Department = '{0}'\", UID_Department) Session.Source().TryGetSingleValue(Of String)(\"Department\",\"FullPath\",strQuery3,FullPath) **CCC_Write2Log(ResultFile,AccountName + \";\" + FullPath)** End While End Sub **---**","title":"\u0427\u0442\u0435\u043d\u0438\u0435 \u0438\u0437 \u0444\u0430\u0439\u043b\u0430 csv \u0438\u043c\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 (SamAccountName) \u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0444\u0430\u0439\u043b \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043f\u043e \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c Person"},{"location":"3.%20Scripts/#jobserver","text":"\u041f\u0440\u0438 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043d\u0430 JobServer \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0435\u0433\u043e \u043b\u043e\u0433 RaiseMessage(\"Table_count 002: \"+Table_count.tostring()+ \" RemoveExistsCustomTables 002: \" + RemoveExistsCustomTables.ToString()) RaiseMessage(<span class=\"mark\"MsgSeverity.Serious","title":"\u041b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0432\u044b\u0432\u043e\u0434 JobServer"},{"location":"3.1%20%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE%20GUID/","text":"3.1 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e GUID 2 \u0434\u0435\u043a\u0430\u0431\u0440\u044f 2025 \u0433. 14:02 Dim new_id As String = \"\" new_id = System.Guid.NewGuid.ToString()","title":"3.1 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e GUID"},{"location":"3.10%20%D0%98%D0%B3%D0%BD%D0%BE%D1%80%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BE%D1%88%D0%B8%D0%B1%D0%BE%D0%BA%20%D0%B2%20Visual%20Studio/","text":"3.10 \u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 Visual Studio 17 \u044f\u043d\u0432\u0430\u0440\u044f 2023 \u0433. 14:34 \u041d\u0430\u0434\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0432\u0435\u0440\u0445 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0441\u043a\u0440\u0438\u043f\u0442\u0430 Const Scriptdebugger = true","title":"3.10 \u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 Visual Studio"},{"location":"3.2%20%D0%92%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20%D1%85%D0%B5%D1%88%D0%B0%20%D1%81%D0%BE%D0%B4%D0%B5%D1%80%D0%B6%D0%B8%D0%BC%D0%BE%D0%B3%D0%BE%20PDF%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0/","text":"3.2 \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0445\u0435\u0448\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e PDF \u0444\u0430\u0439\u043b\u0430 19 \u043c\u0430\u044f 2025 \u0433. 15:13 \u0427\u0435\u0440\u0435\u0437 Visual Studio \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0430\u043a\u0435\u0442 NuGet PdfPig \u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u0437 \u043f\u0430\u043f\u043a\u0438 \u0441 \u043f\u0430\u043a\u0435\u0442\u043e\u043c \u0444\u0430\u0439\u043b\u044b \u0438\u0437 \u043f\u0430\u043f\u043a\u0438 packages\\pdfpig\\0.1.10\\lib\\net462 \u0432 \u043a\u043e\u0440\u0435\u043d\u044c \u043f\u0430\u043f\u043a\u0438 \u0441 1IM \u041f\u0438\u0448\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0430 VB.NET #If Not SCRIPTDEBUGGER Then References UglyToad.PdfPig.dll Imports System.Security.Cryptography Imports System.Text Imports UglyToad.PdfPig #End If Public Function CCC_GetFileHash(ByVal pdfPath As String) As String Dim sb As New StringBuilder() Using pdf = UglyToad.PdfPig.PdfDocument.Open(pdfPath) For Each page In pdf.GetPages() sb.AppendLine(page.Text) Next End Using Dim textBytes As Byte() = Encoding.UTF8.GetBytes(sb.ToString()) Using sha256 As SHA256 = SHA256.Create() Dim hashBytes As Byte() = sha256.ComputeHash(textBytes) Return BitConverter.ToString(hashBytes).Replace(\"-\", \"\").ToLowerInvariant() 'Return sb.ToString() End Using End Function","title":"3.2 \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0445\u0435\u0448\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0433\u043e PDF \u0444\u0430\u0439\u043b\u0430"},{"location":"3.3%20%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0%20%D0%BD%D0%B0%20%D0%B2%D0%BE%D0%B7%D0%BC%D0%BE%D0%B6%D0%BD%D0%BE%D1%81%D1%82%D1%8C%20%D0%B7%D0%B0%D0%BA%D0%B0%D0%B7%D0%B0%20%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82%D0%B0%20%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%BC/","text":"3.3 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c 5 \u043c\u0430\u044f 2025 \u0433. 16:02 Dim runner = Session.Resolve(Of VI.DB.DataAccess.IStatementRunner)() Dim EmpCanOrderProduct As String = \"\" 'Check that Employee has access to ITShop with the AccProduct Using reader = runner.SqlExecute(\" QER_FGIPWOOrderPerson \", { QueryParameter.Create(\"@uidperson\", UID_Person), QueryParameter.Create(\"@uidaccproduct\", strUID_AccProduct)}) While reader.Read() EmpCanOrderProduct = reader.GetString(0) End While End Using If EmpCanOrderProduct = \"False\" Then Continue For End If","title":"3.3 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c"},{"location":"3.4%20%D0%92%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20SQL%20%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%B8/","text":"3.4 \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 SQL \u0444\u0443\u043d\u043a\u0446\u0438\u0438 5 \u043c\u0430\u044f 2025 \u0433. 12:03 Using reader = runner.SqlExecute(\"QER_FGIPWOOrderPerson\", { QueryParameter.Create(\"@uidperson\", strUID_Person), QueryParameter.Create(\"@uidaccproduct\", UID_AccProduct)}) While reader.Read() EmpCanOrderProduct = reader.GetString(0) End While End Using Steps to provide a Predefined SQL statement Create a predefined SQL statement in the Designer that is using the SP Assign a permission group to the predefined SQL statement that is allowed to use it Use the predefined SQL statement in your DialogScript Dim runner = Session.Resolve(Of VI.DB.DataAccess.IStatementRunner)() Using reader = runner.SqlExecute(\"CCC_getUser\", {QueryParameter.Create(\"accountID\", 42)}) While reader.Read() ' Do normal IDataReader stuff here End While End Using You can access the columns in the reader using either the index or the name of the column as described here https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/retrieving-data-using-a-datareader (or in several other online articles around accessing data using DataReader). For example: reader.GetString(0) reader.GetInt32(1) reader(\"columnname\").ToString() * * Run a SQL query with parameter from script called via api - Forum - Identity Manager Community - One Identity Community","title":"3.4 \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 SQL \u0444\u0443\u043d\u043a\u0446\u0438\u0438"},{"location":"3.5%20%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%20%D0%BD%D0%B0%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B5%20ObjectKey/","text":"3.5 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 ObjectKey 9 \u0430\u043f\u0440\u0435\u043b\u044f 2025 \u0433. 11:39 Public Function SDK_IPasswordManager_CreatePassword(ObjectKey As String, pwdColumn As String) As String If String.IsNullOrEmpty(ObjectKey) Then Return String.Empty Else Dim objKey = New DbObjectKey(ObjectKey) Dim entity As IEntity = Nothing ' try to load the entity If Session.Source.TryGet(objKey, EntityLoadType.Interactive, entity) Then ' The base entity has to be provided if the policy is based on a ' specific entity (i.e. IsElementPropertiesDenied, CheckScriptName ' or CreateScriptName are set). ' Password will be stored in a SecureString Dim password As SecureString = New SecureString ' Retrieve an IPasswordManager instance Dim passwordManager = Session.Resolve(Of IPasswordManager)() ' Retrieve the uid of the policy used for the pwdColumn of the entity ' and include the fallback to the default policy. ' ' GetPwdPolicyUidForColumn(myEntity as IEntity, columnName As String, addDefault As Boolean) ' Dim uidPolicy As String = passwordManager.GetPolicyUidForColumn(entity, pwdColumn, True) ' Retrieve the policy Dim passwordPolicy = passwordManager.GetPolicy(uidPolicy) ' Generate random password password = [REDACTED] Return password.ToInsecure() Else Return String.Empty End If End If End Function","title":"3.5 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 ObjectKey"},{"location":"3.6%20SQL%20%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81/","text":"3.6 SQL \u0437\u0430\u043f\u0440\u043e\u0441 14 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2025 \u0433. 16:29","title":"3.6 SQL \u0437\u0430\u043f\u0440\u043e\u0441"},{"location":"3.7%20%D0%9F%D1%80%D0%B8%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%B8%D0%BB%D1%8F%D1%86%D0%B8%D0%B8%20%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B0%20%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B0%20Type%20list%20is%20not%20defined/","text":"3.7 \u041f\u0440\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: Type list is not defined 31 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2022 \u0433. 11:09 Use System.Collections.Generic.List or u can add following line on the top Imports System.Collections.Generic From \\< https://social.msdn.microsoft.com/Forums/en-US/4d5ed3e5-27e4-49b7-b964-ca8fc3a410ca/type-list-is-not-defined?forum=aspgettingstarted >","title":"3.7 \u041f\u0440\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 Type list is not defined"},{"location":"3.8%20%D0%9D%D0%B5%20%D1%83%D0%B4%D0%B0%D0%BB%D1%8F%D0%B5%D1%82%D1%81%D1%8F%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%20%D0%B8%D0%B7%20%D0%91%D0%94/","text":"3.8 \u041d\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442 \u0438\u0437 \u0411\u0414 13 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2025 \u0433. 17:41 \u041d\u0443\u0436\u043d\u043e \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u043d\u0438\u0446\u0438\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 \u0411\u0414 (\u043d\u0435 \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438!!!!) dbSAPUserInSAPRole = Session.Source.Get(\"SAPUserInSAPRole\", strUID_SAPUserInSAPRole) dbSAPUserInSAPRole.MarkForDeletion() dbSAPUserInSAPRole.Save(Session)","title":"3.8 \u041d\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u043e\u0431\u044a\u0435\u043a\u0442 \u0438\u0437 \u0411\u0414"},{"location":"3.9%20%D0%A1%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D0%B8%20%28Dictionary%29/","text":"3.9 \u0421\u043b\u043e\u0432\u0430\u0440\u0438 (Dictionary) 12 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2022 \u0433. 11:46 \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0438\u0437 2\u0445 \u043a\u043e\u043b\u043e\u043d\u043e\u043a. \u041c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c 2 \u0441\u043b\u043e\u0432\u0430\u0440\u044f, \u043d\u043e \u043a\u043b\u044e\u0447 \u0443 \u043d\u0438\u0445 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u0442\u044c\u0441\u044f. \u041e\u0431\u044a\u044f\u0432\u0438\u043c \u0441\u043b\u043e\u0432\u0430\u0440\u0438 Dim dictModuleSED As New Dictionary(Of String, String) Dim dictCategorySED As New Dictionary(Of String, String) \u041f\u0440\u043e\u0431\u0435\u0436\u0438\u043c\u0441\u044f \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 csv \u0438 \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u043a\u043b\u044e\u0447 \u0438 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u043c \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u043e\u0431\u0430 \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u0441 \u043e\u0434\u043d\u0438\u043c \u043a\u043b\u044e\u0447\u0435\u043c! For Each colElement As IEntity In colCCSEDProducts ModuleSED = colElement.GetValue(\"CCC_ModuleSED\") CategorySED = colElement.GetValue(\"CCC_CategorySED\") If not String.IsNullOrEmpty(CategorySED) Then keyModuleSED_CategorySED = ModuleSED + \"_\" + CategorySED ' (\u043a\u043b\u044e\u0447) If not dictModuleSED.ContainsKey(keyModuleSED_CategorySED) And Not dictCategorySED.ContainsKey(keyModuleSED_CategorySED) Then dictModuleSED.Add(keyModuleSED_CategorySED,ModuleSED) dictCategorySED.Add(keyModuleSED_CategorySED,CategorySED) End If End If Next \u041f\u043e\u0442\u043e\u043c \u043c\u044b \u043c\u043e\u0436\u0435\u043c \u043f\u0435\u0440\u0435\u0431\u0438\u0440\u0430\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u043f\u043e \u043a\u043b\u044e\u0447\u0443! For Each pair As KeyValuePair(Of String, String) In dictModuleSED strQuery = String.Format(\"Ident_AccProductGroup = N'{0}'\", pair.Value ) Session.Source().TryGetSingleValue(Of String)(\"AccProductGroup\",\"UID_AccProductGroup\",strQuery,UID_AccProductGroupSed) '\u041f\u043e\u043b\u0443\u0447\u0438\u043c UID \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u043c\u043e\u0434\u0443\u043b\u044f \u0421\u042d\u0414 If Not String.IsNullOrEmpty(UID_AccProductGroupSed) Then strQuery = String.Format(\"Ident_AccProductGroup = N'{0}' and UID_AccProductGroupParent = '{1}'\", dictCategorySED(pair.Key) ,UID_AccProductGroupSed) Session.Source().TryGetSingleValue(Of String)(\"AccProductGroup\",\"UID_AccProductGroup\",strQuery,UID_AccProductGroupSed_Sub) '\u041f\u043e\u043b\u0443\u0447\u0438\u043c UID \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0421\u042d\u0414 If String.IsNullOrEmpty(UID_AccProductGroupSed_Sub) Then '\u0415\u0441\u043b\u0438 \u043d\u0435 \u0441\u043c\u043e\u0433\u043b\u0438 \u043d\u0430\u0439\u0442\u0438 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e, \u0442\u043e \u0441\u043e\u0437\u0434\u0430\u0434\u0438\u043c \u0435\u0435 \u0432 ITShop dbAccProductGroup = Session.Source.CreateNew(\"AccProductGroup\") dbAccProductGroup.PutValue(\"Ident_AccProductGroup\", dictCategorySED(pair.Key)) dbAccProductGroup.PutValue(\"UID_AccProductGroupParent\", UID_AccProductGroupSed) '\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0421\u042d\u0414 dbAccProductGroup.Save(Session) End If End If Next","title":"3.9 \u0421\u043b\u043e\u0432\u0430\u0440\u0438 (Dictionary)"},{"location":"30.%20One%20Identity%20HR/","text":"30. One Identity HR 21 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2020 \u0433. 15:29 #IF NOT SCRIPTDEBUGGER Imports System.Collections.Generic #END IF Public Function Z_Aggregate_HR_User_Data_And_Update_Users() As String logger.trace(\"ENTER\") 'Z_Upload_UNS_Resources_From_CSV_For_System(\"LabUTK\", \"C:/Temp/dataimport/LabUTK/\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u0438\u044f \u0423\u0422\u041a - \u0420\u0435\u0436\u0438\u043c\u044b - new1.csv\") 'Z_Upload_Oracle_Assignments_Lab() 'Z_Upload_UNS_Resources_From_CSV_For_System(\"SUMDP\", \"C:/Temp/dataimport/SUMDP/\u0421\u0423\u041c \u0414\u041f - \u0420\u0435\u0436\u0438\u043c\u044b - new1.csv\") 'Z_Upload_Oracle_Assignments_SUMDP() 'Z_Upload_Oracle_Assignments_Energy() 'Return \"ok\" 'Z_Upload_Oracle_Assignments_UM() 'Z_Upload_Oracle_Assignments_SUP() 'Z_Upload_Oracle_Assignments_Lab() 'Z_Upload_Oracle_Assignments_SSMPDS() 'Z_Upload_Oracle_Assignments_SUMDP() 'Z_Upload_Oracle_Assignments_MTO() 'Z_Upload_Oracle_Assignments_SSMPHPP() 'Z_Upload_UNS_Resources_From_CSV_For_SSMPHPP_v2() 'Z_Upload_Oracle_Assignments_SPEP() 'Z_Upload_Oracle_Assignments_URA() 'Return \"ok\" Try If False Then Z_SAP_Sync_Table_ALL_TABLES() Else Z_Run_Incremental_AD_Sync() Z_SAP_Sync_Table_ALL_TABLES() Connection.Variables.Put(\"FULLSYNC\", True) Try Z_Aggregate_And_Update_Departments() Z_Aggregate_HR_User_Data() Z_Refresh_Users() 'set \"manager\" field in persons Z_Sync_User_Managers() Finally Connection.Variables.Remove(\"FULLSYNC\") End Try Z_Recon_AD_By_Login() Z_Connector_Skype_Recon_Incremental() Z_Connector_Skype_Link_By_GUID() Z_Provide_MNP_Access() End If logger.trace(\"EXIT\") Catch ex As Exception Z_Send_Email_To_Error_Auditor(\"Idm. HR integration error.\", \"Error in HR integration.\" & VbCrLf & \"Operation will be retried during next task run.\", ex) End Try Return \"ok\" End Function 'true if first employment is 'less' than second; i.e. second one is primary Public Function Z_Compare_Employments(primaryEmployment As IColElem, nextEmployment As IColElem) As Boolean If \"FIRED\" = primaryEmployment.GetValue(\"CCC_Employee_Status\").String And \"WORKING\" = nextEmployment.GetValue(\"CCC_Employee_Status\").String Then Return True End If If Z_Is_Employment_GPH(primaryEmployment) AndAlso Not Z_Is_Employment_GPH(nextEmployment) Then Return True End If If \"WORKING\" = primaryEmployment.GetValue(\"CCC_Employee_Status\").String And \"FIRED\" = nextEmployment.GetValue(\"CCC_Employee_Status\").String Then Return False End If Return primaryEmployment.GetValue(\"XDateInserted\").Date.CompareTo(nextEmployment.GetValue(\"XDateInserted\").Date) > 0 End Function 'Public Function Z_Get_Manager(departmentId As String, currentUserId As String) As String ' Dim f As ISqlFormatter = Connection.SqlFormatter ' If String.IsNullOrEmpty(departmentId) Then ' Return Nothing ' End If ' Dim manId As String = Connection.GetSingleProperty(\"Department\", \"UID_PersonHead\", f.UidComparison(\"UID_Department\", departmentId)).String ' If Not String.IsNullOrEmpty(manId) And manId \\<> currentUserId Then ' Return manId ' End If ' Return Z_Get_Manager(Connection.GetSingleProperty(\"Department\", \"UID_ParentDepartment\", f.UidComparison(\"UID_Department\", departmentId)).String, currentUserId) 'End Function Public Function Z_Refresh_User(personId As String) As String Dim f As ISqlFormatter = Connection.SqlFormatter Dim employmentsToUpdate As IColDbObject = Connection.CreateCol(\"CCCEmployment\") Z_Add_All_Columns_To_Output_Result(\"CCCEmployment\", employmentsToUpdate) employmentsToUpdate.Prototype.WhereClause = f.Comparison(\"CCC_UID_Person\", personId, ValType.String ) employmentsToUpdate.Load() Dim primaryEmployment As IColElem = Nothing Dim employmentsToSetDone As New List(Of String) For Each nextEmployment As IColElem In employmentsToUpdate If primaryEmployment Is Nothing Then primaryEmployment = nextEmployment Else If Z_Compare_Employments(primaryEmployment, nextEmployment) Then primaryEmployment = nextEmployment End If End If If nextEmployment.GetValue(\"CCC_done\").Int = 0 Then employmentsToSetDone.Add(nextEmployment.GetValue(\"UID_CCCEmployment\").String) End If Next Dim person As ISingleDbObject = Connection.CreateSingle(\"Person\", personId) Dim personIsDisabled As Boolean = person.GetValue(\"IsInActive\").Bool Dim primaryEmplIsDisabled = \"FIRED\" = primaryEmployment.GetValue(\"CCC_Employee_Status\").String Dim dontProcessAttrUpdates As Boolean = False If personIsDisabled And primaryEmplIsDisabled Then ' don't update attributes if user is still fired dontProcessAttrUpdates = True End If If Not personIsDisabled And primaryEmplIsDisabled Then ' disable user; skip attribute updates VID_PutValueSafe(person, \"ExitDate\", DateAdd(\"d\", -1, Now.Date())) VID_PutValueSafe(person, \"IsInActive\", 1) dontProcessAttrUpdates = True End If If personIsDisabled And Not primaryEmplIsDisabled Then ' enable user; can't skip attribute updates - should update all attributes VID_PutValueSafe(person, \"ExitDate\", DBNull.Value) VID_PutValueSafe(person, \"IsInActive\", 0) End If If Not dontProcessAttrUpdates Then If Z_Is_Employment_GPH(primaryEmployment) Then VID_PutValueSafe(person, \"UID_Department\", Nothing) Else Dim idmDepartmentId As String = Z_Get_Department_By_SAP_Id(primaryEmployment.GetValue(\"CCC_Department_Id\").String) VID_PutValueSafe(person, \"UID_Department\", idmDepartmentId) End If Z_Copy_General_Attrs_From_Employment_To_Person(person, primaryEmployment) 'VID_PutValueSafe(person, \"UID_PersonHead\", Z_Get_Manager(idmDepartmentId, personId)) End If person.Save() For Each employmentId As String In employmentsToSetDone Dim employment As ISingleDbObject = Connection.CreateSingle(\"CCCEmployment\", employmentId) VID_PutValueSafe(employment, \"CCC_done\", 1) employment.Save() Next Return \"ok\" End Function Private Sub Z_Copy_General_Attrs_From_Employment_To_Person(person As ISingleDbObject, employment As IValueProvider) VID_PutValueSafe(person, \"PersonnelNumber\", employment.GetValue(\"CCC_Employee_Number\").String) VID_PutValueSafe(person, \"CCC_RegionName\", employment.GetValue(\"CCC_RegionName\").String) VID_PutValueSafe(person, \"Title\", employment.GetValue(\"CCC_PositionName\").String) VID_PutValueSafe(person, \"City\", employment.GetValue(\"CCC_CityName\").String) VID_PutValueSafe(person, \"CCC_SecClearance_IB\", employment.GetValue(\"CCC_SecClearance_IB\").Bool) VID_PutValueSafe(person, \"CCC_SecClearance_KT\", employment.GetValue(\"CCC_SecClearance_KT\").Bool) VID_PutValueSafe(person, \"CCC_SecClearance_PDN\", employment.GetValue(\"CCC_SecClearance_PDN\").Bool) VID_PutValueSafe(person, \"CCC_CategoryCode\", employment.GetValue(\"CCC_CategoryCode\").String) VID_PutValueSafe(person, \"CCC_CategoryName\", employment.GetValue(\"CCC_CategoryName\").String) VID_PutValueSafe(person, \"CCC_QualificationName\", employment.GetValue(\"CCC_QualificationName\").String) VID_PutValueSafe(person, \"CCC_CompanyCode\", employment.GetValue(\"CCC_CompanyCode\").String) VID_PutValueSafe(person, \"CCC_CompanyName\", employment.GetValue(\"CCC_CompanyName\").String) VID_PutValueSafe(person, \"CCC_CompanyShortName\", employment.GetValue(\"CCC_CompanyShortName\").String) VID_PutValueSafe(person, \"CCC_EmployeeType\", If (Z_Is_Employment_GPH(employment), \"GPH\", \"Employee\")) VID_PutValueSafe(person, \"Street\", employment.GetValue(\"CCC_Street\").String) End Sub Private Function Z_Is_Employment_GPH(employment As IValueProvider) As Boolean Return \"\u0413\u041f\u0425\" = employment.GetValue(\"CCC_CategoryName\").String End Function Public Function Z_Refresh_Users() As String logger.Trace(\"ENTER\") Dim f As ISqlFormatter = Connection.SqlFormatter Dim employmentsToUpdate As IColDbObject = Connection.CreateCol(\"CCCEmployment\") employmentsToUpdate.Prototype(\"CCC_UID_Person\").IsDisplayItem = True employmentsToUpdate.Prototype.WhereClause = \"ccc_done = 0\" employmentsToUpdate.Load() Dim userIds As New List(Of String) For Each nextEmployment As IColElem In employmentsToUpdate Dim personId As String = nextEmployment.GetValue(\"CCC_UID_Person\").String If Not userIds.Contains(personId) Then userIds.Add(personId) Z_Refresh_User(personId) End If Next logger.Trace(\"EXIT\") Return \"ok\" End Function Public Function Z_Get_Department_By_SAP_Id(department_id As String) As String Dim f As ISqlFormatter = Connection.SqlFormatter Dim idmDepartmentId As String = Connection.GetSingleProperty(\"Department\", \"UID_Department\", f.Comparison(\"ObjectId\", \"O \" & department_id, ValType.String)).String Return idmDepartmentId End Function Public Function Z_Aggregate_And_Update_Departments() As String logger.Trace(\"ENTER\") Dim f As ISqlFormatter = Connection.SqlFormatter Dim cycleNum As Integer = 0 While cycleNum \\< 10 Dim pendingOperations As IColDbObject = Connection.CreateCol(\"CCCSAPOrgsToUpdate\") Z_Add_All_Columns_To_Output_Result(\"CCCSAPOrgsToUpdate\", pendingOperations) pendingOperations.Load() logger.Trace(\"Iter#\" & cycleNum.ToString & \": departments with pending updates: \" & pendingOperations.Count.ToString()) If pendingOperations.Count = 0 Exit While End If Dim hierChangeFound = False For Each nextOperation As IColElem In pendingOperations Dim l_hierChangeFound = False Dim depId As String = nextOperation.GetValue(\"UID_Department\").String Dim parDepId As String = nextOperation.GetValue(\"UID_ParentDepartment\").String Dim shortname As String = nextOperation.GetValue(\"shortname\").String Dim fullname As String = nextOperation.GetValue(\"fullname\").String logger.Trace(\"processing \" & nextOperation.GetValue(\"change_type\").String & \" for \" & fullname & \" (\" & nextOperation.GetValue(\"department_sap_id\").String & \")\") Try Dim departmentObj As ISingleDbObject = Nothing If String.IsNullOrEmpty(depId) Then departmentObj = Connection.CreateSingle(\"Department\") VID_PutValueSafe(departmentObj, \"ObjectID\", \"O \" + nextOperation.GetValue(\"department_sap_id\").String) VID_PutValueSafe(departmentObj, \"ImportSource\", \"SAP\") l_hierChangeFound = True Else departmentObj = Connection.CreateSingle(\"Department\", depId) End If VID_PutValueSafe(departmentObj, \"DepartmentName\", VID_Left(fullname, 128)) VID_PutValueSafe(departmentObj, \"Description\", fullname) VID_PutValueSafe(departmentObj, \"CustomProperty01\", nextOperation.GetValue(\"abbrev\").String) VID_PutValueSafe(departmentObj, \"ShortName\", VID_Left(shortname, 64)) If Not String.IsNullOrEmpty(parDepId) Then If parDepId \\<> departmentObj.GetValue(\"UID_ParentDepartment\").String Then logger.trace(\"set UID_ParentDepartment = \" & parDepId & \" for \" & nextOperation.GetValue(\"department_sap_id\").String) VID_PutValueSafe(departmentObj, \"UID_ParentDepartment\", parDepId) l_hierChangeFound = True End If End If departmentObj.Save() Catch ex As Exception logger.Error(ex, \"error while processing department change for \" & fullname & \" (\" & nextOperation.GetValue(\"department_sap_id\").String & \")\") l_hierChangeFound = False End Try If l_hierChangeFound Then hierChangeFound = l_hierChangeFound End If Next If Not hierChangeFound Then Exit While End If cycleNum = cycleNum + 1 End While Logger.Trace(\"EXIT\") Return \"ok\" End Function Public Function Z_Aggregate_HR_User_Data() As String logger.Trace(\"ENTER\") Connection.Variables.Put(\"DONTGENERATEONPERSONINSERTPROCESS\", True) Try Dim f As ISqlFormatter = Connection.SqlFormatter Dim pendingOperations As IColDbObject = Connection.CreateCol(\"CCCHRUserChangesToHandle\") Z_Add_All_Columns_To_Output_Result(\"CCCHRUserChangesToHandle\", pendingOperations) pendingOperations.Load() logger.Trace(\"users with pending updates: \" & pendingOperations.Count.ToString()) For Each nextOperation As IColElem In pendingOperations logger.Trace(\"processing \" & nextOperation.GetValue(\"operation_type\").String & \" for \" & nextOperation.GetValue(\"employee_number\").String) Connection.BeginTransaction() Try Dim operType As String = nextOperation.GetValue(\"operation_type\").String Dim operDetails As String = nextOperation.GetValue(\"operation_details\").String If \"HIRE\" = operType And String.IsNullOrWhiteSpace(operDetails) Then logger.trace(\"empty oper details for HIRE operation\") Continue For End If Dim employmentId = nextOperation.GetValue(\"UID_CCCEmployment\").String 'Dim title_id = nextOperation.GetValue(\"title_id\").String Dim department_id = nextOperation.GetValue(\"department_id\").String Dim position_id = nextOperation.GetValue(\"position_id\").String Dim first_name = nextOperation.GetValue(\"first_name\").String Dim last_name = nextOperation.GetValue(\"last_name\").String Dim middle_name = nextOperation.GetValue(\"middle_name\").String Dim birthDate As Date = nextOperation.GetValue(\"birth_date\").Date Dim person As ISingleDbObject = Nothing Dim obj As ISingleDbObject = Nothing 'init objects from DB If Not String.IsNullOrEmpty(employmentId) Then obj = Connection.CreateSingle(\"CCCEmployment\", employmentId) person = Connection.CreateSingle(\"Person\", obj.GetValue(\"CCC_UID_Person\").String) logger.Trace(\"target person = \" & person.GetValue(\"CentralAccount\").String) End If 'check if user has \"IgnoreHREvents\" flag If person IsNot Nothing Then Dim ignEv As Boolean = Z_Check_If_Ignore_Events(person) logger.Trace(\"CCC_IgnoreHREvents = \" & ignEv) If ignEv Then logger.Trace(\"ignoring event\") Continue For End If End If If \"FIRE\" = operType Then VID_PutValueSafe(obj, \"CCC_Employee_Status\", \"FIRED\") 'VID_PutValueSafe(obj, \"CCC_End_Date\", DateAdd(\"d\", -1, nextOperation.GetValue(\"action_begda\").Date)) VID_PutValueSafe(obj, \"CCC_done\", 0) obj.Save() Continue For End If If \"HIRE\" = operType Then obj = Connection.CreateSingle(\"CCCEmployment\") End If VID_PutValueSafe(obj, \"CCC_CategoryCode\", nextOperation.GetValue(\"category_code\").String) VID_PutValueSafe(obj, \"CCC_CategoryName\", nextOperation.GetValue(\"category_name\").String) Dim idmDepartmentId As String = Nothing If Not Z_Is_Employment_GPH(obj) Then If String.IsNullOrEmpty(department_id) Then logger.Trace(\"department_id is empty; skipping this record\") Continue For End If idmDepartmentId = Z_Get_Department_By_SAP_Id(department_id) If String.IsNullOrEmpty(idmDepartmentId) Then logger.Trace(\"cannot find idm department for \" & department_id & \"; skipping this record\") Continue For End If End If If String.IsNullOrEmpty(last_name) Then logger.Trace(\"last_name is empty; skipping this record\") Continue For End If If String.IsNullOrEmpty(first_name) Then logger.Trace(\"first_name is empty; skipping this record\") Continue For End If Dim isUserCreation As Boolean = False VID_PutValueSafe(obj, \"CCC_RegionName\", nextOperation.GetValue(\"region_name\").String) VID_PutValueSafe(obj, \"CCC_CityName\", nextOperation.GetValue(\"city_name\").String) VID_PutValueSafe(obj, \"CCC_SecClearance_IB\", nextOperation.GetValue(\"secclearance_ib\").Bool) VID_PutValueSafe(obj, \"CCC_SecClearance_KT\", nextOperation.GetValue(\"secclearance_kt\").Bool) VID_PutValueSafe(obj, \"CCC_SecClearance_PDN\", nextOperation.GetValue(\"secclearance_pdn\").Bool) VID_PutValueSafe(obj, \"CCC_QualificationName\", nextOperation.GetValue(\"qualification_name\").String) VID_PutValueSafe(obj, \"CCC_CompanyCode\", nextOperation.GetValue(\"company_code\").String) 'logger.Trace(\"company_name = \" & nextOperation.GetValue(\"company_name\").String) VID_PutValueSafe(obj, \"CCC_CompanyName\", nextOperation.GetValue(\"company_name\").String) 'logger.Trace(\"company_name 2 = \" & obj.GetValue(\"CCC_CompanyName\").String) VID_PutValueSafe(obj, \"CCC_CompanyShortName\", nextOperation.GetValue(\"company_short_name\").String) 'logger.Trace(\"street = \" & nextOperation.GetValue(\"street\").String) VID_PutValueSafe(obj, \"CCC_Street\", nextOperation.GetValue(\"street\").String) 'logger.Trace(\"street 2= \" & obj.GetValue(\"CCC_Street\").String) If Not Z_Is_Employment_GPH(obj) Then VID_PutValueSafe(obj, \"CCC_PositionName\", nextOperation.GetValue(\"position_name\").String) VID_PutValueSafe(obj, \"CCC_Department_Id\", department_id) VID_PutValueSafe(obj, \"CCC_Position_id\", position_id) 'VID_PutValueSafe(obj, \"CCC_Title_Id\", title_id) Else VID_PutValueSafe(obj, \"CCC_Department_Id\", Nothing) VID_PutValueSafe(obj, \"CCC_Position_id\", Nothing) VID_PutValueSafe(obj, \"CCC_Title_Id\", Nothing) 'VID_PutValueSafe(obj, \"CCC_PositionName\", Nothing) End If VID_PutValueSafe(obj, \"CCC_SNILS\", nextOperation.GetValue(\"snils\").String) If \"HIRE\" = operType Then VID_PutValueSafe(obj, \"CCC_Source_Id\", nextOperation.GetValue(\"hr_source_id\").String) VID_PutValueSafe(obj, \"CCC_Employee_Number\", nextOperation.GetValue(\"employee_number\").String) Dim personId As String = Nothing If operDetails.Contains(\"Person\") Then personId = Connection.CreateSingle(New DbObjectKey(operDetails)).getValue(\"UID_Person\").string ElseIf False 'not automatic search 'condition to search matching user by last name, first name, midle name, birth date Dim personWhereByFioAndDB As String = f.Comparison(\"LastName\", last_name, ValType.String ) & \" and \" & f.Comparison(\"FirstName\", first_name, ValType.String ) If Not String.IsNullOrEmpty(middle_name) Then personWhereByFioAndDB = personWhereByFioAndDB & \" and \" & f.Comparison(\"MiddleName\", middle_name, ValType.String ) Else personWhereByFioAndDB = personWhereByFioAndDB & \" and MiddleName is null\" End If personWhereByFioAndDB = personWhereByFioAndDB & \" and \" & f.Comparison(\"BirthDate\", birthDate, ValType.Date ) 'condition to search maching user by snils Dim personWhereBySnils As String = Nothing If Not String.IsNullOrEmpty(nextOperation.GetValue(\"snils\").String) Then Dim partNameMatchSqls As New List(Of String) partNameMatchSqls.Add(\"(\" & f.Comparison(\"p.LastName\", last_name , ValType.String) & \" and \" & f.Comparison(\"p.FirstName\", first_name , ValType.String) & \")\") partNameMatchSqls.Add(\"(\" & f.Comparison(\"p.LastName\", last_name , ValType.String) & \" and \" & f.Comparison(\"p.MiddleName\", middle_name , ValType.String) & \")\") partNameMatchSqls.Add(\"(\" & f.Comparison(\"p.MiddleName\", middle_name , ValType.String) & \" and \" & f.Comparison(\"p.FirstName\", first_name , ValType.String) & \")\") personWhereBySnils = \"UID_Person in (select p.uid_person from person p inner join CCCEmployment e on e.CCC_UID_Person=p.uid_person and \" & f.Comparison(\"e.CCC_SNILS\", nextOperation.GetValue(\"snils\").String, ValType.String) & \" and (\" & String.Join(\" or \", partNameMatchSqls) & \"))\" End If For Each nextSql As String In {personWhereBySnils, personWhereByFioAndDB} If String.IsNullOrEmpty(nextSql) Then Continue For End If personId = Connection.GetSingleProperty(\"Person\", \"UID_Person\", nextSql) logger.Trace(\"Searching user with condition \" & nextSql) logger.Trace(\"result = \" & personId) If Not String.IsNullOrEmpty(personId) Then Exit For End If Next End If If Not String.IsNullOrEmpty(personId) Then logger.Trace(\"HIRE operation for already existing user \" & personId) person = Connection.CreateSingle(\"Person\", personId) If Z_Check_If_Ignore_Events(person) Then logger.Trace(\"user has CCC_IgnoreHREvents flag\") Continue For End If Else person = Connection.CreateSingle(\"Person\") isUserCreation = True VID_PutValueSafe(person, \"UID_Department\", idmDepartmentId) VID_PutValueSafe(person, \"ImportSource\", \"SAP\") logger.Trace(\"after setting ImportSource = \" & person.GetValue(\"ImportSource\").String) 'VID_PutValueSafe(person, \"UID_PersonHead\", Z_Get_Manager(idmDepartmentId, Nothing)) 'VID_PutValueSafe(person, \"UID_PersonHead\", Z_Get_User_Manager_By_Employee_number(nextOperation.GetValue(\"employee_number\").String)) Z_Copy_General_Attrs_From_Employment_To_Person(person, obj) End If Else 'do nothing - already initiated in code above End If If isUserCreation OrElse person.GetValue(\"PersonnelNumber\").String = nextOperation.GetValue(\"employee_number\").String Then VID_PutValueSafe(person, \"LastName\", last_name) VID_PutValueSafe(person, \"MiddleName\", middle_name) VID_PutValueSafe(person, \"FirstName\", first_name) VID_PutValueSafe(person, \"BirthDate\", birthDate) End If 'If isUserCreation AndAlso Not String.IsNullOrEmpty(nextOperation.GetValue(\"operation_details\").String) If isUserCreation AndAlso operDetails.Contains(\"ADSAccount\") Dim adacc As ISingleDbObject = Connection.CreateSingle(New DbObjectKey(operDetails)) VID_PutValueSafe(person, \"CentralAccount\", adacc.GetValue(\"SAMAccountName\").String) VID_PutValueSafe(person, \"CentralSAPAccount\", adacc.GetValue(\"ExtensionAttribute14\").String) End If person.Save() If isUserCreation Then ' Z_Sync_User_Managers(person.GetValue(\"UID_Person\").String) End If If \"HIRE\" = operType Then VID_PutValueSafe(obj, \"CCC_UID_Person\", person.GetValue(\"UID_Person\").String) End If VID_PutValueSafe(obj, \"CCC_End_Date\", DBNull.Value) VID_PutValueSafe(obj, \"CCC_Employee_Status\", \"WORKING\") 'VID_PutValueSafe(obj, \"CCC_done\", If(isUserCreation, 1, 0)) VID_PutValueSafe(obj, \"CCC_done\", 0) obj.Save() Connection.CommitTransaction Catch ex As Exception logger.error(ex, \"error in hr aggregation\") Connection.RollbackTransaction Finally If Connection.TransactionOpen Connection.CommitTransaction End If End Try Next 'pendingOperations = Connection.CreateCol(\"CCCEmployment\") 'pendingOperations.Load() 'Return \"\" & pendingOperations.Count Finally Connection.Variables.Remove(\"DONTGENERATEONPERSONINSERTPROCESS\") End Try logger.Trace(\"EXIT\") Return \"ok\" End Function Private Function Z_Check_If_Ignore_Events(person As ISingleDbObject) As Boolean If person.GetValue(\"CCC_IgnoreHREvents\").Bool Then Dim ignoreUntil As Date = person.GetValue(\"CCC_IgnoreHREventsUntil\").Date If ignoreUntil = Nothing Return True Else ' if \"ignore until\" is in future then ignore event Return Date.Today().CompareTo(ignoreUntil) \\<= 0 End If Else Return False End If End Function Public Function Z_Sync_Department_Managers() As String Dim f As ISqlFormatter = Connection.SqlFormatter Dim pendingOperations As IColDbObject = Connection.CreateCol(\"CCCOrgsToChangeManager\") pendingOperations.Prototype(\"NewManager\").IsDisplayItem = True pendingOperations.Prototype(\"UID_Department\").IsDisplayItem = True pendingOperations.Load() For Each nextOperation As IColElem In pendingOperations Dim obj As ISingleDbObject = Connection.CreateSingle(\"Department\", nextOperation.GetValue(\"UID_Department\").String) VID_PutValueSafe(obj, \"UID_PersonHead\", nextOperation.GetValue(\"NewManager\").String) obj.Save() Next Return \"ok\" End Function Public Function Z_Sync_User_Managers(Optional persId As String = Nothing) As String Dim f As ISqlFormatter = Connection.SqlFormatter Dim pendingOperations As IColDbObject = Connection.CreateCol(\"CCCUsersToChangeManagers\") pendingOperations.Prototype(\"newmanager\").IsDisplayItem = True pendingOperations.Prototype(\"currentmanager\").IsDisplayItem = True pendingOperations.Prototype(\"uid_person\").IsDisplayItem = True If Not String.IsNullOrEmpty(persId) Then pendingOperations.Prototype.WhereClause = f.UidComparison(\"uid_person\", persId) End If pendingOperations.Load() For Each nextOperation As IColElem In pendingOperations Dim obj As ISingleDbObject = Connection.CreateSingle(\"Person\", nextOperation.GetValue(\"uid_person\").String) VID_PutValueSafe(obj, \"UID_PersonHead\", nextOperation.GetValue(\"newmanager\").String) obj.Save() Next Return \"ok\" End Function","title":"30. One Identity HR"},{"location":"31.%20One%20Identity%20SAP/","text":"31. One Identity SAP 21 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2020 \u0433. 15:30 #If Not SCRIPTDEBUGGER Then References VI.Projector.Dll References VI.Projector.Database.Dll References VI.Projector.SAP.JobComponent.Dll References VI.Projector.SAP.Dll References VI.Projector.SAP.Data.Dll References JobComponent.dll References VI.Projector.Connector.Base.dll References VI.Projector.JobComponent.dll 'References VI.Projector.SAP.JobComponent.Dll Imports VI.Projector.Database Imports System.Collections.Generic Imports VI.Projector.SAP.JobComponent Imports VI.Projector.SAP.ProjectorSAPConnector Imports VI.Projector.Database.Serialization Imports VI.Projector.Connector.Base Imports VI.Projector.SAP Imports VI.Projector Imports System.Reflection Imports VI.Projector.Connection Imports VI.Projector.Projection Imports VI.Projector.JobComponent Imports System.Collections.Concurrent #End If Public Sub Z_SAP_Sync_Table_HRP1002() Dim sapTblName As String = \"HRP1002\" Dim wherecond As String = \" MANDT = sy-mandt AND PLVAR = '01' AND ( OTYPE = 'S' OR OTYPE = 'O' ) AND ENDDA >= sy-datum \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_HRT1002() Dim sapTblName As String = \"HRT1002\" Dim wherecond As String = \" MANDT = sy-mandt \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_HRP1001() Dim sapTblName As String = \"HRP1001\" Dim wherecond As String = \" MANDT = sy-mandt AND PLVAR = '01' AND ( ( ( RELAT = '002' OR RELAT = '012' ) AND SCLAS IN ( 'O', 'S' ) AND OTYPE IN ( 'O', 'S' ) ) OR SCLAS = 'Q' ) AND RSIGN = 'A' AND ENDDA >= sy-datum \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_HRP1000() Dim sapTblName As String = \"HRP1000\" Dim wherecond As String = \"MANDT = sy-mandt AND PLVAR = '01' AND ( OTYPE = 'S' OR OTYPE = 'O' ) AND ENDDA >= sy-datum \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_HRPAD31() Dim sapTblName As String = \"HRPAD31\" Dim wherecond As String = \"MANDT = sy-mandt \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_PA0290() Dim sapTblName As String = \"PA0290\" Dim wherecond As String = \"MANDT = sy-mandt AND SUBTY = '802' AND ENDDA >= sy-datum \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_T001() Dim sapTblName As String = \"T001\" Dim wherecond As String = \"MANDT = sy-mandt \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_T005U() Dim sapTblName As String = \"T005U\" Dim wherecond As String = \"MANDT = sy-mandt \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_T500P() Dim sapTblName As String = \"T500P\" Dim wherecond As String = \"MANDT = sy-mandt \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_T77TP() Dim sapTblName As String = \"T77TP\" Dim wherecond As String = \"MANDT = sy-mandt \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_T7RU9A() Dim sapTblName As String = \"T7RU9A\" Dim wherecond As String = \"MANDT = sy-mandt AND ENDDA >= sy-datum \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_PA0035() Dim sapTblName As String = \"PA0035\" Dim wherecond As String = \"MANDT = sy-mandt AND ENDDA >= sy-datum \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_PA0000() Dim sapTblName As String = \"PA0000\" Dim wherecond As String = \"MANDT = sy-mandt AND ENDDA >= sy-datum \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_PA0001() Dim sapTblName As String = \"PA0001\" Dim wherecond As String = \"MANDT = sy-mandt AND ENDDA >= sy-datum \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_PA0002() Dim sapTblName As String = \"PA0002\" Dim wherecond As String = \"MANDT = sy-mandt AND ENDDA >= sy-datum \" Z_SAP_Sync_Table(sapTblName, wherecond) End Sub Public Sub Z_SAP_Sync_Table_ALL_TABLES() Z_SAP_Sync_Table_HRP1000() Z_SAP_Sync_Table_HRP1001() Z_SAP_Sync_Table_HRP1002() Z_SAP_Sync_Table_HRPAD31() Z_SAP_Sync_Table_HRT1002() Z_SAP_Sync_Table_PA0035() Z_SAP_Sync_Table_PA0290() Z_SAP_Sync_Table_T001() Z_SAP_Sync_Table_T005U() Z_SAP_Sync_Table_T005U() Z_SAP_Sync_Table_T500P() Z_SAP_Sync_Table_T77TP() '\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e ' Z_SAP_Sync_Table_T7RU9A() Z_SAP_Sync_Table_PA0000() Z_SAP_Sync_Table_PA0001() Z_SAP_Sync_Table_PA0002() End Sub Public Function Z_SAP_Sync_Table(sapTblName As String, wherecond As String) As String logger.trace(sapTblName & \": ENTER\") Dim batchLogSize As Integer = 2500 Dim syncName As String = Connection.GetConfigParm(\"TargetSystem\\UNS\\ITResource\\SAPHR\\DPRShellName\") Dim parPref As String = \"TargetSystem\\UNS\\ITResource\\SAPHR\\InfotypeHandling\\ Dim maxReadAttemptNumStr As String = Z_Get_One_Of_Conf_Param_Value(parPref & sapTblName & \"\\ReReadAttempts\", parPref & \"Default\\ReReadAttempts\", \"2\" ) Dim maxReadAttemptNum As Integer = CInt(maxReadAttemptNumStr) + 1 Dim maxCreationNum As Integer = CInt(Z_Get_One_Of_Conf_Param_Value(parPref & sapTblName & \"\\MaxCreated\", parPref & \"Default\\MaxCreated\", \"-1\" )) Dim maxDeletionNum As Integer = CInt(Z_Get_One_Of_Conf_Param_Value(parPref & sapTblName & \"\\MaxRemoved\", parPref & \"Default\\MaxRemoved\", \"-1\" )) Dim treatMaxNumbersAsPercentage As Boolean = \"1\" = Z_Get_One_Of_Conf_Param_Value(parPref & sapTblName & \"\\TreatMaxNumbersAsPercentage\", parPref & \"Default\\TreatMaxNumbersAsPercentage\", \"0\" ) Dim readAttemptNum As Integer = 0 While readAttemptNum \\< maxReadAttemptNum logger.trace(sapTblName & \": starting read iteration #\" & readAttemptNum) Dim f As ISqlFormatter = Connection.SqlFormatter Dim idmTableName As String = \"CCC\" & sapTblName Dim allSapAttrsList As New List(Of String) Dim dateSapAttrsList As New List(Of String) Dim columnDefs As IColDbObject = Connection.CreateCol(\"DialogColumn\") columnDefs.Prototype(\"ColumnName\").IsDisplayItem = True columnDefs.Prototype(\"DataType\").IsDisplayItem = True columnDefs.Prototype.WhereClause = \"uid_dialogtable in (select uid_dialogtable from dialogtable where \" & f.Comparison(\"TableName\", idmTableName, ValType.String) & \") and columnname like 'CCC%' \" columnDefs.Load() For Each nextColumn As IColElem In columnDefs Dim colName As String = nextColumn.GetValue(\"ColumnName\").String Dim sapColName = colName.Replace(\"CCC_\", \"\") If colName = \"CCC_IsDeleted\" Then Continue For End If If nextColumn.GetValue(\"DataType\").String = CStr(ValType.Date) Then dateSapAttrsList.Add(sapColName) End If allSapAttrsList.Add(sapColName) Next Dim UID_DPRShell As String = Connection.GetSingleProperty(\"DPRShell\", \"UID_DPRShell\", f.Comparison(\"DisplayName\", syncName, ValType.String)) Dim expr_AB As New DatabaseReader(Session, \"DPRShell\", f.UidComparison(\"UID_DPRShell\", UID_DPRShell)) expr_AB.SkipInactiveSchemaTypes = True Using projectorShell = CType(expr_AB.Read(Nothing), IProjectorShell) Dim projectorSAPConnector As New VI.Projector.SAP.ProjectorSAPConnector() Dim ov As New OverwriteVariables(\"\") Dim projectionOption As New ProjectionOption(ProjectionDirection.ToTheLeft) projectionOption.VariableSet = projectorShell.DefaultVariableSet Dim Fu As Func(Of String, String) = Function(s As String ) As String Return ov.GetVariableValue(s) End Function projectionOption.VariableOverruler = Fu Dim systemConnection As VI.Projector.Connection.ISystemConnection = Nothing 'logger.trace(\"found connections: \" & projectorShell.Connections.Count) For Each sc As VI.Projector.Connection.ISystemConnection In projectorShell.Connections 'If Not sc.Schema.System.IsMainSystem Then 'If True Then ' logger.trace(\"sc.Schema.System.Identity.Id:\") ' logger.trace(sc.Schema.System.Identity.Id) If Not sc.Schema.System.Identity.Id.StartsWith(\"FTP#\", StringComparison.OrdinalIgnoreCase) Then systemConnection = sc Exit For End If Next If systemConnection Is Nothing Then Throw New exception(sapTblName & \": cant find main connnection\") End If projectorSAPConnector.Connect(systemConnection.ConnectionParameter.Replace(projectionOption.VariableSetEffective, False)) If Not projectorSAPConnector.IsConnected Then logger.warn(sapTblName & \": not connected :(\") Throw New Exception(\"cant connect to SAP system\") End If logger.trace(sapTblName & \": connected!!!\") Dim m_SAPConnection As SAPConnection = CType(projectorSAPConnector.GetType().GetField(\"m_SAPConnection\", BindingFlags.NonPublic Or BindingFlags.Instance).GetValue(projectorSAPConnector) ,SAPConnection ) Dim tbl As New SAPTable(m_SAPConnection) logger.trace(sapTblName & \": processing sql: \" & wherecond) Dim whereconds As String() = { wherecond } Dim dynMethod As MethodInfo For Each dm As MethodInfo In tbl.GetType().GetMethods(System.Reflection.BindingFlags.NonPublic Or System.Reflection.BindingFlags.Instance) If dm.Name = \"SAPQuery\" AndAlso dm.GetParameters.Count = 3 Then dynMethod = dm Exit For End If Next Dim ans As BigDataTable = CType(dynMethod.Invoke(tbl, { sapTblName, whereconds, Nothing }), BigDataTable) logger.trace(sapTblName & \": obtained rows from \" & sapTblName & \": \" & ans.Rows.Count) Dim cycleNum As Integer = 0 Dim handledIds As New List(Of String) logger.Trace(sapTblName & \": fill map with sap data\") Dim hashToSapData As New Dictionary(Of String, BigDataRow) For Each nextRow As BigDataRow In ans.Rows Dim hash As String = \"\" For Each attrName As String In allSapAttrsList If dateSapAttrsList.Contains(attrName) Then 'Dim strval As String = nextRow(attrName).tostring 'hash = hash & If ( strval=\"0000-00-00\", \"00000000\", CType(nextRow(attrName), Date).tostring(\"yyyyMMdd\") ) & \"_\" hash = hash & Z_SAP_Get_Date_Sap_Attr_For_Hash(nextRow, attrName) & \"_\" Else hash = hash & CStr(nextRow(attrName)) & \"_\" End If Next If hashToSapData.ContainsKey(hash) Then logger.warn(sapTblName & \": sap has duplicate data: \" & hash) Else hashToSapData.Add(hash, nextRow) End If Next logger.Trace(sapTblName & \": end fill map with sap data\") logger.Trace(sapTblName & \": fill map with idm data\") Dim hashToIdmData As New Dictionary(Of String, String) Dim existingObjects As IColDbObject = Nothing existingObjects = Connection.CreateCol(\"CCC\" & sapTblName) Z_Add_All_Columns_To_Output_Result(\"CCC\" & sapTblName, existingObjects) existingObjects.Prototype.WhereClause = \"CCC_IsDeleted = 0\" existingObjects.Load() logger.trace(sapTblName & \": not deleted records from idm: \" & existingObjects.Count) For Each nextRow As IColElem In existingObjects Dim hash As String = \"\" For Each attrName As String In allSapAttrsList If dateSapAttrsList.Contains(attrName) Then Dim dv As Date = nextRow.getValue(\"CCC_\" & attrName).Date hash = hash & If (dv = Nothing OrElse dv.CompareTo(FIRST_VALID_DATE)\\<0, \"00000000\", dv.tostring(\"yyyyMMdd\")) & \"_\" Else hash = hash & nextRow.getValue(\"CCC_\" & attrName).String & \"_\" End If Next If hashToIdmData.ContainsKey(hash) Then logger.warn(sapTblName & \": IDM has duplicate data: \" & hash) Else hashToIdmData.Add(hash, nextRow.GetValue(\"UID_\" & idmTableName).String) End If Next logger.Trace(sapTblName & \": end fill map with idm data\") Dim newHashesToCreate = hashToSapData.Keys.Except(hashToIdmData.Keys).ToList logger.trace(sapTblName & \": new objects (planned): \" & newHashesToCreate.Count) Dim toRemoveObjectHashes = hashToIdmData.Keys.Except(hashToSapData.Keys ).ToList logger.trace(sapTblName & \": objects to remove: \" & toRemoveObjectHashes.Count) Dim creationexceeded As Boolean = False If maxCreationNum > -1 Then If treatMaxNumbersAsPercentage Then Dim lim As Double = (existingObjects.Count * maxCreationNum) / 100 logger.Trace(sapTblName & \": maxCreationNum = \" & lim) creationexceeded = newHashesToCreate.Count > lim Else creationexceeded = newHashesToCreate.Count > maxCreationNum End If End If Dim deletionexceeded As Boolean = False If maxDeletionNum > -1 Then If treatMaxNumbersAsPercentage Then deletionexceeded = toRemoveObjectHashes.Count > (existingObjects.Count * maxDeletionNum) / 100 Else deletionexceeded = toRemoveObjectHashes.Count > maxDeletionNum End If End If If creationexceeded OrElse deletionexceeded Then readAttemptNum = readAttemptNum + 1 If readAttemptNum >= maxReadAttemptNum Then logger.warn(sapTblName & \": last read iteration; throwing exception...\") Z_Send_Plain_Text_Mail(Connection.GetConfigParm(\"Common\\MailNotification\\ErrorAuditor\"), \"Idm. HR sync error - Threshold exceeded for \" & sapTblName, \"Threshold exceeded for \" & sapTblName & \": objects to create: \" & newHashesToCreate.Count.ToString & \"; objects to remove: \" & toRemoveObjectHashes.Count.ToString,False) Throw New Exception(\"Problem with obtaining data from \" & sapTblName & \"; objects to create: \" & newHashesToCreate.Count.ToString & \"; objects to remove: \" & toRemoveObjectHashes.Count.ToString) Else Z_Send_Plain_Text_Mail(Connection.GetConfigParm(\"Common\\MailNotification\\ErrorAuditor\"), \"Idm. HR sync warning - Threshold exceeded for \" & sapTblName, \"Threshold exceeded for \" & sapTblName & \": objects to create: \" & newHashesToCreate.Count.ToString & \"; objects to remove: \" & toRemoveObjectHashes.Count.ToString,False) logger.warn(sapTblName & \": going to next read iteration!!!!\") End If Continue While End If Dim createdObjectCount As Integer = 0 Connection.BeginTransaction Try Dim doLog As Boolean = False Dim ccn As Integer = 0 For Each hash As String In hashToSapData.Keys doLog = cycleNum Mod batchLogSize = 0 If doLog Then logger.trace(sapTblName & \":cyclNum start #\" & cycleNum.ToString) End If ccn = cycleNum cycleNum = cycleNum + 1 If Not hashToIdmData.ContainsKey(hash) Then logger.trace(sapTblName & \":next hash to create: \" & hash) Dim dbrow As ISingleDbObject = Connection.CreateSingle(idmTableName) createdObjectCount = createdObjectCount + 1 Dim nextRow As BigDataRow = hashToSapData(hash) For Each attrName As String In allSapAttrsList If dateSapAttrsList.Contains(attrName) Then VID_PutValueSafe(dbrow, \"CCC_\" & attrName, Z_SAP_Get_Date_Sap_Attr(nextRow, attrName)) Else VID_PutValueSafe(dbrow, \"CCC_\" & attrName, nextRow(attrName)) End If Next If doLog Then logger.trace(sapTblName & \": cycle #\" & ccn.tostring() & \" before save\") End If dbrow.Save() If doLog Then logger.trace(sapTblName & \": cycle #\" & ccn.tostring() & \" after save\") End If End If If doLog Then logger.trace(sapTblName & \": cyclNum finish #\" & ccn.ToString) End If Next logger.trace(sapTblName & \": new objects (fact): \" & createdObjectCount) For Each hash As String In toRemoveObjectHashes logger.trace(sapTblName & \": next hash to remove: \" & hash) Dim dbrow As ISingleDbObject = Connection.CreateSingle(\"CCC\" & sapTblName, hashToIdmData(hash)) 'dbrow.Delete() VID_PutValueSafe(dbrow, \"CCC_IsDeleted\", 1) dbrow.Save() Next Connection.CommitTransaction Catch ex As Exception Connection.RollbackTransaction() Throw ex End Try logger.Trace(sapTblName & \": finish update\") Return \"ok\" End Using End While Throw New Exception(\"Problem with obtaining data from \" & sapTblName) End Function Dim FIRST_VALID_DATE As Date = Date.ParseExact(\"01/01/1900\", \"dd/MM/yyyy\",System.Globalization.DateTimeFormatInfo.InvariantInfo) Private Function Z_SAP_Get_Date_Sap_Attr_For_Hash(nextRow As BigDataRow, attrName As String) As String If Convert.ToString(nextRow(attrName))\\<>\"0000-00-00\" AndAlso Not String.IsNullOrEmpty(Convert.ToString(nextRow(attrName))) Then Dim tmpDate As Date = CType(nextRow(attrName), Date) If Not (tmpDate = Nothing) AndAlso tmpDate.CompareTo(FIRST_VALID_DATE) >= 0 Then Return tmpDate.tostring(\"yyyyMMdd\") End If End If If attrName = \"BEGDA\" Then Return \"19000101\" Else Return \"00000000\" End If End Function Private Function Z_SAP_Get_Date_Sap_Attr(nextRow As BigDataRow, attrName As String) As Date If Convert.ToString(nextRow(attrName))\\<>\"0000-00-00\" AndAlso Not String.IsNullOrEmpty(Convert.ToString(nextRow(attrName))) Then Dim tmpDate As Date = CType(nextRow(attrName), Date) If Not (tmpDate = Nothing) AndAlso tmpDate.CompareTo(FIRST_VALID_DATE) >= 0 Then Return tmpDate End If End If If attrName = \"BEGDA\" Then Return FIRST_VALID_DATE Else Return Nothing End If End Function","title":"31. One Identity SAP"},{"location":"32.%20One%20Identity%20%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/","text":"32. One Identity \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c 22 \u044f\u043d\u0432\u0430\u0440\u044f 2020 \u0433. 11:28 \u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0438\u0437\u0438 API What's new in 7.1 in regards to the scripts, ist that the REST API will block the execution of script if you script does not have a program function assigned, for security reasons. The authenticated user must be entitled to use the same program function. This is an addition to the requirements, that the authenticated user must be entitled to use the program function \"Allow the starting of arbitrary scripts from the frontend\" in order to execute a script in general. Note: To keep things simple, this program function is allowed to be the Common_StartScript program function. https://www.oneidentity.com/community/identity-manager/f/forum/21567/calling-scripts-via-application-server-restful-api-using-common_startscripts-permission-not-working Assignment to Scripts If a script is assigned a program function (table QBMScriptHasFeature), the user can only run this script if the necessary program function is granted to him. An error occurs if the user does not own this program function and tries to run it. To make a script available to users using a program function Connect the script with the program function. Select the category Permissions | Program functions in the Designer. Select the program function and assign the script. Select View | Select table relations... in the menu and enable the table DialogScriptHasFeature. You can assign the script on the Script tab displayed in the edit view. Assign a permissions group to the program function. https://support.oneidentity.com/technical-documents/identity-manager/8.0.2/configuration-guide/40","title":"32. One Identity \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c"},{"location":"32.%20One%20Identity%20%D0%B1%D0%B5%D0%B7%D0%BE%D0%BF%D0%B0%D1%81%D0%BD%D0%BE%D1%81%D1%82%D1%8C/#assignment-to-scripts","text":"If a script is assigned a program function (table QBMScriptHasFeature), the user can only run this script if the necessary program function is granted to him. An error occurs if the user does not own this program function and tries to run it. To make a script available to users using a program function Connect the script with the program function. Select the category Permissions | Program functions in the Designer. Select the program function and assign the script. Select View | Select table relations... in the menu and enable the table DialogScriptHasFeature. You can assign the script on the Script tab displayed in the edit view. Assign a permissions group to the program function. https://support.oneidentity.com/technical-documents/identity-manager/8.0.2/configuration-guide/40","title":"Assignment to Scripts"},{"location":"33.%20One%20Identity%20%D0%90%D0%B4%D0%BC%D0%B8%D0%BD%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F/","text":"33. One Identity \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f 9 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2019 \u0433. 14:35 1) \u0420\u0430\u0437\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0411\u0438\u0437\u043d\u0435\u0441-\u0440\u043e\u043b\u0435\u0439 \u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0439. \u0422\u043e \u0435\u0441\u0442\u044c, \u0414\u043b\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043a \u0437\u0430\u043a\u0430\u0437\u0443 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0431\u0438\u0437\u043d\u0435\u0441-\u0440\u043e\u043b\u0438! https://www.oneidentity.com/community/identity-manager/f/forum/5213/modifying-query-requesting-service-items-on-behalf-of-someone-else \"IsInActive=0 and UID_AccProduct in ( select distinct uid_accproduct from AccProduct )\"","title":"33. One Identity \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{"location":"35.%20UnitOfWork/","text":"35. UnitOfWork 28 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2022 \u0433. 9:41 the UnitOfWork is treated as a transaction as in all or nothing. The additional advantage of using a UnitOfWork is, that the object layer is able to group the operations and can use bulk mode to write the data into the database. If you open a database on your own you are loosing the bulk optimization. The UnitOfWork implicitly opens a database transaction during the first put operation. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/22447/unitofwork-clarification >","title":"35. UnitOfWork"},{"location":"36.%20Transfer%20Schema%20Extensions/","text":"36. Transfer Schema Extensions 31 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2022 \u0433. 9:16 \u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0439 \u0441\u0445\u0435\u043c\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0439 Consistency check!!! \u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0439 \u0441\u0445\u0435\u043c\u044b \u041f\u0440\u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0438 \u0441\u0445\u0435\u043c\u044b \u0441\u043e\u0437\u0434\u0430\u0435\u043c (\u0434\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u043c Change Label) \u0423\u0431\u0438\u0440\u0430\u0435\u043c \u0438\u0437 Change Label \u0437\u0430\u043f\u0438\u0441\u0438 \u043e \u043f\u0440\u0430\u0432\u0430\u0445 \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 (\u043a\u043e\u043b\u043e\u043d\u043a\u0438), \u0442\u0430\u043a \u043a\u0430\u043a UID \u0433\u0440\u0443\u043f\u043f \u043c\u043e\u0433\u0443\u0442 (\u043d\u043e \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b) \u043e\u0442\u043b\u0438\u0447\u0430\u0442\u044c\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0435 \u0438 \u0446\u0435\u043b\u0438 \u0412 Manager -> Database -> Change Management \u0422\u0430\u0431\u043b\u0438\u0446\u044b DialogTableGroupRight \u0438 DialogColumnGroupRight \u0414\u0435\u043b\u0430\u0435\u043c \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u043f\u043e Change Label \u041c\u043e\u0436\u043d\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c Change Label \u0432\u0440\u0443\u0447\u043d\u0443\u044e, \u0447\u0435\u0440\u0435\u0437 Change Management \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u0438\u0437 \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u044f \u044d\u0442\u0443 \u0437\u0430\u043f\u0438\u0441\u044c \u0432\u043b\u0435\u0432\u043e (\u0432 Change Label) \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0443, \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0412 Designer \u0432 One Identity Manager Schema -> \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 -> Edit Permissions for table \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 - \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 Copy All Permissions \u041d\u0430 \u043d\u0430\u0448\u0435\u0439 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 - \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 - Paste All Permissions \u0414\u043b\u044f \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u0442\u0430\u043a \u0436\u0435, \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u043e\u0436\u043d\u043e \u0443 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0438 Paste All Permissions \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b - \u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 \u0418 \u043d\u0430\u0436\u0430\u0442\u044c Select Permissions Editor \u0422\u0430\u0431\u043b\u0438\u0446\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044e\u0442 \u0432 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0438 \u0441\u0445\u0435\u043c\u044b DialogTable (\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b) DialogColumn DialogObject (Object Definition) - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 (\u0441\u0432\u044f\u0437\u044c \u0441 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439 \u0432 SQL?) QBMRelation (\u0441\u0432\u044f\u0437\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438 FK) DialogTableGroupRight (\u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0443) DialogColumnGroupRight (\u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043a\u0438) QBMCustomSQL (\u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043a\u043e\u043b\u043e\u043d\u043a\u0438) The Designer contains a variety of consistency checks. Run these consistency checks and apply the repair methods after carrying out a schema extension and after making changes to table and column definitions. For more information about checking data consistency, see the One Identity Manager Operational Guide You can delete custom schema extensions only on databases with the Test environment or Development system staging level. It is not possible to transport the changes","title":"36. Transfer Schema Extensions"},{"location":"36.%20Transfer%20Schema%20Extensions/#consistency-check","text":"","title":"\u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0439 \u0441\u0445\u0435\u043c\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0439 Consistency check!!!"},{"location":"36.%20Transfer%20Schema%20Extensions/#_1","text":"\u041f\u0440\u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0438 \u0441\u0445\u0435\u043c\u044b \u0441\u043e\u0437\u0434\u0430\u0435\u043c (\u0434\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u043c Change Label) \u0423\u0431\u0438\u0440\u0430\u0435\u043c \u0438\u0437 Change Label \u0437\u0430\u043f\u0438\u0441\u0438 \u043e \u043f\u0440\u0430\u0432\u0430\u0445 \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 (\u043a\u043e\u043b\u043e\u043d\u043a\u0438), \u0442\u0430\u043a \u043a\u0430\u043a UID \u0433\u0440\u0443\u043f\u043f \u043c\u043e\u0433\u0443\u0442 (\u043d\u043e \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b) \u043e\u0442\u043b\u0438\u0447\u0430\u0442\u044c\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0435 \u0438 \u0446\u0435\u043b\u0438 \u0412 Manager -> Database -> Change Management \u0422\u0430\u0431\u043b\u0438\u0446\u044b DialogTableGroupRight \u0438 DialogColumnGroupRight \u0414\u0435\u043b\u0430\u0435\u043c \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u043f\u043e Change Label \u041c\u043e\u0436\u043d\u043e \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c Change Label \u0432\u0440\u0443\u0447\u043d\u0443\u044e, \u0447\u0435\u0440\u0435\u0437 Change Management \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044f \u0441\u043f\u0440\u0430\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u0438\u0437 \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u044f \u044d\u0442\u0443 \u0437\u0430\u043f\u0438\u0441\u044c \u0432\u043b\u0435\u0432\u043e (\u0432 Change Label) \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0443, \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0412 Designer \u0432 One Identity Manager Schema -> \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 -> Edit Permissions for table \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 - \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 Copy All Permissions \u041d\u0430 \u043d\u0430\u0448\u0435\u0439 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 - \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 - Paste All Permissions \u0414\u043b\u044f \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u0442\u0430\u043a \u0436\u0435, \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u043e\u0436\u043d\u043e \u0443 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0432\u0441\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0438 Paste All Permissions \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b - \u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443","title":"\u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0439 \u0441\u0445\u0435\u043c\u044b"},{"location":"36.%20Transfer%20Schema%20Extensions/#select-permissions-editor","text":"","title":"\u0418 \u043d\u0430\u0436\u0430\u0442\u044c Select Permissions Editor"},{"location":"36.%20Transfer%20Schema%20Extensions/#_2","text":"","title":""},{"location":"36.%20Transfer%20Schema%20Extensions/#_3","text":"","title":""},{"location":"36.%20Transfer%20Schema%20Extensions/#_4","text":"DialogTable (\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b) DialogColumn DialogObject (Object Definition) - \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 (\u0441\u0432\u044f\u0437\u044c \u0441 \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439 \u0432 SQL?) QBMRelation (\u0441\u0432\u044f\u0437\u0438 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438 FK) DialogTableGroupRight (\u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0443) DialogColumnGroupRight (\u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043a\u0438) QBMCustomSQL (\u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043a\u043e\u043b\u043e\u043d\u043a\u0438) The Designer contains a variety of consistency checks. Run these consistency checks and apply the repair methods after carrying out a schema extension and after making changes to table and column definitions. For more information about checking data consistency, see the One Identity Manager Operational Guide You can delete custom schema extensions only on databases with the Test environment or Development system staging level. It is not possible to transport the changes","title":"\u0422\u0430\u0431\u043b\u0438\u0446\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044e\u0442 \u0432 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0438 \u0441\u0445\u0435\u043c\u044b"},{"location":"37.%20DbQueue/","text":"37. DbQueue 25 \u043d\u043e\u044f\u0431\u0440\u044f 2022 \u0433. 15:58 \u0412\u044b\u0432\u043e\u0434 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 DbQueue select * from QBMDBQueueCurrent \u0417\u0430\u0434\u0430\u0447\u0438 DbQueue select * from QBMDBQueueTask","title":"37. DbQueue"},{"location":"37.%20DbQueue/#dbqueue","text":"select * from QBMDBQueueCurrent","title":"\u0412\u044b\u0432\u043e\u0434 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 DbQueue"},{"location":"37.%20DbQueue/#dbqueue_1","text":"select * from QBMDBQueueTask","title":"\u0417\u0430\u0434\u0430\u0447\u0438 DbQueue"},{"location":"38.%20One%20Identity%20%D0%94%D0%B8%D0%BD%D0%B0%D0%BC%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B5%20%D0%B3%D1%80%D1%83%D0%BF%D0%BF%D1%8B/","text":"38. One Identity \u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b 6 \u043c\u0430\u044f 2024 \u0433. 12:14 The dynamic group calculations are done by generated stored procedures. One option to get the runtimes is to rely on the statistics from the SQL Server itself. Something like this: * * SELECT DG.DisplayName AS DynamicGroup, OBJECT_NAME(object_id) AS Procedurename, CONVERT(INT, 1.0*SUM(deps.total_elapsed_time) / SUM(deps.execution_count) / 1000.0) AS AvgRuntimeMs, (SELECT COUNT(*) FROM PersonInBasetree BT WHERE BT.UID_Org = dbo.QBM_FCVObjectkeyToElement('ColumnValue1', dg.ObjectKeyBaseTree)) AS [Number of persons assigned to that org] FROM sys.dm_exec_procedure_stats deps JOIN DynamicGroup dg ON OBJECT_ID(dbo.QER_FCVDynGuidToProcName(dg.uid_DynamicGroup, 'All')) = deps.object_id WHERE deps.database_id = db_id() AND dbo.QBM_FCVGUIDToModuleOwner(dg.UID_DynamicGroup) = 'CCC' --only custom defined dynamic group GROUP BY DG.DisplayName, OBJECT_NAME(object_id), dg.ObjectKeyBaseTree ORDER BY 3 DESC Attention: The runtime depends on 2 things: How many changes are made in the run? How many objects (person, workdesk, hardware) are already attached to the dynamic role? So, please do not try to optimize the runtime down to 2ms for a dynamic role that contains 300k objects. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/35949/dynamicgroup-calculation-time-monitoring > \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 Public Function CCC_HostingOU_CreateDynamicGroup(objectKey As String, uidAERole As String) As String Dim dynamicGroup As IEntity = Nothing Dim f As ISqlFormatter = Session.SqlFormatter Dim whereClause = String.Format(\"EXISTS (SELECT 1 FROM (SELECT UID_Person FROM PersonInAERole WHERE EXISTS (SELECT 1 FROM (SELECT UID_AERole FROM AERole WHERE UID_AERole = '{0}') as X WHERE X.UID_AERole = PersonInAERole.UID_AERole)) as X WHERE X.UID_Person = Person.UID_Person)\", uidAERole) dynamicGroup = Session.Source.CreateNew(\"DynamicGroup\") dynamicGroup.PutValue(\"ObjectKeyBaseTree\", objectKey) dynamicGroup.PutValue(\"UID_DialogTableObjectClass\", \"QER-T-Person\") dynamicGroup.PutValue(\"WhereClause\", whereClause) Using uow As IUnitOfWork = Session.StartUnitOfWork() uow.Put(dynamicGroup) uow.Commit() End Using Return dynamicGroup.GetValue(\"UID_DynamicGroup\") End Function \u0418\u043b\u0438 Public Sub CCC_CreateOrUpdate_DynamicGroup(uid_customers As String) ' create or find dynamic group Dim dynamicGroup As IEntity = Nothing Dim f As ISqlFormatter = Session.SqlFormatter ' Create an ObjectKey for the customer node Dim ObjectKeyBaseTree As DbObjectKey = New DbObjectKey(\"ITShopOrg\", uid_customers) ' Try to load the dynamic group frm the database If Session.Source.TryGet( Query.From(\"DynamicGroup\") _ .Where(f.Comparison(\"ObjectKeyBaseTree\", ObjectKeyBaseTree.ToXmlString(), ValType.String, CompareOperator.Equal, FormatterOptions.NonUnicodeLiterals)) _ .SelectNonLobs, dynamicGroup ) Then ' A dynamic group exists for our customer node ' Just change the where clause dynamicGroup.PutValue(\"whereclause\", \"isnull(IsInActive, 0) = 0\") 'only active employes Else ' There is no dynamic group for our customer node ' Create a new dynamic group dynamicGroup = Session.Source.CreateNew(\"DynamicGroup\") ' Set the values dynamicGroup.PutValue(\"ObjectKeyBaseTree\", ObjectKeyBaseTree.ToXmlString()) ' Optimization: UID_DialogSchedule for ootb schedules never change since version 7 dynamicGroup.PutValue(\"UID_DialogSchedule\", \"QER-B78E7C59F09D487085506ED339F0257D\") ' Optimization: UID_DialogTable for ootb tables never change since version 7 dynamicGroup.PutValue(\"UID_DialogTableObjectClass\", \"QER-T-Person\") dynamicGroup.PutValue(\"whereclause\", \"isnull(IsInActive, 0) = 0\") 'only active employes End If ' Saving the changed or created dynamic group Using uow As IUnitOfWork = Session.StartUnitOfWork() uow.Put(dynamicGroup) uow.Commit() End Using End Sub","title":"38. One Identity \u0414\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},{"location":"39.%20Upgrade/","text":"39. Upgrade 31 \u043c\u0430\u044f 2024 \u0433. 15:58 Identity Manager 8.2 - Installation Guide (oneidentity.com) SQL 2016 to SQL 2019 Identity Manager 8.2 - Operational Guide (oneidentity.com)","title":"39. Upgrade"},{"location":"4.%20Attestation%20%28Recertification%29/","text":"4. Attestation (Recertification) 21 \u0434\u0435\u043a\u0430\u0431\u0440\u044f 2021 \u0433. 14:06 Identity Manager 8.1.2 - Attestation Administration Guide (oneidentity.com) \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f RiskIndex QER\\CalculateRiskIndex \u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 Attestation type s \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f Attestation procedures. \u041f\u0440\u043e\u0441\u0442\u043e \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u0443\u044f \u0438\u0445. Attestation procedures \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442 \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 - \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 Business role (\u043e\u0431\u044a\u0435\u043a\u0442 PersonInOrg). \u0412 \u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 - \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u044b\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0438 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0438. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 Related object \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u0441\u0432\u044f\u0445\u044c \u0441 \u0434\u0440\u0443\u0433\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439, \u0447\u0435\u0440\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 XObjectKey (\\$FK(UID_ADSAccount).XObjectKey\\$), \u043f\u043e\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043c\u044b \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0432 Grouping column 1 \u0438 \u0442.\u043f. Compliance frameworks \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 attestation policies, compliance rules, and company policies \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438. Attestation policies \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438. \u0412 \u043d\u0438\u0445 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f Attestation procedure , \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435. \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where \u0434\u043b\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u0432 Attestation procedure. \u0415\u0441\u043b\u0438 \u043c\u044b \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u0437\u0430\u0434\u0430\u0435\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u043e\u0442\u0431\u043e\u0440\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 - \u0442\u043e \u044d\u0442\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0432 Where Attestation policy! \u0412 Attestation policy \u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f Apprval Policy , \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f Approval Workflow \u0441 \u0448\u0430\u0433\u0430\u043c\u0438 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438. Additional approver possible Specifies whether a current attestor is allowed to instruct another employee as an attestor. This additional attestor has parallel authorization to make approvals for the current attestation case. The attestation case is not passed on to the next approval level until both attestors have made a decision. This option can only be set for approval levels with a single, manual approval step. Approval can be delegated Specifies whether a current attestor can delegate the attestation to another person. This employee is added to the current approval step as the attestor. This employee then makes the approval decision instead of the attestor who made the delegation. This option can only be set for approval levels with a single, manual approval step. Approval by affected employee Specifies whether the employee who is affected by the approval decision can also approve it. If this option is set, employees to be attested can attest themselves. If this option is not set, use the QER | Attestation | PersonToAttestNoDecide configuration parameter to define whether the employees to be attested can attest themselves. Do not show in approval history Specifies whether or not the approval step should be displayed in the attestation history. For example, this behavior can be applied to approval steps with the CD - calculated approval procedure, which are used only for branching in the approval workflow. It It makes it easier to follow the attestation history. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.2/attestation-administration-guide/18 > \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043c\u043e\u0433 \u0441\u0430\u043c \u0441\u0435\u0431\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u0442\u044c, \u043d\u0430\u0434\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Approval by affected employee. Recertifying existing users IMPORTANT: Access to connected target systems may possibly be denied to One Identity Manager users as a result of recertification. You can configure this behavior to meet your company\u2019s requirements. Read the following section thoroughly before you use the recertification function. One Identity Manager provides an attestation policy for performing cyclical attestation of existing users allowing companies to regularly test and authorize employee master data stored in the One Identity Manager database. Cyclical attestation is triggered through a scheduled task. This resets the certification status for all employees stored in the database. One Identity Manager uses the same procedure for this as for attesting new users. The case is referred to as recertification. Result of recertification Certified, activated employees who can access all entitlements assigned to them in One Identity Manager and the connected target systems. Company resources are inherited. Account definitions are assigned to internal employees. OR - Denied and permanently deactivated employees. Disable employees cannot log in to One Identity Manager tools. Company resources are not inherited. Account definitions are not automatically assigned. User accounts associated with the employee are also locked or deleted. You can customize the behavior to meet your requirements. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.2/attestation-administration-guide/38#TOPIC-1363650 > \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u044f\u0432\u043b\u044f\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c (\u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c \u0440\u0438\u0441\u043a\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440) \u043d\u0430\u0434\u043e \u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0432 Attestation policy! \u041d\u0435 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0430\u0432\u0442\u043e\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u0437 \u0431\u0438\u0437\u043d\u0435\u0441-\u0440\u043e\u043b\u0435\u0439 \u0438 \u0433\u0440\u0443\u043f\u043f \u043f\u0440\u0438 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 (\u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438) \u0412 QER\\Attestation\\AutoRemovalScope \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0431\u043b\u0430\u0441\u0442\u0438, \u043e\u0442\u043a\u0443\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c\u0441\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0412 Workflow \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438 \u043d\u0430\u0434\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0448\u0430\u0433 EX \u0441 \u0441\u043e\u0431\u044b\u0442\u0438\u0435\u043c AUTOREMOVE Identity Manager 8.1 - Attestation Administration Guide (oneidentity.com) \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u0431\u043e\u0440\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 PersonInOrg \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0411\u0438\u0437\u043d\u0435\u0441-\u0440\u043e\u043b\u0438 \u0438 \u0435\u0433\u043e \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0440\u0438\u0441\u043a\u0430 (EXISTS (select top 1 1 FROM (SELECT UID_Org FROM Org WHERE UID_Org IN (' 8f42bafa-2350-4dac-81ac-c7aa117b269f','8e98371f-4d04-4f02-8266-00e1a4ae023f','19590942-9839-480f-8760-18a9aefc5c2b' )) x WHERE x.UID_Org = PersonInOrg.UID_Org))AND(EXISTS (select top 1 1 FROM (SELECT UID_Person FROM Person WHERE RiskIndexCalculated >= 0 and RiskIndexCalculated \\<= 0.1 ) p WHERE p.UID_Person = PersonInOrg.UID_Person)) \u041d\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u0437 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u0435\u0439 \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0435 QER\\Attestation\\AutoRemovalScope\\RoleMembership\\RemoveDynamicRole \u0412 \u0432\u0435\u0440\u0441\u0438\u0438 8.2 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c, \u0442\u0430\u043a \u043a\u0430\u043a \u0442\u0430\u043c \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u0435\u043b\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u0435\u0439. \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u04255 (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435) \u0415\u0441\u0442\u044c 2 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 - \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e (\u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0441 \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c \u0440\u0438\u0441\u043a\u0430 \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0438 \u043f\u043b\u0430\u043d\u043e\u0432\u043e\u0435 (3 \u0433\u043e\u0434\u0430) \u0434\u043b\u044f \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0441 \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c \u0440\u0438\u0441\u043a\u0430) \u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u0435\u0433\u043e CustomProperty08 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u0430 NeedRecert (\u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 - \u0438\u043d\u0434\u0435\u043a\u0441 \u0440\u0438\u0441\u043a\u0430 > \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0438 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u043e\u0442 \u043f\u0440\u043e\u0448\u043b\u043e\u0433\u043e). \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 AttestationCase \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f CustomProperty08 \u043d\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 NeedRecert \u0438 \u0435\u0441\u043b\u0438 \u043e\u043d\u043e \u0442\u0430\u043c \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043e - \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f AttestationCase. \u0412 PropertyInfo3 AttestationCase \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f UID_Person, \u0447\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432 \u0435\u0433\u043e \u0432 \u0448\u0430\u0433\u0435 \u0437\u0430\u0447\u0438\u0441\u0442\u043a\u0438 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0412 Workflow \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u043c \u0448\u0430\u0433\u0435 \u0437\u0430\u0442\u0438\u0440\u0430\u0435\u0442\u0441\u044f CustomProperty08 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430, \u0447\u0442\u043e\u0431\u044b \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f \u043d\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430 \u0441\u043d\u043e\u0432\u0430 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0434\u0435\u043d\u044c. \u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u04255 (\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430) \u0422\u0430\u043a \u043a\u0430\u043a \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0441 \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c \u0440\u0438\u0441\u043a\u0430 \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u043c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u043c, \u0442\u043e \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f UID \u043f\u0440\u043e\u0448\u043b\u043e\u0433\u043e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 CustomProperty09. \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 AttestationCase \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f CustomProperty09 \u043d\u0430 \u043d\u0435 \u043f\u0443\u0441\u0442\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438 \u0435\u0441\u043b\u0438 \u043e\u043d\u043e \u0442\u0430\u043c \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043e - \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f AttestationCase. \u0412 AttestationCase CustomProperty09 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0432 Property4 template \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432 Workflow \u0432 \u0448\u0430\u0433\u0435 \u0432\u044b\u044f\u0441\u043d\u0435\u043d\u0438\u044f \u0431\u044b\u043b \u043b\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043d\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043b\u044f (NOT isnull(PropertyInfo4, N'') = N'') \u0438 \u043f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044e. \u0412 PropertyInfo3 AttestationCase \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f UID_Person, \u0447\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432 \u0435\u0433\u043e \u0432 \u0448\u0430\u0433\u0435 \u0437\u0430\u0447\u0438\u0441\u0442\u043a\u0438 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0412 Workflow \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u043c \u0448\u0430\u0433\u0435 \u0437\u0430\u0442\u0438\u0440\u0430\u0435\u0442\u0441\u044f CustomProperty09 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430, \u0447\u0442\u043e\u0431\u044b \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f \u043d\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430 \u0441\u043d\u043e\u0432\u0430 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0434\u0435\u043d\u044c. \u0421\u043e\u0431\u044b\u0442\u0438\u0435 Autoremove \u0434\u043b\u044f AttestationCase - \u0447\u0442\u043e\u0431\u044b \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044f\u0445! Attestation by mail From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.1/attestation-administration-guide/34#TOPIC-1245537 > \u0418\u043d\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u0442\u044c \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432 QER\\Attestation\\MailApproval \u041d\u0430\u0434\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c QER\\Attestation\\MailTemplateIdents\\RequestApproverByCollection \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u043b\u043e \u043e\u0434\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e, \u0430 \u043d\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0417\u0430\u043f\u0443\u0441\u043a \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f Inform approver about pending attestations \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0438\u0441\u0435\u043c \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u0431\u043e\u0440\u0430 Attestation cases \u043f\u043e \u0434\u0430\u0442\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0412\u044b\u0432\u043e\u0434\u044f\u0442\u0441\u044f PersonInOrg (\u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0432 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044f\u0445), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 3,6,9 \u2026 \u043b\u0435\u0442 \u0434\u043b\u044f \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 select centralaccount, EntryDate, DateDiff(yy, EntryDate, GetUTCDate()) as DateDif from Person where DateDiff(dd, EntryDate, GetUTCDate()) % 1095 = 0 and DateDiff(yyyy, EntryDate, GetUTCDate()) \\<> 0 \u0423\u0441\u043b\u043e\u0432\u0438\u0435 WHERE \u0434\u043b\u044f Attestation Policy (EXISTS (select top 1 1 FROM (SELECT UID_Person FROM Person WHERE RiskIndexCalculated >= 0.5 and RiskIndexCalculated \\<= 1 and DateDiff(dd, EntryDate, GetUTCDate()) % 1095 = 0 and DateDiff(yyyy, EntryDate, GetUTCDate()) \\<> 0 and isInActive = '0') p WHERE p.UID_Person = PersonInOrg.UID_Person)) \u041f\u043e \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044e - \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c. \u0412\u044b\u0432\u043e\u0434 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 UNSAccount \u0432 UNSGroup (ADSAcoountInADSGroup, UNSAccountBInUNSGroupB \u2026) \u0423\u0441\u043b\u043e\u0432\u0438\u0435 WHERE \u0434\u043b\u044f Attestation Policy ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE RiskIndexCalculated >= 0.5 AND RiskIndexCalculated \\<= 1 ) ) ) \u0414\u043e\u043f (\u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0442\u0435\u0445, \u043a\u0442\u043e \u0443\u0441\u0442\u0440\u043e\u0438\u043b\u0441\u044f 3,6,9 \u2026 \u043b\u0435\u0442 \u043e\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0434\u0430\u0442\u044b) ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE RiskIndexCalculated >= 0.5 AND RiskIndexCalculated \\<= 1 AND DateDiff(dd, EntryDate, GetUTCDate()) % 1097 = 0 AND DateDiff(yyyy, EntryDate, GetUTCDate()) \\<> 0 AND isInActive = '0' ) ) ) \u0421 \u0443\u0447\u0435\u0442\u043e\u043c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE ( RiskIndexCalculated >= 0.2 AND RiskIndexCalculated \\<= 0.69 AND DateDiff(dd, EntryDate, GetUTCDate()) % 1097 = 0 AND DateDiff(yyyy, EntryDate, GetUTCDate()) \\<> 0 AND isInActive = '0' ) OR ( RiskIndexCalculated >= 0.7 AND isInActive = '0' ) ) AND UID_UNSAccount NOT IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE CCC_msExchExtAttr27 = 'CEO -1' OR CCC_msExchExtAttr27 = 'CEO -2' OR SAMAccountName = 'User040-3' OR Department LIKE N'\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442' ) ) ) \u0421 \u0443\u0447\u0435\u0442\u043e\u043c \u043d\u043e\u0432\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432 \u0438 \u043a\u043e\u043b-\u0432\u043e \u0434\u043d\u0435\u0439 (100) \u043e\u0442 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE ( --DefaultEmailAddress is not null isInActive = '0' ) OR ( RiskIndexCalculated >= 0.7 AND isInActive = '0' ) ) AND UID_UNSAccount NOT IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE CCC_msExchExtAttr27 = 'CEO -1' OR CCC_msExchExtAttr27 = 'CEO -2' OR SAMAccountName = 'User040-3' OR Department LIKE N'\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442' OR Mail is null ) AND UID_UNSAccount IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE UID_DPRNameSpace = 'ADS-DPRNameSpace-ADS' ) ) ) AND( not EXISTS ( SELECT top 1 1 FROM AttestationCase WHERE ObjectKeyBase = UNSAccountInUNSGroup.XObjectKey AND UID_AttestationRun IN ( SELECT UID_AttestationRun FROM AttestationRun WHERE UID_AttestationPolicy = '\\$UID_AttestationPolicy\\$' AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\< 100 --AND DateDiff(dd, PolicyProcessed, GetUTCDate()) % 1097 = 0 -- AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<> 0 ) ) ) \u0421 \u0443\u0447\u0435\u0442\u043e\u043c \u043d\u043e\u0432\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u0441\u0442\u0430\u0440\u0448\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0433\u043e\u0434\u0430 ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE ( --DefaultEmailAddress is not null isInActive = '0' ) OR ( RiskIndexCalculated >= 0.7 AND isInActive = '0' ) ) AND UID_UNSAccount NOT IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE CCC_msExchExtAttr27 = 'CEO -1' OR CCC_msExchExtAttr27 = 'CEO -2' OR SAMAccountName = 'User040-3' OR Department LIKE N'\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442' OR Mail is null ) ) ) AND( Not EXISTS ( SELECT top 1 1 FROM AttestationCase WHERE ObjectKeyBase = UNSAccountInUNSGroup.XObjectKey AND UID_AttestationRun IN ( SELECT UID_AttestationRun FROM AttestationRun WHERE UID_AttestationPolicy = '\\$UID_AttestationPolicy\\$' AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<= 1097 --AND DateDiff(dd, PolicyProcessed, GetUTCDate()) % 1097 = 0 -- AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<> 0 ) ) ) AND( DateDiff(yy, XDateInserted, GetUTCDate()) > 1 ) \u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f? ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person p WHERE UID_Department NOT IN ( SELECT UID_Department FROM Department WHERE DepartmentName = N'Supply Chain' -- \u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442 ) AND ( --DefaultEmailAddress is not null isInActive = '0' AND p.CentralAccount = 'User040' ) OR ( RiskIndexCalculated >= 0.7 AND isInActive = '0' ) ) AND UID_UNSAccount NOT IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE CCC_msExchExtAttr27 = 'CEO -1' OR CCC_msExchExtAttr27 = 'CEO -2' OR SAMAccountName = 'User040-3' OR Department LIKE N'\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442' -- OR Mail IS NULL ) ) ) AND( NOT EXISTS ( SELECT top 1 1 FROM AttestationCase WHERE ObjectKeyBase = UNSAccountInUNSGroup.XObjectKey AND UID_AttestationRun IN ( SELECT UID_AttestationRun FROM AttestationRun WHERE UID_AttestationPolicy = '\\$UID_AttestationPolicy\\$' AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<= 2 --AND DateDiff(dd, PolicyProcessed, GetUTCDate()) % 1097 = 0 -- AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<> 0 ) ) ) --AND(DateDiff(yy, XDateInserted, GetUTCDate()) > 1) \u0423\u0431\u0440\u0430\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 RiskIndex \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u043f\u0440\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 Display columns of table \"Attestation case\" \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_Attestation_EditCases_Default \u0443\u0431\u0440\u0430\u0442\u044c RiskIndex \u0412 \u043c\u043e\u0434\u0443\u043b\u0435 VI_Attestation \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u043a \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 RiskIndex \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_Attestation_AttestationCase_ViewMultiplyPolicy \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 Product \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432 \u043a\u0435\u0439\u0441\u0430\u0445 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u0412 Manager \u0437\u0430\u0439\u0442\u0438 \u0432 Attestation, Attestation Procedures \u0438 \u0432 \u043d\u0443\u0436\u043d\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0435 Grouping Column (template) =\\$FK(UID_UNSGroup).FK(UID_AccProduct).Ident_AccProduct\\$ Grouping Column = Product \u0412 WebDesigner \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u043f\u0438\u044e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 VI_Attestation_AttestationCase_ViewMultiplyPolicy \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043c\u043e\u0434\u0443\u043b\u044f\u0445 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 VI_Attestation \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Column22 - RiskIndex \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 ContainerColumnTemplate2 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 Form2 - \u0432\u043c\u0435\u0441\u0442\u043e \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0442\u0438\u043f\u044b \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 CCC_Attestation_AttestationCaseViewMultiplePolicy \u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043a\u0430 RiskIndex (Column1) \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f DenySelectAllValue() \u0432 ComponentInterface1 \u0412 VI_Common_DecisionControl - DenySelectAll() = DenySelectAllValue() (\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 CCC_Attestation_AttestationCase) CCC_Attestation_AttestationCase \u0423\u0434\u0430\u043b\u0435\u043d Case1, Case2 Case2 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 Case4 \u0412 Case4 \u0443\u0434\u0430\u043b\u0435\u043d Tab Page (Iteration) - AttestationPolicy \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d Tab Page (Iteration) - ProductCategory \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 ProductCategory (\u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 AccProductGroup) \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 Workflow \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f - \u0443\u0447\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 AD \u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u0412 Manager \u0437\u0430\u0439\u0442\u0438 \u0432 Attestation, Attestation Procedures \u0438 \u0432 \u043d\u0443\u0436\u043d\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0435 Property3 (template) = \\$FK(UID_UNSAccount).FK(UID_UNSContainer).cn\\$ Property3 = CN ADS_Container Property4 (template) = \\$FK(UID_UNSAccount).FK(UID_Person).CustomProperty09\\$ Property4 = Previous Manager \u0412\u0438\u0434 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 Pending attestation Page shows two options. How to get rid of it? - Forum - Identity Manager Community - One Identity Community \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u0443\u044e Approval Policy \u0434\u043b\u044f Attestation Policy \u041d\u0443\u0436\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0443 Approval Policy \u0443\u043a\u0430\u0437\u0430\u0442\u044c Approval Workflow \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 Approval Policy, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0417\u0430\u0442\u0435\u043c, \u0432 Attestation Procedures \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c (Assign Approval Policy) \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u0443\u044e Approval Policy (\u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f) \u041e\u0431\u0440\u0430\u0442\u043d\u043e \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 Approval Workflow \u0434\u043b\u044f \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0439 Approval Policy. But you can create a custom approval procedure and copy the query from the approval procedure \"OR\" to your custom approval procedure and assign the necessary tables. Than use your custom approval procedure in your workflow. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/5040/unable-to-view-the-custom-approval-policy-created-for-attestation-at-attestation-procedure-level > \u0420\u0430\u0441\u0447\u0435\u0442 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f - Approval procedure select pers.CustomProperty09 as UID_Person ,dbo.QER_FGIPWORulerOrigin(p.XObjectKey) as UID_PWORulerOrigin from AttestationCase ac join ADSAccountInADSGroup p on ac.ObjectKeyBase = p.XObjectKey join ADSAccount adsa on p.UID_ADSAccount = adsa.UID_ADSAccount join Person pers on adsa.UID_Person = pers.UID_Person where ac.UID_AttestationCase = @UID_AttestationCase !\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 TimeTrace SELECT top 1 wprop.ContentShort AS UID_Person, dbo.QER_FGIPWORulerOrigin(p.XObjectKey) AS UID_PWORulerOrigin FROM attestationCase ac JOIN UNSAccountInUNSGroup p ON ac.ObjectKeyBase = p.XObjectKey JOIN Person pers ON pers.UID_Person = ac.PropertyInfo2 JOIN DialogWatchOperation wop ON SUBSTRING(wop.ObjectKeyOfRow, 22, 36) = pers.UID_Person JOIN DialogWatchProperty wprop ON wprop.UID_DialogWatchOperation = wop.UID_DialogWatchOperation WHERE ac.UID_AttestationCase = @UID_AttestationCase AND wprop.UID_DialogColumn = 'QER-76BFB981AA5F4D69BE4E9014D1605E56' AND wop.OperationType = 'U' ORDER BY wop.OperationDate DESC // .UID_DialogColumn = 'QER-76BFB981AA5F4D69BE4E9014D1605E56' - \u044d\u0442\u043e \u043f\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044e \u043a\u043e\u043b\u043e\u043d\u043a\u0438 UID_PersonHead (\u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c) OperationType = 'U' - \u044d\u0442\u043e Update SUBSTRING(wop.ObjectKeyOfRow, 22, 36) - \u043e\u0442\u043a\u0443\u0441\u0438\u0442\u044c UID_Person wop.OperationDate DESC - \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0432\u0435\u0436\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 - \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c ---- \u041d\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 AttestationCase \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0432\u044b\u0437\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439. \u041c\u043e\u0436\u043d\u043e \u0438\u0437 Workflow \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0434\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u043c \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 AttestationCase, \u043a\u0430\u043a \u0432\u0430\u0440\u0438\u0430\u043d\u0442. \u0424\u043e\u0440\u043c\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 CCC_Attestation Form4 - \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 Form5 - \u0434\u043b\u044f \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 AttestationCases \u0417\u0430\u043f\u0443\u0441\u043a AttestationCases I would create a script that creates the attestation cases for your attestation policy. The script can use a method available at enabled AttestationPolicy objects that allow you to specify the object keys you want to attest. You can check the available methods in the object properties windows, tab called Methods. The method for your case would be CreateAttestations(String[] objectKeys) which takes an string array of object keys you want to attest using the current attestation policy. It returns an array of DBObjectKey objects. So you just need to call the script using the SOAP / REST API. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/26271/trigger-attestation-for-selected-objects-using-soap-service-call > \u0418\u043b\u0438 \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 Public Function CCC_AttestationPolicy_CreateForSingleObject(ByVal uidAttestationPolicy As String, ByVal objectkey As String) As String Try Dim policy As ISingleDbObject = Connection.CreateSingle(\"AttestationPolicy\", uidAttestationPolicy) Dim objectKeyAttestationCase As String = policy.Custom.CallMethod(\"CreateAttestation\", objectkey).ToString Return objectKeyAttestationCase Catch ex As Exception Return String.Empty End Try End Function Here uidAttestationPolicy is the policy you want to trigger and objectkey is pointing to the record you want policy to be triggered against. Hope it helps. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/26271/trigger-attestation-for-selected-objects-using-soap-service-call > \u0412\u044b\u0437\u043e\u0432 \u043c\u0435\u0442\u043e\u0434\u0430 CreateAttestations \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 Public Function CCC_AttestationPolicy_CreateForSingleObject(ByVal uidAttestationPolicy As String, ByVal objectkey As String) As String Dim dbAttestationPolicy As IEntity Dim arrObjectkey() As String = {objectkey} dbAttestationPolicy = Session.Source.Get(\"AttestationPolicy\", uidAttestationPolicy) dbAttestationPolicy.CallMethod(\"CreateAttestations\", arrObjectkey) dbAttestationPolicy.Save(Session) Return \"OK\" End Function \u041f\u0440\u0438 \u043e\u0442\u043a\u0430\u0437\u0435 \u043e\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043e\u0431\u044b\u0447\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u043f\u0440\u0438 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 Error executing script 'VI_AttestationCase_GetRemoveMembershipActions'. Could not create single object for table ADSAccountInADSGroup. Object of type \u0423\u0447\u0435\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 Active Directory: \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f does not exist in database or you do not have the relevant viewing permissions. (2022-06-17 16:34:08) \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441\u0432\u044f\u0437\u0430\u043d\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f (Workflow) \u0435\u0441\u0442\u044c \u0448\u0430\u0433 \u0441 \u0432\u044b\u0437\u043e\u0432\u043e\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u044f AUTOREMOVE. \u041d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u043f\u0440\u0438 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 \u044d\u0442\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0441\u0432\u0435\u0442\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f. \u042d\u0442\u043e\u0442 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u0430\u0435\u0442 \u0441\u0431\u043e\u0439. \u042d\u0442\u043e \u0431\u0430\u0433, \u0435\u0441\u0442\u044c \u043b\u0435\u0447\u0435\u043d\u0438\u0435 - Error executing AutoRemove Actions with script VI_AttestationCase_GetRemoveMembershipActions (299351) (oneidentity.com) \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043e\u0439\u0442\u0438, \u0435\u0441\u043b\u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u044b\u0437\u043e\u0432 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0438 \u043f\u043e \u043d\u0435\u043c\u0443 \u0437\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441 \u043a\u043e\u043f\u0438\u0435\u0439 \u0448\u0430\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e (\u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b AttestationCase). \u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u043a\u043d\u043e\u043f\u043a\u0438 \u0423\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0432\u0441\u0435, \u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 (ApproveAll, DenyAll) \u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 DenySelectAll() \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 VI_Common_DecisionControl \u042f \u0441\u043e\u0437\u0434\u0430\u043b \u043a\u043e\u043f\u0438\u044e VI_Common_DecisionControl \u0438 \u0432 \u043d\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u043b \u0435\u0449\u0451 \u043e\u0434\u0438\u043d ComponentInterface DenySelectAllValue(). \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b \u0432 \u043d\u0435\u0433\u043e. \u0412 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u043b \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 DenySelectAllValue(). \u0410\u0434\u0440\u0435\u0441 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 - \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0439 https://rumskapp314.open.ru/IdentityMgr/page.axd?MenuID=ATT_Attestation_MyAttestations&ContextID=ATT_Attestation_MyAttestations \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u0438\u0441\u044c\u043c\u0430 \u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0431\u044b\u043b\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0434\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u043f\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c AttestationCases. \u0415\u0441\u043b\u0438 \u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e \u0432 \u043a\u043e\u043d\u0446\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043f\u0438\u0441\u044c\u043c\u0430, \u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0438\u0441\u0435\u043c, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u043b\u0443\u0447\u0430\u0435\u0432 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0439. \u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0434\u0435\u0442 \u0440\u0430\u043d\u0434\u043e\u043c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 10 \u0441\u0435\u043a, \u0447\u0435\u0440\u0435\u0437 \u0441\u043a\u0440\u0438\u043f\u0442 (\u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0432\u044b\u0434\u0430\u0435\u0442 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438) \u041f\u043e\u0442\u043e\u043c AttCase \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u044b\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c. \u041f\u043e\u0442\u043e\u043c \u0438\u0434\u0435\u0442 \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 - \u0415\u0441\u043b\u0438 \u043e\u0441\u0442\u0430\u043b\u0438\u0441\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0435 AttCases \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e AttRun - \u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f False \u0438 \u043f\u0438\u0441\u044c\u043c\u043e \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 AttCases \u043d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c - \u0438\u0434\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430. \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u043e\u0433\u043e AttCase \u0438 \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0435\u043c \u044d\u0442\u0443 \u0434\u0430\u0442\u0443 \u0441 \u0434\u0430\u0442\u043e\u0439 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e AttCase, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u0434\u0430\u0442\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 - \u0437\u043d\u0430\u0447\u0438\u0442 AttCase \u0441\u0430\u043c\u044b\u0439 \u0441\u0442\u0430\u0440\u044b\u0439 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0438\u0441\u044c\u043c\u043e. \u0421\u043a\u0440\u0438\u043f\u0442 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 (Delay process - Script) Public Sub CCC_Recertification_Delay Dim Random As Integer = CInt(Int((10000 * Rnd()))) Threading.Thread.Sleep(Random) 'MsgBox(Random) End Sub -- Make Positive Decision - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 -- Check exists opened Att Cases via Script Public Function CCC_RecertCheckLastAttCase (ByVal UidAttCase As String, ByVal UidRecertPerson As String, ByVal AttRun As String) As Boolean Dim f As ISqlFormatter = Session.SqlFormatter Dim ClosedAttestationCases As IEntityCollection Dim DateHead As String Dim DatesClosedAtt As New List(Of String) Dim dtHead As String = \"\" Dim LastDateHead As String Dim CountOpenAttCases As Integer = 0 Dim Random As Integer = CInt(Int((10000 * Rnd()))) Threading.Thread.Sleep(Random) Dim qCountOpenAttCases = Query.From(\"AttestationCase\") _ .Where(Function (c) c.Column(\"PropertyInfo2\") = UidRecertPerson And c.Column(\"UID_AttestationRun\") = AttRun And c.Column(\"IsClosed\") = \"False\") _ .SelectCount() CountOpenAttCases = Session.Source.GetCount(qCountOpenAttCases) If CountOpenAttCases > 0 Then Return False End If Dim qClosedAttestationCases = Query.From(\"AttestationCase\") _ .Where(Function (c) c.Column(\"PropertyInfo2\") = UidRecertPerson And c.Column(\"UID_AttestationRun\") = AttRun And c.Column(\"IsClosed\") = \"True\") _ .OrderBy(\"DateHead\") _ .SelectAll() ClosedAttestationCases = Session.Source.GetCollection(qClosedAttestationCases) For Each colElement As IEntity In ClosedAttestationCases DateHead = colElement.GetValue(\"DateHead\").ToString() DatesClosedAtt.Add(DateHead) Next Dim WhereClause As String = f.UidComparison(\"UID_AttestationCase\", UidAttCase) Session.Source().TryGetSingleValue(Of String)(\"AttestationCase\",\"DateHead\",WhereClause,dtHead) LastDateHead = DatesClosedAtt(DatesClosedAtt.Count - 1).ToString() If LastDateHead = dtHead Then Return True Else Return False End If End Function Send mail - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0414\u043b\u044f Delay process - Script, Make Positive decision, Check Exists \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0444\u043b\u0430\u0433 DBQueue does not wait \u041d\u0435 \u043e\u0442\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u0430\u0432\u0430 \u043f\u0440\u0438 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0438 Timeout \u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \"Checks reminder interval and timeout of attestation cases\" \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 (TimeTrace) SELECT COUNT(OperationDate) FROM DialogWatchProperty wprop JOIN DialogWatchOperation wop ON wprop.UID_DialogWatchOperation = wop.UID_DialogWatchOperation JOIN Person pers ON SUBSTRING(wop.ObjectKeyOfRow, 22, 36) = pers.UID_Person WHERE pers.UID_Person = '5544521f-27eb-4993-8679-b27b5428cfb4' AND wprop.UID_DialogColumn = ( SELECT UID_DialogColumn FROM DialogColumn WHERE ColumnName = 'UID_Department' AND UID_DialogTable = 'QER-T-Person' ) AND wop.OperationType = 'U' AND DateDiff(dd, wop.OperationDate, GetUTCDate()) \\< 1 \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u043a\u0438 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0435\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u0432: \u041f\u0440\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0438, \u0447\u0442\u043e \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \\<> \u0442\u0435\u043a\u0443\u0449\u0435\u043c\u0443 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f, \u043a\u043e\u0433\u0434\u0430 \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0435\u0442 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0438 \u043e\u043d \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f - \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442\u0441\u044f, \u043d\u043e \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0435 \u0441\u043e\u0441\u0442\u043e\u0438\u0442\u0441\u044f \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435. \u0422\u043e \u0435\u0441\u0442\u044c, \u0442\u0440\u0438\u0433\u0433\u0435\u0440 \u0441\u043c\u0435\u043d\u044b \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0441\u043c\u0435\u043d\u0443 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f. \u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430, \u0447\u0435\u0440\u0435\u0437 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u0435 \u0415\u0441\u043b\u0438 \u0443\u0432\u043e\u043b\u0438\u043b\u0441\u044f \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0415\u0441\u043b\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0443\u0432\u043e\u043b\u0435\u043d \u0438 \u043f\u043e\u0442\u043e\u043c \u043f\u0440\u0438\u043d\u044f\u0442 \u0432 \u0442\u043e\u0442 \u0436\u0435 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 - \u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043b\u0438 \u044d\u0442\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u043c? \u0423 \u043d\u0435\u0433\u043e \u043f\u0435\u0440\u0435\u0434 \u043f\u0440\u043e\u0448\u043b\u044b\u043c \u0431\u044b\u043b \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 123, \u043f\u043e\u0442\u043e\u043c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0441\u0442\u0430\u043b 0, \u043f\u043e\u0442\u043e\u043c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0441\u043d\u043e\u0432\u0430 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f 123 \u041d\u0430\u0434\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u0442\u0443 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f. \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439, \u043a\u043e\u0433\u0434\u0430 \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043f\u043e\u043c\u0435\u043d\u044f\u043b\u0441\u044f \u043d\u043e\u0432\u044b\u0439 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u043d\u0430 null?","title":"4. Attestation (Recertification)"},{"location":"4.%20Attestation%20%28Recertification%29/#_1","text":"","title":""},{"location":"4.%20Attestation%20%28Recertification%29/#riskindex","text":"QER\\CalculateRiskIndex","title":"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f RiskIndex"},{"location":"4.%20Attestation%20%28Recertification%29/#_2","text":"Attestation type s \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0442 \u0432 \u0441\u0435\u0431\u044f Attestation procedures. \u041f\u0440\u043e\u0441\u0442\u043e \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u0443\u044f \u0438\u0445. Attestation procedures \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0442 \u0431\u0430\u0437\u043e\u0432\u044b\u0439 \u043e\u0431\u044a\u0435\u043a\u0442 \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 - \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 Business role (\u043e\u0431\u044a\u0435\u043a\u0442 PersonInOrg). \u0412 \u043d\u0438\u0445 \u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 - \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u044b\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0438 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0438. \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 Related object \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043d\u0430 \u0441\u0432\u044f\u0445\u044c \u0441 \u0434\u0440\u0443\u0433\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435\u0439, \u0447\u0435\u0440\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 XObjectKey (\\$FK(UID_ADSAccount).XObjectKey\\$), \u043f\u043e\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043c\u044b \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0432 Grouping column 1 \u0438 \u0442.\u043f. Compliance frameworks \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 attestation policies, compliance rules, and company policies \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f\u043c\u0438. Attestation policies \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438. \u0412 \u043d\u0438\u0445 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f Attestation procedure , \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435. \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where \u0434\u043b\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u0432 Attestation procedure. \u0415\u0441\u043b\u0438 \u043c\u044b \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u0437\u0430\u0434\u0430\u0435\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u043e\u0442\u0431\u043e\u0440\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 - \u0442\u043e \u044d\u0442\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0432 Where Attestation policy! \u0412 Attestation policy \u0437\u0430\u0434\u0430\u0435\u0442\u0441\u044f Apprval Policy , \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432 \u0441\u0435\u0431\u044f Approval Workflow \u0441 \u0448\u0430\u0433\u0430\u043c\u0438 \u0434\u043b\u044f \u043f\u0440\u043e\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438. Additional approver possible Specifies whether a current attestor is allowed to instruct another employee as an attestor. This additional attestor has parallel authorization to make approvals for the current attestation case. The attestation case is not passed on to the next approval level until both attestors have made a decision. This option can only be set for approval levels with a single, manual approval step. Approval can be delegated Specifies whether a current attestor can delegate the attestation to another person. This employee is added to the current approval step as the attestor. This employee then makes the approval decision instead of the attestor who made the delegation. This option can only be set for approval levels with a single, manual approval step. Approval by affected employee Specifies whether the employee who is affected by the approval decision can also approve it. If this option is set, employees to be attested can attest themselves. If this option is not set, use the QER | Attestation | PersonToAttestNoDecide configuration parameter to define whether the employees to be attested can attest themselves. Do not show in approval history Specifies whether or not the approval step should be displayed in the attestation history. For example, this behavior can be applied to approval steps with the CD - calculated approval procedure, which are used only for branching in the approval workflow. It It makes it easier to follow the attestation history. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.2/attestation-administration-guide/18 > \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u043c\u043e\u0433 \u0441\u0430\u043c \u0441\u0435\u0431\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u0442\u044c, \u043d\u0430\u0434\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Approval by affected employee.","title":"\u0421\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438"},{"location":"4.%20Attestation%20%28Recertification%29/#recertifying-existing-users","text":"IMPORTANT: Access to connected target systems may possibly be denied to One Identity Manager users as a result of recertification. You can configure this behavior to meet your company\u2019s requirements. Read the following section thoroughly before you use the recertification function. One Identity Manager provides an attestation policy for performing cyclical attestation of existing users allowing companies to regularly test and authorize employee master data stored in the One Identity Manager database. Cyclical attestation is triggered through a scheduled task. This resets the certification status for all employees stored in the database. One Identity Manager uses the same procedure for this as for attesting new users. The case is referred to as recertification. Result of recertification Certified, activated employees who can access all entitlements assigned to them in One Identity Manager and the connected target systems. Company resources are inherited. Account definitions are assigned to internal employees. OR - Denied and permanently deactivated employees. Disable employees cannot log in to One Identity Manager tools. Company resources are not inherited. Account definitions are not automatically assigned. User accounts associated with the employee are also locked or deleted. You can customize the behavior to meet your requirements. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.2/attestation-administration-guide/38#TOPIC-1363650 > \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u044f\u0432\u043b\u044f\u0442\u044c \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c (\u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u0441 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c \u0440\u0438\u0441\u043a\u0430, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440) \u043d\u0430\u0434\u043e \u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0432 Attestation policy!","title":"Recertifying existing users"},{"location":"4.%20Attestation%20%28Recertification%29/#-","text":"\u0412 QER\\Attestation\\AutoRemovalScope \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0431\u043b\u0430\u0441\u0442\u0438, \u043e\u0442\u043a\u0443\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c\u0441\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0412 Workflow \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438 \u043d\u0430\u0434\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0448\u0430\u0433 EX \u0441 \u0441\u043e\u0431\u044b\u0442\u0438\u0435\u043c AUTOREMOVE Identity Manager 8.1 - Attestation Administration Guide (oneidentity.com)","title":"\u041d\u0435 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0430\u0432\u0442\u043e\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u0437 \u0431\u0438\u0437\u043d\u0435\u0441-\u0440\u043e\u043b\u0435\u0439 \u0438 \u0433\u0440\u0443\u043f\u043f \u043f\u0440\u0438 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0438\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 (\u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438)"},{"location":"4.%20Attestation%20%28Recertification%29/#_3","text":"","title":""},{"location":"4.%20Attestation%20%28Recertification%29/#personinorg-","text":"(EXISTS (select top 1 1 FROM (SELECT UID_Org FROM Org WHERE UID_Org IN (' 8f42bafa-2350-4dac-81ac-c7aa117b269f','8e98371f-4d04-4f02-8266-00e1a4ae023f','19590942-9839-480f-8760-18a9aefc5c2b' )) x WHERE x.UID_Org = PersonInOrg.UID_Org))AND(EXISTS (select top 1 1 FROM (SELECT UID_Person FROM Person WHERE RiskIndexCalculated >= 0 and RiskIndexCalculated \\<= 0.1 ) p WHERE p.UID_Person = PersonInOrg.UID_Person))","title":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u0431\u043e\u0440\u0430 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0434\u043b\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 PersonInOrg \u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0411\u0438\u0437\u043d\u0435\u0441-\u0440\u043e\u043b\u0438 \u0438 \u0435\u0433\u043e \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0440\u0438\u0441\u043a\u0430"},{"location":"4.%20Attestation%20%28Recertification%29/#qerattestationautoremovalscoperolemembershipremovedynamicrole","text":"\u0412 \u0432\u0435\u0440\u0441\u0438\u0438 8.2 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c, \u0442\u0430\u043a \u043a\u0430\u043a \u0442\u0430\u043c \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u0435\u043b\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u0435\u0439.","title":"\u041d\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438\u0437 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u0435\u0439 \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0435 QER\\Attestation\\AutoRemovalScope\\RoleMembership\\RemoveDynamicRole"},{"location":"4.%20Attestation%20%28Recertification%29/#5","text":"\u0415\u0441\u0442\u044c 2 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 - \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e (\u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0441 \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c \u0440\u0438\u0441\u043a\u0430 \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0438 \u043f\u043b\u0430\u043d\u043e\u0432\u043e\u0435 (3 \u0433\u043e\u0434\u0430) \u0434\u043b\u044f \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0441 \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c \u0440\u0438\u0441\u043a\u0430) \u041f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u0435\u0433\u043e CustomProperty08 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u043e\u043a\u0430 NeedRecert (\u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 - \u0438\u043d\u0434\u0435\u043a\u0441 \u0440\u0438\u0441\u043a\u0430 > \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0438 \u043e\u0442\u043b\u0438\u0447\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u043e\u0442 \u043f\u0440\u043e\u0448\u043b\u043e\u0433\u043e). \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 AttestationCase \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f CustomProperty08 \u043d\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 NeedRecert \u0438 \u0435\u0441\u043b\u0438 \u043e\u043d\u043e \u0442\u0430\u043c \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043e - \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f AttestationCase. \u0412 PropertyInfo3 AttestationCase \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f UID_Person, \u0447\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432 \u0435\u0433\u043e \u0432 \u0448\u0430\u0433\u0435 \u0437\u0430\u0447\u0438\u0441\u0442\u043a\u0438 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0412 Workflow \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u043c \u0448\u0430\u0433\u0435 \u0437\u0430\u0442\u0438\u0440\u0430\u0435\u0442\u0441\u044f CustomProperty08 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430, \u0447\u0442\u043e\u0431\u044b \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f \u043d\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430 \u0441\u043d\u043e\u0432\u0430 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0434\u0435\u043d\u044c.","title":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u04255 (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435)"},{"location":"4.%20Attestation%20%28Recertification%29/#5_1","text":"\u0422\u0430\u043a \u043a\u0430\u043a \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0441 \u0432\u044b\u0441\u043e\u043a\u0438\u043c \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c \u0440\u0438\u0441\u043a\u0430 \u043d\u0443\u0436\u043d\u043e \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u043c \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u043c, \u0442\u043e \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f UID \u043f\u0440\u043e\u0448\u043b\u043e\u0433\u043e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 CustomProperty09. \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 AttestationCase \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f CustomProperty09 \u043d\u0430 \u043d\u0435 \u043f\u0443\u0441\u0442\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0438 \u0435\u0441\u043b\u0438 \u043e\u043d\u043e \u0442\u0430\u043c \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043e - \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f AttestationCase. \u0412 AttestationCase CustomProperty09 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442\u0441\u044f \u0432 Property4 template \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432 Workflow \u0432 \u0448\u0430\u0433\u0435 \u0432\u044b\u044f\u0441\u043d\u0435\u043d\u0438\u044f \u0431\u044b\u043b \u043b\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043d\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043b\u044f (NOT isnull(PropertyInfo4, N'') = N'') \u0438 \u043f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044e. \u0412 PropertyInfo3 AttestationCase \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f UID_Person, \u0447\u0442\u043e\u0431\u044b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0432 \u0435\u0433\u043e \u0432 \u0448\u0430\u0433\u0435 \u0437\u0430\u0447\u0438\u0441\u0442\u043a\u0438 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0412 Workflow \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u043c \u0448\u0430\u0433\u0435 \u0437\u0430\u0442\u0438\u0440\u0430\u0435\u0442\u0441\u044f CustomProperty09 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430, \u0447\u0442\u043e\u0431\u044b \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f \u043d\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430 \u0441\u043d\u043e\u0432\u0430 \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0434\u0435\u043d\u044c. \u0421\u043e\u0431\u044b\u0442\u0438\u0435 Autoremove \u0434\u043b\u044f AttestationCase - \u0447\u0442\u043e\u0431\u044b \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e \u0432 \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044f\u0445!","title":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u04255 (\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430)"},{"location":"4.%20Attestation%20%28Recertification%29/#attestation-by-mail","text":"From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.1/attestation-administration-guide/34#TOPIC-1245537 >","title":"Attestation by mail"},{"location":"4.%20Attestation%20%28Recertification%29/#_4","text":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432 QER\\Attestation\\MailApproval \u041d\u0430\u0434\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c QER\\Attestation\\MailTemplateIdents\\RequestApproverByCollection \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u043b\u043e \u043e\u0434\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e, \u0430 \u043d\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0417\u0430\u043f\u0443\u0441\u043a \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044f Inform approver about pending attestations \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0438\u0441\u0435\u043c","title":"\u0418\u043d\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u043e\u0432\u0430\u0442\u044c"},{"location":"4.%20Attestation%20%28Recertification%29/#attestation-cases","text":"\u0412\u044b\u0432\u043e\u0434\u044f\u0442\u0441\u044f PersonInOrg (\u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 \u0432 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044f\u0445), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 3,6,9 \u2026 \u043b\u0435\u0442 \u0434\u043b\u044f \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 select centralaccount, EntryDate, DateDiff(yy, EntryDate, GetUTCDate()) as DateDif from Person where DateDiff(dd, EntryDate, GetUTCDate()) % 1095 = 0 and DateDiff(yyyy, EntryDate, GetUTCDate()) \\<> 0 \u0423\u0441\u043b\u043e\u0432\u0438\u0435 WHERE \u0434\u043b\u044f Attestation Policy (EXISTS (select top 1 1 FROM (SELECT UID_Person FROM Person WHERE RiskIndexCalculated >= 0.5 and RiskIndexCalculated \\<= 1 and DateDiff(dd, EntryDate, GetUTCDate()) % 1095 = 0 and DateDiff(yyyy, EntryDate, GetUTCDate()) \\<> 0 and isInActive = '0') p WHERE p.UID_Person = PersonInOrg.UID_Person)) \u041f\u043e \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044e - \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u043d\u044c. \u0412\u044b\u0432\u043e\u0434 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u0430 UNSAccount \u0432 UNSGroup (ADSAcoountInADSGroup, UNSAccountBInUNSGroupB \u2026) \u0423\u0441\u043b\u043e\u0432\u0438\u0435 WHERE \u0434\u043b\u044f Attestation Policy ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE RiskIndexCalculated >= 0.5 AND RiskIndexCalculated \\<= 1 ) ) ) \u0414\u043e\u043f (\u0441 \u0443\u0447\u0435\u0442\u043e\u043c \u0442\u0435\u0445, \u043a\u0442\u043e \u0443\u0441\u0442\u0440\u043e\u0438\u043b\u0441\u044f 3,6,9 \u2026 \u043b\u0435\u0442 \u043e\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0434\u0430\u0442\u044b) ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE RiskIndexCalculated >= 0.5 AND RiskIndexCalculated \\<= 1 AND DateDiff(dd, EntryDate, GetUTCDate()) % 1097 = 0 AND DateDiff(yyyy, EntryDate, GetUTCDate()) \\<> 0 AND isInActive = '0' ) ) ) \u0421 \u0443\u0447\u0435\u0442\u043e\u043c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0439 ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE ( RiskIndexCalculated >= 0.2 AND RiskIndexCalculated \\<= 0.69 AND DateDiff(dd, EntryDate, GetUTCDate()) % 1097 = 0 AND DateDiff(yyyy, EntryDate, GetUTCDate()) \\<> 0 AND isInActive = '0' ) OR ( RiskIndexCalculated >= 0.7 AND isInActive = '0' ) ) AND UID_UNSAccount NOT IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE CCC_msExchExtAttr27 = 'CEO -1' OR CCC_msExchExtAttr27 = 'CEO -2' OR SAMAccountName = 'User040-3' OR Department LIKE N'\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442' ) ) ) \u0421 \u0443\u0447\u0435\u0442\u043e\u043c \u043d\u043e\u0432\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432 \u0438 \u043a\u043e\u043b-\u0432\u043e \u0434\u043d\u0435\u0439 (100) \u043e\u0442 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE ( --DefaultEmailAddress is not null isInActive = '0' ) OR ( RiskIndexCalculated >= 0.7 AND isInActive = '0' ) ) AND UID_UNSAccount NOT IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE CCC_msExchExtAttr27 = 'CEO -1' OR CCC_msExchExtAttr27 = 'CEO -2' OR SAMAccountName = 'User040-3' OR Department LIKE N'\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442' OR Mail is null ) AND UID_UNSAccount IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE UID_DPRNameSpace = 'ADS-DPRNameSpace-ADS' ) ) ) AND( not EXISTS ( SELECT top 1 1 FROM AttestationCase WHERE ObjectKeyBase = UNSAccountInUNSGroup.XObjectKey AND UID_AttestationRun IN ( SELECT UID_AttestationRun FROM AttestationRun WHERE UID_AttestationPolicy = '\\$UID_AttestationPolicy\\$' AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\< 100 --AND DateDiff(dd, PolicyProcessed, GetUTCDate()) % 1097 = 0 -- AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<> 0 ) ) ) \u0421 \u0443\u0447\u0435\u0442\u043e\u043c \u043d\u043e\u0432\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u0441\u0442\u0430\u0440\u0448\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0433\u043e\u0434\u0430 ( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person WHERE ( --DefaultEmailAddress is not null isInActive = '0' ) OR ( RiskIndexCalculated >= 0.7 AND isInActive = '0' ) ) AND UID_UNSAccount NOT IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE CCC_msExchExtAttr27 = 'CEO -1' OR CCC_msExchExtAttr27 = 'CEO -2' OR SAMAccountName = 'User040-3' OR Department LIKE N'\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442' OR Mail is null ) ) ) AND( Not EXISTS ( SELECT top 1 1 FROM AttestationCase WHERE ObjectKeyBase = UNSAccountInUNSGroup.XObjectKey AND UID_AttestationRun IN ( SELECT UID_AttestationRun FROM AttestationRun WHERE UID_AttestationPolicy = '\\$UID_AttestationPolicy\\$' AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<= 1097 --AND DateDiff(dd, PolicyProcessed, GetUTCDate()) % 1097 = 0 -- AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<> 0 ) ) ) AND( DateDiff(yy, XDateInserted, GetUTCDate()) > 1 )","title":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u0431\u043e\u0440\u0430 Attestation cases \u043f\u043e \u0434\u0430\u0442\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430"},{"location":"4.%20Attestation%20%28Recertification%29/#_5","text":"( UID_UNSAccount IN ( SELECT UID_UNSAccount FROM UNSAccount WHERE UID_Person IN ( SELECT UID_Person FROM Person p WHERE UID_Department NOT IN ( SELECT UID_Department FROM Department WHERE DepartmentName = N'Supply Chain' -- \u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442 ) AND ( --DefaultEmailAddress is not null isInActive = '0' AND p.CentralAccount = 'User040' ) OR ( RiskIndexCalculated >= 0.7 AND isInActive = '0' ) ) AND UID_UNSAccount NOT IN ( SELECT UID_ADSAccount FROM ADSAccount WHERE CCC_msExchExtAttr27 = 'CEO -1' OR CCC_msExchExtAttr27 = 'CEO -2' OR SAMAccountName = 'User040-3' OR Department LIKE N'\u041d\u0430\u0431\u043b\u044e\u0434\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442' -- OR Mail IS NULL ) ) ) AND( NOT EXISTS ( SELECT top 1 1 FROM AttestationCase WHERE ObjectKeyBase = UNSAccountInUNSGroup.XObjectKey AND UID_AttestationRun IN ( SELECT UID_AttestationRun FROM AttestationRun WHERE UID_AttestationPolicy = '\\$UID_AttestationPolicy\\$' AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<= 2 --AND DateDiff(dd, PolicyProcessed, GetUTCDate()) % 1097 = 0 -- AND DateDiff(dd, PolicyProcessed, GetUTCDate()) \\<> 0 ) ) ) --AND(DateDiff(yy, XDateInserted, GetUTCDate()) > 1)","title":"\u0420\u0430\u0431\u043e\u0447\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f?"},{"location":"4.%20Attestation%20%28Recertification%29/#riskindex_1","text":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 Display columns of table \"Attestation case\" \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_Attestation_EditCases_Default \u0443\u0431\u0440\u0430\u0442\u044c RiskIndex \u0412 \u043c\u043e\u0434\u0443\u043b\u0435 VI_Attestation \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u043a \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 RiskIndex \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_Attestation_AttestationCase_ViewMultiplyPolicy","title":"\u0423\u0431\u0440\u0430\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 RiskIndex \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u043f\u0440\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438"},{"location":"4.%20Attestation%20%28Recertification%29/#product","text":"\u0412 Manager \u0437\u0430\u0439\u0442\u0438 \u0432 Attestation, Attestation Procedures \u0438 \u0432 \u043d\u0443\u0436\u043d\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0435 Grouping Column (template) =\\$FK(UID_UNSGroup).FK(UID_AccProduct).Ident_AccProduct\\$ Grouping Column = Product \u0412 WebDesigner \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u043f\u0438\u044e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 VI_Attestation_AttestationCase_ViewMultiplyPolicy \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e","title":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 Product \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432 \u043a\u0435\u0439\u0441\u0430\u0445 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438"},{"location":"4.%20Attestation%20%28Recertification%29/#_6","text":"VI_Attestation \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 Column22 - RiskIndex \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 ContainerColumnTemplate2 \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 Form2 - \u0432\u043c\u0435\u0441\u0442\u043e \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0442\u0438\u043f\u044b \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438","title":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043c\u043e\u0434\u0443\u043b\u044f\u0445 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438"},{"location":"4.%20Attestation%20%28Recertification%29/#_7","text":"CCC_Attestation_AttestationCaseViewMultiplePolicy \u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043a\u0430 RiskIndex (Column1) \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f DenySelectAllValue() \u0432 ComponentInterface1 \u0412 VI_Common_DecisionControl - DenySelectAll() = DenySelectAllValue() (\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 CCC_Attestation_AttestationCase) CCC_Attestation_AttestationCase \u0423\u0434\u0430\u043b\u0435\u043d Case1, Case2 Case2 \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d \u0432 Case4 \u0412 Case4 \u0443\u0434\u0430\u043b\u0435\u043d Tab Page (Iteration) - AttestationPolicy","title":""},{"location":"4.%20Attestation%20%28Recertification%29/#_8","text":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d Tab Page (Iteration) - ProductCategory","title":""},{"location":"4.%20Attestation%20%28Recertification%29/#_9","text":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 ProductCategory (\u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 AccProductGroup) \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442","title":""},{"location":"4.%20Attestation%20%28Recertification%29/#_10","text":"","title":""},{"location":"4.%20Attestation%20%28Recertification%29/#_11","text":"","title":""},{"location":"4.%20Attestation%20%28Recertification%29/#workflow-ad","text":"\u0412 Manager \u0437\u0430\u0439\u0442\u0438 \u0432 Attestation, Attestation Procedures \u0438 \u0432 \u043d\u0443\u0436\u043d\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0435 Property3 (template) = \\$FK(UID_UNSAccount).FK(UID_UNSContainer).cn\\$ Property3 = CN ADS_Container Property4 (template) = \\$FK(UID_UNSAccount).FK(UID_Person).CustomProperty09\\$ Property4 = Previous Manager","title":"Workflow \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f - \u0443\u0447\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 AD \u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430"},{"location":"4.%20Attestation%20%28Recertification%29/#_12","text":"Pending attestation Page shows two options. How to get rid of it? - Forum - Identity Manager Community - One Identity Community","title":"\u0412\u0438\u0434 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"4.%20Attestation%20%28Recertification%29/#approval-policy-attestation-policy","text":"\u041d\u0443\u0436\u043d\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0443 Approval Policy \u0443\u043a\u0430\u0437\u0430\u0442\u044c Approval Workflow \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 Approval Policy, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0417\u0430\u0442\u0435\u043c, \u0432 Attestation Procedures \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c (Assign Approval Policy) \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u0443\u044e Approval Policy (\u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f) \u041e\u0431\u0440\u0430\u0442\u043d\u043e \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 Approval Workflow \u0434\u043b\u044f \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0439 Approval Policy. But you can create a custom approval procedure and copy the query from the approval procedure \"OR\" to your custom approval procedure and assign the necessary tables. Than use your custom approval procedure in your workflow. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/5040/unable-to-view-the-custom-approval-policy-created-for-attestation-at-attestation-procedure-level >","title":"\u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u0443\u044e Approval Policy \u0434\u043b\u044f Attestation Policy"},{"location":"4.%20Attestation%20%28Recertification%29/#-approval-procedure","text":"select pers.CustomProperty09 as UID_Person ,dbo.QER_FGIPWORulerOrigin(p.XObjectKey) as UID_PWORulerOrigin from AttestationCase ac join ADSAccountInADSGroup p on ac.ObjectKeyBase = p.XObjectKey join ADSAccount adsa on p.UID_ADSAccount = adsa.UID_ADSAccount join Person pers on adsa.UID_Person = pers.UID_Person where ac.UID_AttestationCase = @UID_AttestationCase !\u041d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 TimeTrace SELECT top 1 wprop.ContentShort AS UID_Person, dbo.QER_FGIPWORulerOrigin(p.XObjectKey) AS UID_PWORulerOrigin FROM attestationCase ac JOIN UNSAccountInUNSGroup p ON ac.ObjectKeyBase = p.XObjectKey JOIN Person pers ON pers.UID_Person = ac.PropertyInfo2 JOIN DialogWatchOperation wop ON SUBSTRING(wop.ObjectKeyOfRow, 22, 36) = pers.UID_Person JOIN DialogWatchProperty wprop ON wprop.UID_DialogWatchOperation = wop.UID_DialogWatchOperation WHERE ac.UID_AttestationCase = @UID_AttestationCase AND wprop.UID_DialogColumn = 'QER-76BFB981AA5F4D69BE4E9014D1605E56' AND wop.OperationType = 'U' ORDER BY wop.OperationDate DESC // .UID_DialogColumn = 'QER-76BFB981AA5F4D69BE4E9014D1605E56' - \u044d\u0442\u043e \u043f\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044e \u043a\u043e\u043b\u043e\u043d\u043a\u0438 UID_PersonHead (\u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c) OperationType = 'U' - \u044d\u0442\u043e Update SUBSTRING(wop.ObjectKeyOfRow, 22, 36) - \u043e\u0442\u043a\u0443\u0441\u0438\u0442\u044c UID_Person wop.OperationDate DESC - \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0432\u0435\u0436\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 - \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c ----","title":"\u0420\u0430\u0441\u0447\u0435\u0442 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f - Approval procedure"},{"location":"4.%20Attestation%20%28Recertification%29/#attestationcase","text":"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u0432\u044b\u0437\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439. \u041c\u043e\u0436\u043d\u043e \u0438\u0437 Workflow \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0434\u0445\u0432\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u043c \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 AttestationCase, \u043a\u0430\u043a \u0432\u0430\u0440\u0438\u0430\u043d\u0442.","title":"\u041d\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 AttestationCase"},{"location":"4.%20Attestation%20%28Recertification%29/#_13","text":"CCC_Attestation Form4 - \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 Form5 - \u0434\u043b\u044f \u043e\u0442\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 AttestationCases","title":"\u0424\u043e\u0440\u043c\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"4.%20Attestation%20%28Recertification%29/#attestationcases","text":"I would create a script that creates the attestation cases for your attestation policy. The script can use a method available at enabled AttestationPolicy objects that allow you to specify the object keys you want to attest. You can check the available methods in the object properties windows, tab called Methods. The method for your case would be CreateAttestations(String[] objectKeys) which takes an string array of object keys you want to attest using the current attestation policy. It returns an array of DBObjectKey objects. So you just need to call the script using the SOAP / REST API. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/26271/trigger-attestation-for-selected-objects-using-soap-service-call > \u0418\u043b\u0438 \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 Public Function CCC_AttestationPolicy_CreateForSingleObject(ByVal uidAttestationPolicy As String, ByVal objectkey As String) As String Try Dim policy As ISingleDbObject = Connection.CreateSingle(\"AttestationPolicy\", uidAttestationPolicy) Dim objectKeyAttestationCase As String = policy.Custom.CallMethod(\"CreateAttestation\", objectkey).ToString Return objectKeyAttestationCase Catch ex As Exception Return String.Empty End Try End Function Here uidAttestationPolicy is the policy you want to trigger and objectkey is pointing to the record you want policy to be triggered against. Hope it helps. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/26271/trigger-attestation-for-selected-objects-using-soap-service-call >","title":"\u0417\u0430\u043f\u0443\u0441\u043a AttestationCases"},{"location":"4.%20Attestation%20%28Recertification%29/#createattestations","text":"Public Function CCC_AttestationPolicy_CreateForSingleObject(ByVal uidAttestationPolicy As String, ByVal objectkey As String) As String Dim dbAttestationPolicy As IEntity Dim arrObjectkey() As String = {objectkey} dbAttestationPolicy = Session.Source.Get(\"AttestationPolicy\", uidAttestationPolicy) dbAttestationPolicy.CallMethod(\"CreateAttestations\", arrObjectkey) dbAttestationPolicy.Save(Session) Return \"OK\" End Function","title":"\u0412\u044b\u0437\u043e\u0432 \u043c\u0435\u0442\u043e\u0434\u0430 CreateAttestations \u0438\u0437 \u0441\u043a\u0440\u0438\u043f\u0442\u0430"},{"location":"4.%20Attestation%20%28Recertification%29/#_14","text":"Error executing script 'VI_AttestationCase_GetRemoveMembershipActions'. Could not create single object for table ADSAccountInADSGroup. Object of type \u0423\u0447\u0435\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 Active Directory: \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f does not exist in database or you do not have the relevant viewing permissions. (2022-06-17 16:34:08) \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441\u0432\u044f\u0437\u0430\u043d\u0430 \u0441 \u0442\u0435\u043c, \u0447\u0442\u043e \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f (Workflow) \u0435\u0441\u0442\u044c \u0448\u0430\u0433 \u0441 \u0432\u044b\u0437\u043e\u0432\u043e\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u044f AUTOREMOVE. \u041d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u043f\u0440\u0438 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 \u044d\u0442\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0441\u0432\u0435\u0442\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u043c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0438\u0437 \u0433\u0440\u0443\u043f\u043f. \u042d\u0442\u043e\u0442 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u0430\u0435\u0442 \u0441\u0431\u043e\u0439. \u042d\u0442\u043e \u0431\u0430\u0433, \u0435\u0441\u0442\u044c \u043b\u0435\u0447\u0435\u043d\u0438\u0435 - Error executing AutoRemove Actions with script VI_AttestationCase_GetRemoveMembershipActions (299351) (oneidentity.com) \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u043e\u0431\u043e\u0439\u0442\u0438, \u0435\u0441\u043b\u0438 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0432\u044b\u0437\u043e\u0432 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0433\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044f \u0438 \u043f\u043e \u043d\u0435\u043c\u0443 \u0437\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441 \u043a\u043e\u043f\u0438\u0435\u0439 \u0448\u0430\u0433\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0434\u0430\u043b\u044f\u0435\u0442 \u0447\u043b\u0435\u043d\u0441\u0442\u0432\u043e (\u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b AttestationCase).","title":"\u041f\u0440\u0438 \u043e\u0442\u043a\u0430\u0437\u0435 \u043e\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043e\u0431\u044b\u0447\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u043f\u0440\u0438 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"4.%20Attestation%20%28Recertification%29/#approveall-denyall","text":"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 DenySelectAll() \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 VI_Common_DecisionControl \u042f \u0441\u043e\u0437\u0434\u0430\u043b \u043a\u043e\u043f\u0438\u044e VI_Common_DecisionControl \u0438 \u0432 \u043d\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u043b \u0435\u0449\u0451 \u043e\u0434\u0438\u043d ComponentInterface DenySelectAllValue(). \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b \u0432 \u043d\u0435\u0433\u043e. \u0412 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u043b \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 DenySelectAllValue().","title":"\u041d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u043a\u043d\u043e\u043f\u043a\u0438 \u0423\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0432\u0441\u0435, \u041e\u0442\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 (ApproveAll, DenyAll)"},{"location":"4.%20Attestation%20%28Recertification%29/#-_1","text":"https://rumskapp314.open.ru/IdentityMgr/page.axd?MenuID=ATT_Attestation_MyAttestations&ContextID=ATT_Attestation_MyAttestations","title":"\u0410\u0434\u0440\u0435\u0441 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 - \u0441\u043f\u0438\u0441\u043e\u043a \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0439"},{"location":"4.%20Attestation%20%28Recertification%29/#_15","text":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0431\u044b\u043b\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0434\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u043f\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c AttestationCases. \u0415\u0441\u043b\u0438 \u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u0442\u043e \u0432 \u043a\u043e\u043d\u0446\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443 \u043f\u0438\u0441\u044c\u043c\u0430, \u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0438\u0441\u0435\u043c, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u043b\u0443\u0447\u0430\u0435\u0432 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0439. \u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0434\u0435\u0442 \u0440\u0430\u043d\u0434\u043e\u043c\u043d\u0430\u044f \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0430 \u0432 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u0445 10 \u0441\u0435\u043a, \u0447\u0435\u0440\u0435\u0437 \u0441\u043a\u0440\u0438\u043f\u0442 (\u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0432\u044b\u0434\u0430\u0435\u0442 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438) \u041f\u043e\u0442\u043e\u043c AttCase \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441 \u043f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u044b\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c. \u041f\u043e\u0442\u043e\u043c \u0438\u0434\u0435\u0442 \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 - \u0415\u0441\u043b\u0438 \u043e\u0441\u0442\u0430\u043b\u0438\u0441\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0435 AttCases \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e AttRun - \u0442\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f False \u0438 \u043f\u0438\u0441\u044c\u043c\u043e \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u043e\u0442\u043a\u0440\u044b\u0442\u044b\u0445 AttCases \u043d\u0435 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c - \u0438\u0434\u0435\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430. \u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0434\u0430\u0442\u0443 \u0438 \u0432\u0440\u0435\u043c\u044f \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u043e\u0433\u043e AttCase \u0438 \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0435\u043c \u044d\u0442\u0443 \u0434\u0430\u0442\u0443 \u0441 \u0434\u0430\u0442\u043e\u0439 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e AttCase, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f. \u0415\u0441\u043b\u0438 \u0434\u0430\u0442\u044b \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 - \u0437\u043d\u0430\u0447\u0438\u0442 AttCase \u0441\u0430\u043c\u044b\u0439 \u0441\u0442\u0430\u0440\u044b\u0439 \u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0438\u0441\u044c\u043c\u043e. \u0421\u043a\u0440\u0438\u043f\u0442 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 (Delay process - Script) Public Sub CCC_Recertification_Delay Dim Random As Integer = CInt(Int((10000 * Rnd()))) Threading.Thread.Sleep(Random) 'MsgBox(Random) End Sub -- Make Positive Decision - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 -- Check exists opened Att Cases via Script Public Function CCC_RecertCheckLastAttCase (ByVal UidAttCase As String, ByVal UidRecertPerson As String, ByVal AttRun As String) As Boolean Dim f As ISqlFormatter = Session.SqlFormatter Dim ClosedAttestationCases As IEntityCollection Dim DateHead As String Dim DatesClosedAtt As New List(Of String) Dim dtHead As String = \"\" Dim LastDateHead As String Dim CountOpenAttCases As Integer = 0 Dim Random As Integer = CInt(Int((10000 * Rnd()))) Threading.Thread.Sleep(Random) Dim qCountOpenAttCases = Query.From(\"AttestationCase\") _ .Where(Function (c) c.Column(\"PropertyInfo2\") = UidRecertPerson And c.Column(\"UID_AttestationRun\") = AttRun And c.Column(\"IsClosed\") = \"False\") _ .SelectCount() CountOpenAttCases = Session.Source.GetCount(qCountOpenAttCases) If CountOpenAttCases > 0 Then Return False End If Dim qClosedAttestationCases = Query.From(\"AttestationCase\") _ .Where(Function (c) c.Column(\"PropertyInfo2\") = UidRecertPerson And c.Column(\"UID_AttestationRun\") = AttRun And c.Column(\"IsClosed\") = \"True\") _ .OrderBy(\"DateHead\") _ .SelectAll() ClosedAttestationCases = Session.Source.GetCollection(qClosedAttestationCases) For Each colElement As IEntity In ClosedAttestationCases DateHead = colElement.GetValue(\"DateHead\").ToString() DatesClosedAtt.Add(DateHead) Next Dim WhereClause As String = f.UidComparison(\"UID_AttestationCase\", UidAttCase) Session.Source().TryGetSingleValue(Of String)(\"AttestationCase\",\"DateHead\",WhereClause,dtHead) LastDateHead = DatesClosedAtt(DatesClosedAtt.Count - 1).ToString() If LastDateHead = dtHead Then Return True Else Return False End If End Function Send mail - \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u0414\u043b\u044f Delay process - Script, Make Positive decision, Check Exists \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0444\u043b\u0430\u0433 DBQueue does not wait","title":"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u043f\u0438\u0441\u044c\u043c\u0430 \u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"},{"location":"4.%20Attestation%20%28Recertification%29/#timeout","text":"\u0414\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \"Checks reminder interval and timeout of attestation cases\"","title":"\u041d\u0435 \u043e\u0442\u0437\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u0430\u0432\u0430 \u043f\u0440\u0438 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0438 Timeout"},{"location":"4.%20Attestation%20%28Recertification%29/#timetrace","text":"SELECT COUNT(OperationDate) FROM DialogWatchProperty wprop JOIN DialogWatchOperation wop ON wprop.UID_DialogWatchOperation = wop.UID_DialogWatchOperation JOIN Person pers ON SUBSTRING(wop.ObjectKeyOfRow, 22, 36) = pers.UID_Person WHERE pers.UID_Person = '5544521f-27eb-4993-8679-b27b5428cfb4' AND wprop.UID_DialogColumn = ( SELECT UID_DialogColumn FROM DialogColumn WHERE ColumnName = 'UID_Department' AND UID_DialogTable = 'QER-T-Person' ) AND wop.OperationType = 'U' AND DateDiff(dd, wop.OperationDate, GetUTCDate()) \\< 1","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 (TimeTrace)"},{"location":"4.%20Attestation%20%28Recertification%29/#_16","text":"\u041f\u0440\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0438, \u0447\u0442\u043e \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \\<> \u0442\u0435\u043a\u0443\u0449\u0435\u043c\u0443 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f, \u043a\u043e\u0433\u0434\u0430 \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0435\u0442 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0438 \u043e\u043d \u043f\u043e\u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f - \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u0435\u0442\u0441\u044f, \u043d\u043e \u0444\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0435 \u0441\u043e\u0441\u0442\u043e\u0438\u0442\u0441\u044f \u0432 \u0434\u0440\u0443\u0433\u043e\u0435 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435. \u0422\u043e \u0435\u0441\u0442\u044c, \u0442\u0440\u0438\u0433\u0433\u0435\u0440 \u0441\u043c\u0435\u043d\u044b \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u043d\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0441\u043c\u0435\u043d\u0443 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f. \u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430, \u0447\u0435\u0440\u0435\u0437 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u0435 \u0415\u0441\u043b\u0438 \u0443\u0432\u043e\u043b\u0438\u043b\u0441\u044f \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0415\u0441\u043b\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0443\u0432\u043e\u043b\u0435\u043d \u0438 \u043f\u043e\u0442\u043e\u043c \u043f\u0440\u0438\u043d\u044f\u0442 \u0432 \u0442\u043e\u0442 \u0436\u0435 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 - \u0441\u0447\u0438\u0442\u0430\u0442\u044c \u043b\u0438 \u044d\u0442\u043e \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u043c? \u0423 \u043d\u0435\u0433\u043e \u043f\u0435\u0440\u0435\u0434 \u043f\u0440\u043e\u0448\u043b\u044b\u043c \u0431\u044b\u043b \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 123, \u043f\u043e\u0442\u043e\u043c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0441\u0442\u0430\u043b 0, \u043f\u043e\u0442\u043e\u043c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0441\u043d\u043e\u0432\u0430 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f 123 \u041d\u0430\u0434\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u0442\u0443 \u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u044f. \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439, \u043a\u043e\u0433\u0434\u0430 \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043f\u043e\u043c\u0435\u043d\u044f\u043b\u0441\u044f \u043d\u043e\u0432\u044b\u0439 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u043d\u0430 null?","title":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u043a\u0438 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438 \u0440\u0435\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0435\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u0432:"},{"location":"4.1%20%D0%9D%D0%B5%20%D1%83%D0%B4%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%B8%D0%BC%D0%BF%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D1%82%D1%8C%20%D1%82%D1%80%D0%B0%D0%BD%D1%81%D0%BF%D0%BE%D1%80%D1%82%D0%BD%D1%8B%D0%B9%20%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%20%D1%81%20%D0%BF%D0%BE%D0%BB%D0%B8%D1%82%D0%B8%D0%BA%D0%B0%D0%BC%D0%B8%20%D0%B0%D1%82%D1%82%D0%B5%D1%81%D1%82%D0%B0%D1%86%D0%B8%D0%B8/","text":"4.1 \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u043f\u0430\u043a\u0435\u0442 \u0441 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430\u043c\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 29 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2022 \u0433. 16:55 \u041d\u0443\u0436\u043d\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u0431\u044a\u0435\u043a\u0442 AttestationObjectHasPWODM You need to insert into AttestationObjectHasPWODM table manually for one time. You insert your attestation procedure UID (UID_AttestationObject) and your workflow UID (UID_PWODecisionMethod). You can click on the column and find your related Attestationprocedure and Workflow. After that process you can create your attestation policy easily without no error. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/32610/the-combination-of-approval-policy-and-attestation-procedure-is-not-valid >","title":"4.1 \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0439 \u043f\u0430\u043a\u0435\u0442 \u0441 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430\u043c\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438"},{"location":"4.2%20%D0%92%D1%8B%D0%B1%D0%BE%D1%80%D0%BA%D0%B0%20%D1%82%D0%BE%D0%BB%D1%8C%D0%BA%D0%BE%20%D0%B3%D1%80%D1%83%D0%BF%D0%BF%20UNS%20%D0%BA%D0%BE%D1%82%D0%BE%D1%80%D1%8B%D0%B5%20%D1%81%D0%B2%D1%8F%D0%B7%D0%B0%D0%BD%D1%8B%20%D1%81%20%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82%D0%B0%D0%BC%D0%B8%20ITShop%20%D0%B8%D0%B7%20%D0%BE%D0%BF%D1%80%D0%B5%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B9%20%D0%BA%D0%BE%D1%80%D0%BD%D0%B5%D0%B2%D0%BE%D0%B9%20%D0%BA%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D0%B8/","text":"4.2 \u0412\u044b\u0431\u043e\u0440\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0440\u0443\u043f\u043f UNS \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u044b \u0441 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u043c\u0438 ITShop \u0438\u0437 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 7 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2022 \u0433. 14:30 UID_UNSGroup IN (select UID_UNSGroup from UNSGroup where UID_AccProduct in (select UID_AccProduct from AccProduct where UID_AccProductGroup in (select UID_AccProductGroup from AccProductGroup where FullPath like N'\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b\\'))) --\u0418\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u044b \u0441 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u043c\u0438 ITShop, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438: \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u044b","title":"4.2 \u0412\u044b\u0431\u043e\u0440\u043a\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0440\u0443\u043f\u043f UNS \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0441\u0432\u044f\u0437\u0430\u043d\u044b \u0441 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430\u043c\u0438 ITShop \u0438\u0437 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043a\u043e\u0440\u043d\u0435\u0432\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"},{"location":"4.3%20%D0%A3%D0%BC%D0%B5%D0%BD%D1%8C%D1%88%D0%B8%D1%82%D1%8C%20%D0%BA%D0%BE%D0%BB-%D0%B2%D0%BE%20AttestationCases/","text":"4.3 \u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b-\u0432\u043e AttestationCases 19 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2022 \u0433. 16:03 Deleting Attestation Cases Configuration parameter Effect Common\\ProcessState\\PropertyLog When this configuration parameter is set, changes to individual values are logged and shown in the process view. Table 47: Configuration Parameter for Logging Data Changes The table AttestationCase expands very quickly when attestation is performed regularly. To limit the number of attestation cases in the One Identity Manager, you can delete Obsolete, closed attestation cases from the database. The attestation case properties are logged and then the attestation cases are deleted. The same number of attestation cases remain in the database as are specified in the attestation policy. For more detailed information about logging data changes tags, see the One Identity Manager Configuration Guide. | | NOTE: Ensure that the logged request procedures are archived for audit reasons. For more detailed information about the archiving process, see the One Identity Manager Data Archiving Administration Guide. | |----|----| Prerequisites The configuration parameter \"Common\\ProcessState\\PropertyLog\" is set. The attestation policy is enabled. To delete attestation cases automatically Set the option Log changes when deleting on at least three columns in the table AttestationCase. Start the Designer . Select the category Database Schema | Tables | AttestationCase . Select Show table definition in the task view. Opens the Schema Editor. Select a column in the Schema Editor. Select the More tab in the Schema Editor edit view. Set the option Set Log changes when deleting . Repeat steps d) to F) for all columns to be recorded on deletion. These must be at least three. Click Commit to database in the toolbar and save the changes. These changes become effective the moment the DBQueue Processor has processed the tasks. Set the option Log changes when deleting on at least three columns in the table AttestationHistory. Start the Designer . Select the category Database Schema | Tables | AttestationHistory . Repeat steps 1c) to 1h) for the table AttestationHistory. Enter the number of obsolete cases in the attestation policies. Select the category Attestation | Attestation policies in the Manager. Select the attestation policy in the result list whose attestation cases should be deleted. Select Change master data in the task view. Enter a value larger than 0 in Obsolete tasks limit . Save the changes. | | TIP: If you want to prevent attestation cases being deleted for certain attestation policies, enter the value 0 for the obsolete task limit for this attestation policy. | |----|----| Attestation cases are deleted once A new attestation is started for an attestation policy. OR - An attestation policy is disabled. The One Identity Manager tests how many closed attestation cases exists in the database for each attestation object of this attestation policy. If the number is more than the number of obsolete attestation cases: The attestation case properties and their approval sequence are recorded All columns are recorded, which are marked for logging on deletion. The attestation cases are deleted. The same number of attestation cases remain in the database as are specified in the obsolete tasks limit. | | NOTE: Closed attestation cases are are also deleted in the case of disabled attestation policies if the configuration parameter \"Common\\ProcessState\\PropertyLog\" is not set. In this case, the deleted attestation cases are not logged. | |----|----| Related Topics General Master Data for Attestation Policies Notifications in Attestation From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0/attestation-administration-guide/29 > AttestationCase (UID_AttestationCase, Display name, PropertyInfo2, ReasonHead ) - \u0441\u0442\u0430\u0432\u0438\u043c \u0433\u0430\u043b\u043a\u0443 Log changes when deleting AttestationHistory (UID_AttestationCase, DecisionType, ReasonHead) - \u0441\u0442\u0430\u0432\u0438\u043c \u0433\u0430\u043b\u043a\u0443 Log changes when deleting \u0412\u0430\u0436\u043d\u043e! \u041f\u0440\u0438 Obsolete tasks limit . = 1 \u043e\u0441\u0442\u0430\u044e\u0442\u0441\u044f 2 AttestatioCases (\u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u0438 \u043e\u0434\u0438\u043d \u0438\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0439) \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e AttestationCase - \u0441\u0430\u043c\u044b\u0439 \u0441\u0442\u0430\u0440\u044b\u0439 \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f \u0438 \u043e\u0441\u0442\u0430\u0435\u0442\u0441\u044f \u0441\u043d\u043e\u0432\u0430 2","title":"4.3 \u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b \u0432\u043e AttestationCases"},{"location":"4.4%20%D0%9F%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC%D0%B0%20%D0%B2%20%D0%BE%D1%87%D0%B5%D1%80%D0%B5%D0%B4%D0%B8%20Auxiliary%20routing%20for%20ATT_PAttestationHelperFillAll.%20Procedure%20simulates%20bulk%20mode/","text":"4.4 \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \"Auxiliary routing for ATT_PAttestationHelperFillAll. Procedure simulates bulk mode\" 19 \u0434\u0435\u043a\u0430\u0431\u0440\u044f 2022 \u0433. 15:49 ATT-K-AttestationHelper-Cfg task reoccurs far too frequently (4288699) (oneidentity.com)","title":"4.4 \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 Auxiliary routing for ATT PAttestationHelperFillAll. Procedure simulates bulk mode"},{"location":"40.%20Communication%20Ports/","text":"40. Communication Ports 10 \u0438\u044e\u043d\u044f 2024 \u0433. 14:36 Default port Description 1433 Port for communicating with the One Identity Manager database. 80 Port for accessing web applications. 88 Kerberos authentication system (if Kerberos authentication is implemented). 135 Microsoft End Point Mapper (EPMAP) (also, DCE/RPC Locator Service). 137 NetBIOS Name Service. 139 NetBIOS Session Service. 443 Default port for HTTPS connections. 1880 Port for the HTTP protocol of One Identity Manager Service. 2880 Port for access tests with the Synchronization Editor, such as in the target system browser or for simulating synchronization. Default port for the RemoteConnectPlugin. From \\< https://support.oneidentity.com/fr-fr/technical-documents/identity-manager/9.2/installation-guide/7 >","title":"40. Communication Ports"},{"location":"41.%20%D0%9A%D0%B0%D1%81%D1%82%D0%BE%D0%BC%D0%BD%D1%8B%D0%B5%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D1%8B/","text":"41. \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b 1 \u0438\u044e\u043b\u044f 2024 \u0433. 10:38 \u041f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0439 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b, \u0447\u0435\u0440\u0435\u0437 SSMS \u0437\u0430\u043f\u0443\u0441\u0442\u0438 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 exec dbo.QBM_PCustomSQLFill","title":"41. \u041a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b"},{"location":"42.%20One%20Identity%20Reports/","text":"42. One Identity Reports 20 \u043d\u043e\u044f\u0431\u0440\u044f 2024 \u0433. 17:13 Reports and Dashboards - Data connection Reports and Dashboards - Conditional Expressions \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u043e\u0432 UID_OrgRoot in (select UID_OrgRoot from OrgRoot where Ident_OrgRoot='SGP_Doc Access Management') Orphaned user Accounts - \u043e\u0442\u0447\u0435\u0442, \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u043d\u044b\u0439 \u043a \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0443\u0447\u0435\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u043f\u0440\u0438\u043c\u0430\u043f\u043b\u0435\u043d\u044b \u043a Employee. \u0424\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u0439 (\u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430) \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430: \u0427\u0435\u0440\u0435\u0437 ITShop Responsibilities \u2013 Auditing - Business Roles \u2013 Show Details (\u0441\u043f\u0440\u0430\u0432\u0430) - Memberships \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f DataSource \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0443 Person CentralAccount = @account_name or (UID_Department = dbo.QBM_FCVObjectkeyToElement(N'ColumnValue1',@ObjectKeyBase)) or Exists (select top 1 1 from PersonInDepartment Where PersonInDepartment.UID_Person = Person.UID_Person and PersonInDepartment.UID_Department = dbo.QBM_FCVObjectkeyToElement(N'ColumnValue1',@ObjectKeyBase)) \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0443 UNSAccount (UID_UNSRoot = dbo.QBM_FCVObjectkeyToElement(N'ColumnValue1',@system)) @system - \u044d\u0442\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430 \u0432 Manager XML \\<DialogSheetDefinition FormatVersion=\"1.0\"> \\<SpecialSheetData>VI_AERole_historical_membershipsObjectKeyBase=%XObjectKey%MinDate=\\</SpecialSheetData> \\</DialogSheetDefinition> \u041e\u0442\u0447\u0435\u0442\u044b https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/configuration-guide/100","title":"42. One Identity Reports"},{"location":"42.%20One%20Identity%20Reports/#responsibilities-auditing-business-roles-show-details-memberships","text":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f DataSource \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0443 Person CentralAccount = @account_name or (UID_Department = dbo.QBM_FCVObjectkeyToElement(N'ColumnValue1',@ObjectKeyBase)) or Exists (select top 1 1 from PersonInDepartment Where PersonInDepartment.UID_Person = Person.UID_Person and PersonInDepartment.UID_Department = dbo.QBM_FCVObjectkeyToElement(N'ColumnValue1',@ObjectKeyBase)) \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0443 UNSAccount (UID_UNSRoot = dbo.QBM_FCVObjectkeyToElement(N'ColumnValue1',@system)) @system - \u044d\u0442\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442\u0430 \u0432 Manager XML \\<DialogSheetDefinition FormatVersion=\"1.0\"> \\<SpecialSheetData>VI_AERole_historical_membershipsObjectKeyBase=%XObjectKey%MinDate=\\</SpecialSheetData> \\</DialogSheetDefinition> \u041e\u0442\u0447\u0435\u0442\u044b https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/configuration-guide/100","title":"Responsibilities \u2013 Auditing - Business Roles \u2013 Show Details (\u0441\u043f\u0440\u0430\u0432\u0430) - Memberships"},{"location":"43.%20Xorigin/","text":"43. Xorigin 26 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 17:59 XOrigin column shows \"Direct Assignment\" but bitmask value = 1 (inherit) in ADSAcountInADSGroup table - Forum - Identity Manager Community - One Identity Community","title":"43. Xorigin"},{"location":"44.%20One%20Identity%20CSV/","text":"44. One Identity CSV 13 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2026 \u0433. 11:46 5) \u0418\u043c\u043f\u043e\u0440\u0442 \u0438\u0437 csv 1. create a script with dataimporter 2. Create new process with a scriptexec and set script name to Value = \"\\<scriptname>\" 3. create new event for this script (in first step on parameters add e new event ...any name, just remember it :-) 3.Go to process orchestration and create new process plan that it is tied to DialogDatabase table and to event that You created before (both are selected from dropdown) 4.Also create new schedule (+ button on process schedule will do ;-) ) and that it is ! -- If \\$STARTDATE\\$ \\<> \"\" Then Value=Date.ParseExact(\\$STARTDATE\\$, \"dd. MM .yyyy\", CultureInfo.InvariantCulture) End If mm - \u043c\u0438\u043d\u0443\u0442\u044b!!! MM - \u043c\u0435\u0441\u044f\u0446!!! Department DEPARTMENTCODE = UID_DepartmentID DEPARTMENTNAME = DepartmentName DEPARTMENTFULLNAME = Description PARENTCODE = UID_DepartmentParentID ORGUNIT = Commentary \u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044f, \u0447\u0435\u0440\u0435\u0437 \u0441\u043a\u0440\u0438\u043f\u0442 \u0415\u0441\u043b\u0438 \u043d\u0430\u0434\u043e \u043a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u043f\u0440\u043e\u0433\u043e\u043d\u044f\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435, \u0447\u0435\u0440\u0435\u0437 \u0441\u043a\u0440\u0438\u043f\u0442 - \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0433\u0430\u043b\u043a\u0430 Override, \u043d\u043e \u0441\u043a\u0440\u0438\u043f\u0442 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0433\u043e\u043d\u044f\u0442\u044c\u0441\u044f, \u0435\u0441\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0435 \u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f. \u041d\u0430\u0434\u043e \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043a\u0440\u0438\u043f\u0442\u0430 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u0441\u0442\u043e\u043b\u0431\u0446\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f '\\$STARTDATE\\$ \u0418\u0437 \u043a\u0438\u0440\u0438\u043b\u043b\u0438\u0446\u044b \u0432 \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0443 Public Function CCC_transliteration(ByVal inputValue As String) As String inputValue = inputValue.ToLower() Dim SB As New System.Text.StringBuilder Dim Rus As String() = {\"\u0430\", \"\u0431\", \"\u0432\", \"\u0433\", \"\u0434\", \"\u0435\", \"\u0451\", \"\u0436\", \"\u0437\", \"\u0438\", \"\u0439\", \"\u043a\", _ \"\u043b\", \"\u043c\", \"\u043d\", \"\u043e\", \"\u043f\", \"\u0440\", \"\u0441\", \"\u0442\", \"\u0443\", \"\u0444\", \"\u0445\", \"\u0446\", \"\u0447\", \"\u0448\", _ \"\u0449\", \"\u044a\", \"\u044b\", \"\u044c\", \"\u044d\", \"\u044e\", \"\u044f\"} Dim Eng As String() = {\"a\", \"b\", \"v\", \"g\", \"d\", \"e\", \"e\", \"zh\", \"z\", \"i\", \"i\", _ \"k\", \"l\", \"m\", \"n\", \"o\", \"p\", \"r\", \"s\", \"t\", \"u\", \"f\", \"kh\", \"ts\", \"ch\", _ \"sh\", \"shch\", \"ie\", \"y\", \"\", \"e\", \"iu\", \"ia\"} For Each ch In inputValue If Char.IsLetter(ch) AndAlso AscW(ch) > 192 Then SB.Append(Eng(Array.IndexOf(Rus, ch.ToString))) Else SB.Append(ch) End If Next Return SB.ToString End Function accnt = Lastname & Firstname.Substring(0,1) & MiddleName.Substring(0,1) \u041f\u0440\u0430\u0432\u0438\u043b\u043e \u0434\u043b\u044f PersonnelNumber value = \"000\" + \\$PERSONNELNUMBER\\$","title":"44. One Identity CSV"},{"location":"45.%20One%20Identity%20Transport/","text":"45. One Identity Transport 13 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2026 \u0433. 12:06 \u041d\u0443\u0436\u043d\u043e \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u0446\u0435\u043b\u0435\u0432\u0443\u044e 1IM (\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Job Server, Application Server) \u0417\u0430\u0442\u0435\u043c \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c Schema Extensions! \u0417\u0430\u0442\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442\u044b (\u043f\u0435\u0440\u0435\u0434 \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0441\u043a\u0440\u0438\u043f\u0442\u0435 \u0441 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044f\u043c\u0438 \u0443\u043a\u0430\u0437\u0430\u043d \u0438\u043c\u043f\u043e\u0440\u0442 \u043d\u0443\u0436\u043d\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439) \u041f\u0440\u0430\u0432\u0438\u043b\u0430 (Rules) Sys config \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u044e\u0442\u0441\u044f, \u0447\u0435\u0440\u0435\u0437 ~~Sys config~~ Favorites Objects \u041f\u0440\u043e\u0435\u043a\u0442\u044b \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 IT Shop \u043d\u0435 \u043f\u0435\u0440\u0435\u0435\u0445\u0430\u043b( Business roles \u0442\u043e\u0436\u0435 \u043d\u0435 \u043f\u0435\u0440\u0435\u0435\u0445\u0430\u043b\u0438. \u041c\u043e\u0436\u043d\u043e \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0442\u0438 \u0438\u0445 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438. https://www.oneidentity.com/community/identity-manager/f/forum/26912/transport-of-it-shop-approval-workflows-and-policies \u041f\u0435\u0440\u0435\u043d\u043e\u0441 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 - \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0442\u0430\u0431\u043b\u0438\u0446\u044b DialogConfigParm **Prerequisite The schema of both One Identity Manager databases are identical. Customized schema extensions used in the mapping exist in both databases. To export a synchronization project from one One Identity Manager database to another: Save the synchronization project in the source database with change labels. Add new changes labels to do this. To save the synchronization project with change labels, open the Commit to database submenu and click Commit and assign a change label... Create a transport package for the synchronization project using the Database Transporter. a. Select the export criteria Transport by change label. b. Select the change label. c. Click Options and set the Add dependent objects to transport file and Close change labels after export. TIP: To display objects that belong to change labels, click Show. Import the transport package into the target database with the Database Transporter. Edit the synchronization project in the target database. a. Add a new base object. Use the wizard to do this, if it is available. The wizard creates a variable set with the given connection parameters. It adds the synchronization base object, for example, the actual Active Directory\u00ae domain you want to synchronize, as object in the One Identity Manager database. b. Customize the One Identity Manager database connection data. Select the category Configuration | One Identity Manager connection | General and click Edit connection... c. Customize the start configuration Assign a schedule. Assign the variable that belongs to the associated base object. d. Run a consistency check. e. Activate the synchronization project.** https://support.oneidentity.com/identity-manager/kb/202875/how-to-export-a-synchronization-configuration \u0417\u0430\u0442\u0435\u043c, \u0447\u0442\u043e\u0431\u044b \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438\u0437 CSV - \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u0434\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u044b! \u041f\u043e\u0441\u043b\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0434\u0435\u043b\u0430\u0435\u043c \u0435\u0449\u0451 \u0440\u0430\u0437 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044e \u0411\u0414! \u0421\u043e\u0432\u0435\u0442\u044b \u043f\u043e \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 Before importing a transport package. Prevent individual properties in the target database from being overwritten. Open the object you want to lock, in the Designer or Manager. Click on the property name and select the context menu Prohibit modification . The input field is locked and grayed-out. After importing a transport package. Check the staging level of the target database. Select the category Base Data | General | Databases in the Designer. Select the database and check the value of the property Staging level . Check the configuration settings in the target database. Check at least the configuration settings for the DBQueue Processor. The settings are specified through the database staging level and configuration parameters. Unlock the properties for editing again. Open the object you want to lock, in the Designer or Manager. Click on the property name and select the context menu Permit modification . https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/108","title":"45. One Identity Transport"},{"location":"46.%20One%20Identity%20Archive%20DB/","text":"46. One Identity Archive DB 13 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2026 \u0433. 12:07 \u0415\u0441\u0442\u044c 3 \u0441\u043f\u043e\u0441\u043e\u0431\u0430 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0430\u0440\u0438\u0445\u0438\u0432\u043d\u0443\u044e \u0411\u0414 \u041d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0438\u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0411\u0414 (\u0435\u0441\u043b\u0438 \u0431\u0430\u0437\u044b \u0432 \u043e\u0434\u043d\u043e\u0439 \u0441\u0435\u0442\u0438) \u0438 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0438 \u043f\u043e \u0441\u0435\u0442\u0438 \u0427\u0435\u0440\u0435\u0437 \u044d\u043a\u0441\u043f\u043e\u0440\u0442 \u0438 \u0438\u043c\u043f\u043e\u0440\u0442 xml \u0444\u0430\u0439\u043b\u043e\u0432 \u0414\u0430\u043d\u043d\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c\u0441\u044f \u0438\u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0411\u0414, \u0447\u0435\u0440\u0435\u0437 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0431\u0435\u0437 \u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0415\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c retention period - \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c\u0441\u044f \u0435\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e \u043f\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u043c\u0443 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u044e \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0442\u044f\u043d\u0443\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0430\u0440\u0445\u0438\u0432\u043d\u0443\u044e \u0411\u0414 - \u043d\u0430\u0434\u043e \u0438\u0437 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430 \"Import process information directly\" \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DialogWatchProperty https://www.oneidentity.com/community/identity-manager/f/forum/5885/history-data-viewing ID \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DialogDatabase \u041f\u043e\u0447\u0435\u043c\u0443 \u0443\u0431\u0440\u0430\u043b\u0438 HistoryDB Service https://www.oneidentity.com/community/identity-manager/f/forum/29448/history-service \u041f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c \u0437\u0430\u0441\u0442\u0430\u0432\u0438\u0442\u044c JoBServer History DB \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u044f 1) \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0443\u0442\u0438\u043b\u0438\u0442\u044b His DB \u043d\u0430 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 2) \u0421\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430 SQL \u0441\u0435\u0440\u0432\u0435\u0440\u0435, \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0442\u043e\u0440 \u043d\u043e\u0432\u043e\u0433\u043e \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 3) \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440 \u043d\u0430 \u043d\u043e\u0432\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c Job Server (\u0443\u043a\u0430\u0437\u0430\u0442\u044c Executing Server!!!) 4) \u0417\u0430\u0439\u0442\u0438 \u0432 \u043f\u0430\u043f\u043a\u0443 \u043d\u0430 \u043d\u043e\u0432\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0441 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c 1IM \u0438 \u0441\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c JobServer (JobServiceConfigurator) \u043d\u0430 \u0431\u0430\u0437\u0443 History DB \u0421\u043e\u043e\u0442\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446 DialogWatchProperty (Main) ==> WatchProperty (HDB) DialogWatchOperation (Main) ==> WatchOperation (HDB) JobHistory (Main) ==> HistoryJob (HDB) \u0415\u0441\u043b\u0438 \u043d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0430\u0440\u0445\u0438\u0432\u043d\u0430\u044f \u0411\u0414 - \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c Daily Maintenance job \u0438 \u0437\u0430\u0442\u0435\u043c Direct Import \u043d\u0430 \u0430\u0440\u0445\u0438\u0432\u043d\u043e\u0439. \u0423\u0447\u0435\u0441\u0442\u044c \u0442\u043e, \u0447\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u043f\u043e \u0441\u0440\u043e\u043a\u0443 \u0434\u0430\u0432\u043d\u043e\u0441\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u043a\u0430\u0437\u0430\u043d \u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435. \u041f\u0440\u0438\u043c\u0435\u0440 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a Common\\ProcessState\\Delete=1 Common\\ProcessState\\ExportPolicy=HDB Common\\ProcessState\\JobHistory=ALL Common\\ProcessState\\JobHistory\\Delete=1 Common\\ProcessState\\JobHistory\\isToExport=1 Common\\ProcessState\\JobHistory\\lifetime=2 Common\\ProcessState\\PackageSizeHDB=10000000 Common\\ProcessState\\ProgressView=0 Common\\ProcessState\\Propertylog=1 Common\\ProcessState\\PropertyLog\\AllDefaultPropertiesForModel=1 (?) Common\\ProcessState\\PropertyLog\\IsToExport=1 Common\\ProcessState\\PropertyLog\\LifeTime=1 \u0422\u0430\u043a \u0436\u0435 \u0432 BaseData \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u0430\u0437\u0443 \u0434\u043b\u044f TimeTrace \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 2\u0445 \u0441\u043b\u0443\u0436\u0431 \u043d\u0430 \u043e\u0434\u0438\u043d \u0441\u0435\u0440\u0432\u0435\u0440 \u0421\u0442\u0430\u0432\u0438\u043c \u0441\u043b\u0443\u0436\u0431\u0443 \u0430\u0440\u0445\u0438\u0432\u043d\u043e\u0439 \u0411\u0414 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u0443\u044e \u043f\u0430\u043f\u043a\u0443 \u0441 \u043e\u0442\u043b\u0438\u0447\u0430\u044e\u0449\u0438\u043c\u0441\u044f \u0438\u043c\u0435\u043d\u0435\u043c. \u0412 \u043a\u043e\u043d\u0444\u0438\u0433\u0435 \u0441\u043b\u0443\u0436\u0431\u044b \u0441\u0442\u0430\u0432\u0438\u043c \u043e\u0442\u043b\u0438\u0447\u0430\u044e\u0449\u0438\u0439\u0441\u044f HTTP \u043f\u043e\u0440\u0442 \u043e\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0411\u0414 \u041c\u0435\u043d\u044f\u0435\u043c \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0435 \u0441\u043b\u0443\u0436\u0431\u044b \u043f\u0443\u0442\u044c \u0434\u043e \u043b\u043e\u0433\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u0438 \u043d\u0435 \u0441\u043b\u0438\u0432\u0430\u043b\u0438\u0441\u044c \u0432 \u043e\u0434\u043d\u0443 \u043f\u0430\u043f\u043a\u0443.","title":"46. One Identity Archive DB"},{"location":"5.%20Troubleshooting/","text":"5. Troubleshooting 19 \u043c\u0430\u044f 2022 \u0433. 13:53 1) \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0438\u0437 CSV \u0421\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435\u043c \u043f\u043e\u043b\u0435\u0439 csv \u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043a\u0443\u0434\u0430 \u0437\u0430\u043d\u043e\u0441\u0438\u0448\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u041c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u0430\u043b \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u0430 \u0438\u043b\u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u043d - FullPath \u0443 Department, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438. DEPARTMENTCODE = UID_DepartmentID PARENTCODE = UID_DepartmentParentID 2) \u041d\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0442\u0430\u0441\u043a\u0438 \u043d\u0430 JobServer \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d .Net 4.7.2 \u043d\u0430 JobServer 3) \u041d\u0435 \u043f\u043e\u0434\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b OneIM \u043f\u0440\u0438 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0435 \u043d\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u041d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c Refresh Schema \u0434\u043b\u044f \u0411\u0414 OneIM 4) \u041d\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f Process Plan \u0434\u043b\u044f \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438\u0437 CSV. \u041d\u0443\u0436\u043d\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c Condition \u0443 Process Plan. \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443, \u043a\u0443\u0434\u0430 \u043c\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u043b\u0438 Custom Process (DialogSchedule) \u0438 \u043d\u0430\u0445\u043e\u0434\u0438\u043c \u0438\u043c\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 Name='SGP Export Person To CSV' \u0414\u0435\u043b\u0430\u0435\u043c Commit \u0432 \u0431\u0430\u0437\u0443. 5) \u041f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0438\u0437 \u0411\u0414 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 OneIM \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0443\u0434\u0430\u043b\u044f\u044e\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u0438, \u0430 \u043f\u043e\u0442\u043e\u043c \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0441\u043d\u043e\u0432\u0430 (Delete -> Insert ) \u041d\u0430\u0434\u043e \u0432 Mapping - \u0441\u043e\u0437\u0434\u0430\u0442\u044c Object Matching Rule 5) \u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u0438\u0437 AD + \u0432 Manager \u0437\u0430\u0439\u0442\u0438 \u0432 Show Deffered operations \u0438 \u043d\u0430\u0436\u0430\u0442\u044c Play \u0434\u043b\u044f \u0437\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u043b\u043e\u0436\u0435\u043d\u043d\u043e\u0439 6) \u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u0442\u044b \u0432 VB Public Sub CCC_Test3(ByVal date1 As String) Dim date2 As DateTime = CType(DateTime.ParseExact(date1, \"dd.mm.yyyy\", System.Globalization.CultureInfo.InvariantCulture), DateTime) MsgBox(date2) End Sub 7) \u0417\u0430\u043f\u0438\u0441\u044c \u0434\u0430\u0442\u044b \u0432 \u043b\u043e\u0433 VID_Write2Log(strLOGFileName, String.Format(\"{0}, ==> Data: {1}\", Now.ToString(), dbsUnsAccount.ToString())) 8) \u0424\u0438\u043b\u044c\u0442\u0440 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0412 Sync Editor - Workflows \u2013 \u0412 Processing \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043d\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 - Insert, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 9) \u041f\u0440\u0430\u0432\u0430 \u043d\u0430 \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e\u043b\u044f \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f UNSAccountB \u0412 Manager \u2013 One Identity Manager Schema - \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 - \u0421\u043f\u0440\u0430\u0432\u0430 Edit Permissions for table - \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0438 \u0441\u0442\u0430\u0432\u0438\u043c \u0433\u0430\u043b\u043a\u0438 \u043d\u0430 Insert 10) \u0423 Account Definition \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b \u0433\u0430\u043b\u043a\u0438 Retain \u042d\u0442\u043e \u0437\u043d\u0430\u0447\u0438\u0442, \u0447\u0442\u043e Acc Def \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u0434\u0440\u0443\u0433\u0443\u044e Acc Def - \u0435\u0441\u043b\u0438 \u0443\u0431\u0440\u0430\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c, \u0442\u043e \u0433\u0430\u043b\u043a\u0438 \u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c\u0438 11) SDK \u0441\u043a\u0440\u0438\u043f\u0442\u044b OneIM C:\\distr\\OIM81\\Modules\\QBM\\dvd\\AddOn\\SDK\\ScriptSamples 12) \u0421\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u0438\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 Custom Target Systems \u0415\u0441\u043b\u0438 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438, \u0442\u043e \u043d\u0430\u0434\u043e \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c Scope \u0434\u043b\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0411\u0414 + \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 Workflow \u0434\u043b\u044f Insert 13) \u0412\u0410\u0416\u041d\u041e! \u041c\u0430\u043f\u043f\u0438\u043d\u0433 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438 \u0433\u0440\u0443\u043f\u043f \u041d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u044c \u043d\u0438\u0447\u0435\u0433\u043e \u0432 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u044b UID_UNSAccountB \u0438 UID_UNSGroupB ! \u041e\u043d\u0438 \u0433\u0435\u043d\u0435\u0440\u044f\u0442\u0441\u044f \u0441\u0430\u043c\u0438, \u043f\u043e \u0441\u0432\u043e\u0438\u043c \u0437\u0430\u043a\u043e\u043d\u0430\u043c, \u0438\u043d\u0430\u0447\u0435 \u043f\u043e\u0442\u043e\u043c \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044b \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0435\u0439. 14) \u0418\u043c\u043f\u043e\u0440\u0442 \u0441\u0432\u044f\u0437\u0435\u0439 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 UNSAccountBInUnsGroupB \u0415\u0441\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e Custom Target Systems, \u0442\u043e \u043f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0441\u0432\u044f\u0437\u0435\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438 \u0433\u0440\u0443\u043f\u043f \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435\u043c \u0441\u0432\u044f\u0437\u0435\u0439. \u0420\u0435\u0448\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u044b UNSAccountBInUnsGroupB \u043d\u0430 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 UID_UNSROOTB, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 foreign key \u043a UNSRootB \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0432 \u044d\u0442\u043e\u0442 \u0430\u0442\u0440\u0438\u0431\u0443\u0442 \u043c\u0430\u043f\u0438\u0442\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 UNSRootB Custom Target Sustem. \u041f\u043e\u0442\u043e\u043c \u0432 Workflow \u0443 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f Delete \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f Base.CCC_UID_UNSRootB=Other.vrtIdentUNSRoot 15) \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0430\u0445 #If Not SCRIPTDEBUGGER Then Imports System.Collections.Generic Imports System.Data #End If #If Not SCRIPTDEBUGGER Then References Devart.Data.Oracle.dll Imports Devart.Data.Oracle #End If 16) Matching rule \u0434\u043b\u044f user \u2013 role UID_UNSAccountB_LOGIN AND UID_UNSGroupB_Role_as_string \u0427\u0442\u043e\u0431\u044b \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043e\u0431\u0430 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430, \u0442\u0430\u043a \u043a\u0430\u043a \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u0442\u044c\u0441\u044f \u0438 \u043b\u043e\u0433\u0438\u043d \u0438 \u0433\u0440\u0443\u043f\u043f\u0430 17) \u041d\u0435 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 HP \u0431\u0435\u0437 \u0442\u0430\u0431\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043d\u043e\u043c\u0435\u0440\u0430 \u041d\u0430\u0434\u043e \u0434\u0435\u043b\u0430\u0442\u044c Matching Rule AccountName \u2013 LoginToUpper 18) \u041d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u043b\u0438\u0441\u044c \u043f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0432 UNSAccountVInUNSGroupB \u0432\u0441\u0435 UNSAccountB \u0411\u044b\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u043d\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0434\u043b\u044f \u044d\u0442\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b. \u041d\u0430\u0434\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0431\u044b\u043b\u043e Matching Rule \u043f\u043e \u043b\u043e\u0433\u0438\u043d\u0443, \u0430 \u043d\u0435 \u043f\u043e \u0442\u0430\u0431\u0435\u043b\u044c\u043d\u043e\u043c\u0443. 19) Directum \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 OIM_UpdateUser \u043c\u0435\u043d\u044f\u0435\u0442 FullName \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043b\u043e\u0433\u0438\u043d\u0430. 20) \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 Value = \\$UID_UNSRootB\\$ Like \"f0a34f8e-07c5-4800-9874-a0e8a313c051\" 21) \u041f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f DisplayName \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0432 Directum \u041d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0432 \u0441\u0445\u0435\u043c\u0435 \u0443 \u043f\u043e\u043b\u044f \u043d\u0435 \u0431\u044b\u043b\u043e \u0431\u0435\u0437\u0443\u0441\u043b\u043e\u0432\u043d\u043e\u0433\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u0430, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u043c\u0443 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044f. \u041f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442. \u041d\u0430\u0434\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u043b\u044f. 22) ITShop \u0441\u0442\u043e\u043b\u043a\u043d\u0443\u043b\u0441\u044f \u0441 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u043e\u0439, \u043f\u0440\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443 AD \u0438\u0437 ITShop \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043a\u0438 \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u044d\u0442\u0443 \u0433\u0440\u0443\u043f\u043f\u0443 \u0432 AD \u0414\u043b\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u0442\u0441\u044f \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043d\u0443\u0436\u043d\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 AD. 23) \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 Shelf \u0438\u0437 ITShop \u0423\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0443 \u043a \u0433\u0440\u0443\u043f\u043f\u0435 \u0423\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0443 Approval policy \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c (\u0438\u043b\u0438 \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0443 \u043a \u044d\u0442\u043e\u0439 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u0438) \u0423\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u0438\u0432\u044f\u0437\u043a\u0443 \u043a \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0443 Assignment resourse \u2013 Remove from all shelves \u041d\u0430\u0434\u043e \u0436\u0434\u0430\u0442\u044c, \u043f\u043e\u043a\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u0441\u044f \u0432\u0441\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b. 24) Web Designer \u041d\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430\u0434\u043f\u0438\u0441\u044c - \u043d\u0430\u0434\u043e Text \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0432 \u043a\u0430\u0432\u044b\u0447\u043a\u0430\u0445) 25) IT Shop \u043d\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u043f\u0438\u0441\u044c\u043c\u0430 \u043e requests \u041d\u0430\u0434\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c Default email address \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0435 Miscellaneous + \u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \"QER\\ITShop\\DefaultSenderAddress\" To use notification in the request process Ensure that the email notification system is configured in One Identity Manager. For more detailed information, see the One Identity Manager Configuration Guide. Set the configuration parameter \"QER\\ITShop\\DefaultSenderAddress\" in the Designer and enter the sender address with which the email notifications are sent. Ensure that all employees have a default email address. Notifications are sent to this address. For more detailed information, see the One Identity Manager Identity Management Base Module Administration Guide. Ensure that a language culture can be determined for all employees. Only then can they receive email notifications in their own language. For more detailed information, see the One Identity Manager Identity Management Base Module Administration Guide. Configure the notification procedure. https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/it-shop-administration-guide/38#TOPIC-916350 \u0418 \u0442\u0443\u0442 \u0435\u0449\u0451 SenderAddress=\\<Enter email address in configuration parameter \"QER\\RPS\\DefaultSenderAddress\"> \u0414\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 PWOHelperPWO 26) \u0417\u0430\u043f\u0443\u0441\u043a \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0411\u0414 - \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 (wait for dbqueue processor) Just, for clarification. You added another CPU to your system and then these Errors occur? Or did you do anything in addition? You could use the following SQL statements to remove and reinstall the SQL Agent Jobs: -- First check if there are sessions used by the DBProcessor. If so wait for them to be finished SELECT spid, PROGRAM_NAME, login_time, hostname FROM sys.sysprocesses WHERE PROGRAM_NAME LIKE 'SQLAgent%' AND dbid = DB_ID() -- if you need to remove the sql agents for D1IM, exec: EXEC QBM_PWatchDogPrepare 1 GO EXEC QBM_PDBQueuePrepare 1 GO -- To re-initialize the sql agents for D1IM, exec: EXEC QBM_PWatchDogPrepare 0 GO EXEC QBM_PDBQueuePrepare 0, 1 GO 27) \u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b \u043a\u043d\u043e\u043f\u043a\u0438 \u043f\u0440\u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0438 email \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u041f\u0440\u0438\u0447\u0438\u043d\u0430 - \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f CentralAccount Name \u0420\u0435\u0448\u0435\u043d\u0438\u0435 - \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u043c\u0435\u043d\u0438 \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u0438, \u0442\u0430\u043a \u043a\u0430\u043a \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0434\u0435\u0444\u043e\u043b\u0442\u0443 \u043d\u0435 \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e 28) \u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0447\u0435\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u043d\u0430 \u043f\u043e\u0447\u0442\u0443 \u041d\u0430\u0434\u043e \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043e\u0442\u0447\u0435\u0442\u0430 \u0441\u0434\u0435\u043b\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 29) Outstanding - \u043f\u043e\u043c\u0435\u0447\u0430\u0435\u0442 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 http://www.identitymanager.tech/viewtopic.php?t=38 30) \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c AD \u043d\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u0443\u0436\u043d\u0443\u044e OU \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u0432 \u0444\u0430\u0439\u043b\u0435 csv \u0434\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u041d\u0435 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f CentralAccName \u0412 Workflow Sync Editor \u043d\u0430\u0434\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Data Import, \u0442\u043e\u0433\u0434\u0430 \u0444\u043b\u0430\u0433 FULLSYNC \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f! https://support.oneidentity.com/technical-documents/identity-manager/8.0/target-system-synchronization-reference-guide/7#TOPIC-863230 \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0442\u044c Data import \u0441\u0434\u0435\u043b\u0430\u043d\u0430 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0431\u044b\u043b\u043e \u043d\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0446\u0435\u043b\u0435\u0432\u044b\u043c\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438 \u043f\u043e\u043a\u0430 \u043e\u043d\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f. The session variable FullSync=FALSE is set if the option Data import is enabled. \u0415\u0449\u0435 \u043a\u0430\u043a \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u044f - \u0432 Manager \u0432 AD \u2013 \u043d\u0430 \u0434\u043e\u043c\u0435\u043d\u0435 - Execute Templates (\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u0432 \u0440\u0443\u0447\u043d\u0443\u044e) \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043b \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044e \u0438\u0437 AD \u2013 \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 Value = CBool(Connection.Variables(\"FULLSYNC\")) AndAlso _ CBool(values(\"AdHocDataFound\")) 31) \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043f\u043e\u043f\u0430\u0434\u0430\u0435\u0442 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443, \u0447\u0435\u0440\u0435\u0437 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c - \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443 \u043d\u0435\u0433\u043e \u0441\u0442\u043e\u044f\u043b\u0430 \u0433\u0430\u043b\u043a\u0430 isGroupAccount 32) Application Server \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0438\u0437 \u0434\u0438\u0441\u0442\u0440\u0438\u0431\u0443\u0442\u0438\u0432\u0430 1IM!!! 33) \u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 (Transport) \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u041f\u043e\u0447\u0435\u043c\u0443 \u0442\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f Base Object \u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c Base Object \u0418 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c Custom Target System \u0432 Manager \u041f\u0435\u0440\u0435\u0434 \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438\u0437 CSV \u043d\u0430\u0434\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u044b! 34) History DB \u041d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438\u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0411\u0414 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 Import Process Information directly \u041d\u0443\u0436\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0411\u0414 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0431\u044b\u043b\u043e (\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c - Ctrl + D \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435) 35) \u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f DataSources \u0432 \u043e\u0442\u0447\u0435\u0442\u0430\u0445 \u041d\u0435 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043d\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442. \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c Data Source, \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u043f\u043e\u0442\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0430\u043c \u043e\u0442\u0447\u0435\u0442. 36) \u041e\u0442\u0447\u0435\u0442\u044b. \u041d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 UNSAccountInUNSGroup 37) \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b. \u0420\u0443\u0441\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u043f\u0435\u0447\u0430\u0442\u0430\u044e\u0442\u0441\u044f \u0438\u0435\u0440\u043e\u0433\u043b\u0438\u0444\u0430\u043c\u0438. \u041d\u0435 \u043d\u0443\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c fakeSMTP. \u041c\u043e\u0436\u043d\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c Linux & postfix & dovecot \u043d\u0430 Windows 10 WSL. -- 38) API. \u0420\u0443\u0441\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0438\u0435\u0440\u043e\u0433\u043b\u0438\u0444\u0430\u043c\u0438 \u041d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c charset=utf-8 \\$newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person \" -WebSession \\$wsession -Method Post -Body \\$body -ContentType \"application/json; charset=utf-8 \").uri 39) History DB \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 UID_QBMDeployTarget \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0432\u0435\u0440\u0441\u0438\u044e SQL (\u0435\u0441\u043b\u0438 \u0432 \u043e\u0448\u0438\u0431\u043a\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u0442\u0441\u044f NULL) https://www.oneidentity.com/community/identity-manager/f/forum/29784/error-installing-job-server/72824#72824 40) \u041c\u0430\u043f\u043f\u0438\u043d\u0433 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041e\u0434\u043d\u043e\u043c\u0443 Employee \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e AD \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432 \u041c\u0430\u043f\u043f\u0438\u0442\u044c \u043f\u043e \u0424\u0418\u041e \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e! \u0424\u0418\u041e + \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 41) \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 Custom Target Sysstems - \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440 \u0432 Sync Editor (\u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043b\u044f AD \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430) \u041c\u043e\u0436\u043d\u043e \u0432 Designer \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c SQL \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0438 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0433\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b - \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0441\u0432\u044f\u0437\u0438 - \u044d\u0442\u043e \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f 42) \u041e\u0448\u0438\u0431\u043a\u0430 [System.IO.FileNotFoundException] Could not load file or assembly 'VI.Projector.ADS.JobComponent' or one of its dependencies. \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0439\u0442\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b. \u041d\u0430\u0434\u043e \u0438\u0437 \u0434\u0438\u0441\u0442\u0440\u0438\u0431\u0443\u0442\u0438\u0432\u0430 C:\\distr\\OneIM8.1SP1\\Modules\\ADS\\install\\bin \u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0432 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u0447\u043d\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e VI.Projector.ADS.JobComponent.dll 43) \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0443 \u043f\u0440\u0438 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u041f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044e UPDATE ------- 44) \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f - \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u0442\u0441\u044f \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c, \u0447\u0435\u0440\u0435\u0437 csv \u041a\u043b\u044e\u0447\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0435\u0433\u043e GUID - \u043e\u043d \u043c\u0430\u043f\u0438\u0442\u0441\u044f \u0432 CustomProperty01 45) ITShop. \u041d\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0443\u044e\u0449\u0438\u043c \u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 46) ITShop. \u041d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u0438\u0441\u044c\u043c\u0430 \u043f\u0440\u0438 approve \u0432 workflow \u0421\u043e\u0431\u044b\u0442\u0438\u0435 Granted \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b PersonWantsOrg (\u0434\u043b\u044f \u0448\u0430\u0433\u0430) OrderGranted - \u0434\u043b\u044f \u0432\u0441\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0446\u0435\u043b\u0438\u043a\u043e\u043c \u0415\u0441\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \"VI_ESS_PersonWantsOrg send mail when step granted\" \u041d\u0430\u0434\u043e \u0432 Workflow (\u0432 Manager) \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f Mail Template Approved, \u0447\u0442\u043e\u0431\u044b \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043b! \u041c\u043e\u0436\u043d\u043e \u0434\u043b\u044f \u043f\u043e\u0447\u0442\u043e\u0432\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430 (IT Shop request - approval granted to approval step) \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u044f\u0437\u044b\u043a \u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0438 \u0437\u0430\u043f\u0438\u043b\u0438\u0442\u044c \u043f\u043e\u0434 \u044d\u0442\u043e\u0442 \u044f\u0437\u044b\u043a \u0448\u0430\u0431\u043b\u043e\u043d - \u0442\u043e\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c. \u042f\u0437\u044b\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (employee) I\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 ObjectBrowser \u0412\u043a\u043b\u0430\u0434\u043a\u0430 Navigation \u0422\u0430\u0431\u043b\u0438\u0446\u0430 DialogRichMailBody - \u0442\u0430\u043c \u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f HTML \u043a\u043e\u0434 \u0434\u043b\u044f \u044f\u0437\u044b\u043a\u043e\u0432. 47) ITShop. \u041f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0443 \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0430: \"You do not have permission to assign a new manager\" \u0414\u0430\u043d\u044b \u043f\u0440\u0430\u0432\u0430 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0434\u043b\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e ITSHOP \u041f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0432 ITShop - \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 ITShop, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0430 \u043d\u0435\u0433\u043e \u043c\u043d\u043e\u0433\u043e \u0447\u0435\u0433\u043e \u0437\u0430\u0432\u044f\u0437\u0430\u043d\u043e - \u0438 \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2026 48) ITShop. \u041f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \u0414\u0430\u043d\u044b \u043f\u0440\u0430\u0432\u0430 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0434\u043b\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e ITSHOP \u041f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0432 ITShop - \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 ITShop, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0430 \u043d\u0435\u0433\u043e \u043c\u043d\u043e\u0433\u043e \u0447\u0435\u0433\u043e \u0437\u0430\u0432\u044f\u0437\u0430\u043d\u043e - \u0438 \u0434\u0438\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2026 49) ITShop. \u041e\u0431\u0449\u0438\u0439 \u0448\u0430\u0431\u043b\u043e\u043d \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u041d\u0430\u0434\u043e, \u0447\u0442\u043e\u0431\u044b \u0441\u0442\u043e\u044f\u043b\u0438 \u0433\u0430\u043b\u043a\u0438 \u043a\u0430\u043a Public \u0442\u0430\u043a \u0438 Share Public template Specifies whether the request template is available to all One Identity Manager users. Shared Specifies whether the request template is can be used by all One Identity Manager users. This option can only be changed in Manager through the user with the application role Request & Fulfillment | IT Shop | Administrators . If the option Public template is not set on a shared template, the option Shared is also disabled. https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/it-shop-administration-guide/57 50) \u0427\u0442\u043e\u0431\u044b \u043d\u0435 \u0443\u0434\u0430\u043b\u044f\u043b\u0430\u0441\u044c \u0443\u0447\u0435\u0442\u043a\u0430, \u043a\u043e\u0433\u0434\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 1IM \u041d\u0430\u0434\u043e \u0432 Account Definition \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0438 51) \u041d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0443\u0447\u0435\u0442\u043a\u0430 AD, \u0435\u0441\u043b\u0438 \u0433\u0430\u043b\u043a\u0430 DataImport \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0443 csv \u0432 Sync Editor \u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ADSAccount \u0443 \u043f\u043e\u043b\u044f UID_ADSContainer Template '\\$FK(UID_Person).UID_Department\\$ '\\$FK(UID_Person).UID_Locality\\$ '\\$FK(UID_Person).UID_ProfitCenter\\$ #If ORG Then '\\$FK(UID_Person).UID_Org\\$ #End If 'If CBool(Connection.Variables.Get(\"FULLSYNC\")) = False Then Select Case (\\$FK(UID_TSBBehavior).ITDataUsage:Int\\$) Case 0:'do not get data from employee Case -1:'fill property initially from the ITData of the employee If Not \\$[IsLoaded]:Bool\\$ Then If \\$FK(UID_Person).IsInActive:Bool\\$ Then Value = \"d0c905f9-4b2d-4db0-a47a-396fd139f9a6\" Else Value = TSB_ITDataFromOrg(\\$UID_Person\\$, \\$UID_TSBAccountDef\\$, Base.TableDef.Columns(\"UID_ADSContainer\")) End If End If Case 1:'update property depending on ITData of the employee If \\$FK(UID_Person).IsInActive:Bool\\$ Then '\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u043c \u0443\u0447\u0435\u0442\u043a\u0443 \u0432 OU \"\u0443\u0432\u043e\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438\", \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430 Value = \"d0c905f9-4b2d-4db0-a47a-396fd139f9a6\" Else Value = TSB_ITDataFromOrg(\\$UID_Person\\$, \\$UID_TSBAccountDef\\$, Base.TableDef.Columns(\"UID_ADSContainer\")) End If End Select 'End If 52) \u041f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0435\u0433\u043e \u0443\u0447\u0435\u0442\u043a\u0438 AD \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0435 OU \u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ADSAccount \u0443 \u043f\u043e\u043b\u044f UID_ADSContainer Template If \\$FK(UID_Person).IsInActive:Bool\\$ Then '\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u043c \u0443\u0447\u0435\u0442\u043a\u0443 \u0432 OU \"\u0443\u0432\u043e\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438\", \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430 Value = \"d0c905f9-4b2d-4db0-a47a-396fd139f9a6\" Else Value = TSB_ITDataFromOrg(\\$UID_Person\\$, \\$UID_TSBAccountDef\\$, Base.TableDef.Columns(\"UID_ADSContainer\")) End If \u0412 Account Definition \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0438 Retain 53) ITShop. \u0423\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 AD \u0433\u0440\u0443\u043f\u043f \u041d\u0430\u0434\u043e \u0432 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 \u0437\u0430\u0439\u0442\u0438 \u0432 ITShop \u2013 Service Catalog - \u0432\u044b\u0431\u0440\u0430\u0442\u044c Service Item \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u043b\u044f \u043d\u0435\u0435 Not Available 54) \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0438\u0437 \u043e\u0442\u0434\u0435\u043b\u0430 \u0432 Manager. \u0423\u0447\u0435\u0442\u043a\u0430 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0432 Workflow CSV \u0441\u0442\u043e\u0438\u0442 DataImport. \u041d\u043e \u0442\u043e\u0433\u0434\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0440\u043e\u0439 \u0440\u043e\u043b\u0438 \u043d\u0430 n \u0434\u043d\u0435\u0439. \u0414\u043b\u044f \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430\u0434\u043e \u0437\u0430\u0439\u0442\u0438 \u0432 \u0414\u0438\u0437\u0430\u0439\u043d\u0435\u0440 - \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 Person - Table Script \u0438 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0435 onSaved \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c Not \u043f\u0435\u0440\u0435\u0434 CBool 54) ITShop. \u041d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044e \u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0437\u0434\u0430\u043b \u0435\u0433\u043e \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0439 \u041d\u0443\u0436\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0441\u0442\u043e\u044f\u043b\u0430 \u0433\u0430\u043b\u043a\u0430 QER\\ITShop\\MailTemplateIdents\\RequestApproverByCollection QER\\Attestation\\MailTemplateIdents\\RequestApproverByCollection 55) \u0421\u0431\u0440\u043e\u0441 \u043d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0445 \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0432\u0445\u043e\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f connect to back end of the database. step1. get the UID_dialoguser SELECT [UID_DialogUser] ,[UserName] ,[BadPasswordAttempts] FROM [OneIMGDS].[dbo].[DialogUser] where [UserName]='viadmin' step 2. use the [UID_DialogUser] from above to set the BadPasswordAttempts to 0 UPDATE [dbo].[DialogUser] SET [BadPasswordAttempts] = 0 WHERE [UID_DialogUser]='QBM-A60F9E5189134AFFB6711DFCBC3F260E' GO try login... good luck https://www.oneidentity.com/community/identity-manager/f/forum/30063/user-account-is-locked---not-able-to-log-in/73579#73579 56) \u0421\u0431\u0440\u043e\u0441 \u043f\u0430\u0440\u043e\u043b\u044f viadmin Access SQL Management Studio Remove system user password by using following querie Update DialogUser set password=[REDACTED] where username='viadmin' Run following command to make to 0 for default password policy i.e \u2018One Identity Manager password policy\u2019 From 8x onwards, all users passwords should comply with password policy Update QBMPwdPolicy set minlen=0 where DisplayName='%Globals.QIM_ProductNameShort% password policy' So above statement updates default password policy minimum length 8 to 0 Then open Launch Pad and login with viadmin/no password. After above steps and update Default Password Policy Minimum length to 8. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 = 8 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c 57) App \u0441\u0435\u0440\u0432\u0435\u0440 \u041f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 https - \u043d\u0435 \u0437\u0430\u0445\u043e\u0434\u0438\u0442 \u043f\u043e dns \u0438\u043c\u0435\u043d\u0438. \u0417\u0430\u0445\u043e\u0434\u0438\u0442 \u043f\u043e localhost 58) \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u044b ITShop \u041d\u0430 \u0448\u0430\u0433\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0432 Workflow \u0433\u0434\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u044e\u0442\u0441\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0435 - \u0447\u0442\u043e\u0431\u044b \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438 \u0432\u0441\u0435\u043c - \u0441\u0442\u0430\u0432\u0438\u043c Number of appreovers = +1 ITShop \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437 \u041d\u0430\u0434\u043e \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0438\u043f \u0440\u0435\u0441\u0443\u0440\u0441\u0430 \u043d\u0430 Multi-request resources \u0412 \u043c\u0435\u043d\u044e Entitlements \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044f \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 Write permission denied for value IsTemporaryDeactivated \u0421\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e - \u044e\u0437\u0435\u0440 \u0437\u0430\u0434\u0438\u0437\u0430\u0431\u043b\u0435\u043d \u0438 \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u043d\u0430 \u044d\u0442\u043e \u0421\u043a\u0440\u0438\u043f\u0442 \u043d\u0435 \u0432\u043d\u043e\u0441\u0438\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0438\u0437 \u0414\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430 \u0414\u043e \u043a\u043e\u043d\u0446\u0430 \u043d\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u043e, \u043d\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0440\u0435\u0448\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0441\u043a\u0440\u0438\u043f\u0442\u0430, \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u0435, \u043d\u0430 JOB \u0441\u0435\u0440\u0432\u0435\u0440\u0435. \u0427\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u043e\u0441\u044c \u043e\u0434\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u043f\u043e \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f\u043c, \u0430 \u043d\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e QER\\ITShop\\MailTemplateIdents\\RequestApproverByCollection \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 PWO (PersonWantsOrg) \u0438\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u041b\u0443\u0447\u0448\u0435 \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0438 \u043f\u043e\u0434\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c, \u043a\u0430\u043a\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043e\u043d \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0417\u0430\u0432\u0438\u0441\u043b\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u044c dbqueue \u041f\u043f\u0446, \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u043c\u043e\u0433\u0430\u043b\u043e, \u0432\u0438\u0441\u0435\u043b\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b Assignment \u0412 \u0438\u0442\u043e\u0433\u0435, \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0434\u043d\u0435\u0439 \u0440\u0430\u0437\u0434\u0443\u043c\u0438\u0439, \u043f\u043e\u0447\u0438\u0441\u0442\u0438\u043b \u0432\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0448\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b - \u043f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0430\u0441\u044c! \u041d\u0430 \u0432\u0441\u044f\u043a\u0438\u0439 \u0441\u043b\u0443\u0447\u0430\u0439 \u043e\u0441\u0442\u0430\u0432\u043b\u044e \u044d\u0442\u043e \u0437\u0434\u0435\u0441\u044c Title DBQueue Processor does not process tasks Description DBQueue Processor does not process tasks. No new tasks appear and/or existing tasks are not processing. What troubleshooting steps exist to resolve this issue? Resolution Execute the following steps in the database using a suitable query tool, e.g. SQL Management Studio. Stop all DBQueue Processor components. exec QBM_PWatchDogPrepare 1 go exec QBM_PDBQueuePrepare 1 go Check whether other database sessions are active. select * from sys.sysprocesses p where dbid = DB_ID() and spid \\<> @@SPID If there are still sessions active, they must be closed first. Create a new ServiceBroker ID and enable message delivery. alter database \\<database name> set NEW_BROKER go alter database \\<database name> set enable_broker go Initializing the DBQueue Processor. exec QBM_PDBQueuePrepare 0,1 go exec QBM_PWatchDogPrepare go From \\< https://support.oneidentity.com/identity-manager/kb/239099/dbqueue-processor-does-not-process-tasks > \u0418 \u0435\u0449\u0451 - \u0431\u044b\u043b\u043e \u043e\u0447\u0435\u043d\u044c \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0435, \u0442\u0430\u0431\u043b\u0438\u0446\u0430 DialogDashBoardContent \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u043b \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 Calculate Statistics! \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u043b \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 Calculate weekly Statistics! \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b \u0441\u043b\u0443\u0436\u0431\u0443 \u041b\u043e\u0433\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043d\u0430 SQL Server \u0425\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DialogJornal \u041d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u043e\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u041d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0443 Account Definition \u0443 Manage Level \u0441\u0442\u043e\u0438\u0442 IT operating data overwrites = Always \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 values(\"SystemType\") \u0434\u043b\u044f AdHoc \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u041c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DPRSchema SQLAgent https://support.oneidentity.com/identity-manager/kb/125598/sql-server-minimal-permissions-guide \u041e\u0448\u0438\u0431\u043a\u0430: Database error 41313: The C compiler encountered a failure. The exit code was 2. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u043e\u0441\u044c \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0411\u0414 \u041d\u0435 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 MakeDecision Getting error \"This employee is not authorized to make approvals\"in \"MakeDecision\" method. - Forum - Identity Manager Community - One Identity Community \u0412 \u043f\u0438\u0441\u044c\u043c\u0435 (\u0448\u0430\u0431\u043b\u043e\u043d) \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f HTML, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d, \u0447\u0435\u0440\u0435\u0437 \u0441\u043a\u0440\u0438\u043f\u0442 Then please take a look at the documentation here. https://support.oneidentity.com/technical-documents/identity-manager/8.1.3/operational-guide/13#TOPIC-1481201 You need to create a script that created your HTML code and returns this as a string parameter. To avoid the escaping of the script result, you need to tag the script call in your mal template with \\$SCRIPT(\\<Your script name>):HTML\\$ From \\< https://www.oneidentity.com/community/identity-manager/f/forum/32756/insert-html-in-mail-templates > \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0432\u043d\u0443\u0442\u0440\u0438 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 https://support.oneidentity.com/technical-documents/identity-manager/8.1.3/operational-guide/13#TOPIC-1481199 \u0414\u043b\u044f \u0443\u0437 AD \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043f\u0430\u0440\u043e\u043b\u044c \u0438\u043b\u0438 \u043e\u043d \u043d\u0435 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0414\u043b\u044f AD \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043f\u0430\u0440\u043e\u043b\u0435\u0439. Designer-> BaseData-> Security Settings -> Password policies \u0412 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 Assignments \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043d\u0430 Account Definitions ( TSBAccDef ) \u0438\u043b\u0438 \u043d\u0430 \u0432\u0435\u0441\u044c \u0434\u043e\u043c\u0435\u043d (ADSDomain) \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430, \u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0430\u0440\u043e\u043b\u044f \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u0441 \u0444\u043b\u0430\u0433\u043e\u043c - Default Policy \u0438 \u044d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043a \u043e\u0448\u0438\u0431\u043a\u0430\u043c \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0432 AD \u0443\u0437!!! \u0427\u0442\u043e\u0431\u044b \u043f\u0430\u0440\u043e\u043b\u044c \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0441\u044f \u0434\u043b\u044f \u0443\u0437 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 TargetSystem\\ADS\\Accounts\\InitialRandomPassword \u041d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043c\u0435\u043d\u044e Custom Target System \u0432 Manager In the Designer, set the TargetSystem | UNS | CreateNewRoot configuration parameter and compile the database. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/34048/how-can-i-enable-the-menu-custom-target-system/82977 >","title":"5. Troubleshooting"},{"location":"5.%20Troubleshooting/#pwohelperpwo","text":"26) \u0417\u0430\u043f\u0443\u0441\u043a \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0411\u0414 - \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 (wait for dbqueue processor) Just, for clarification. You added another CPU to your system and then these Errors occur? Or did you do anything in addition? You could use the following SQL statements to remove and reinstall the SQL Agent Jobs: -- First check if there are sessions used by the DBProcessor. If so wait for them to be finished SELECT spid, PROGRAM_NAME, login_time, hostname FROM sys.sysprocesses WHERE PROGRAM_NAME LIKE 'SQLAgent%' AND dbid = DB_ID() -- if you need to remove the sql agents for D1IM, exec: EXEC QBM_PWatchDogPrepare 1 GO EXEC QBM_PDBQueuePrepare 1 GO -- To re-initialize the sql agents for D1IM, exec: EXEC QBM_PWatchDogPrepare 0 GO EXEC QBM_PDBQueuePrepare 0, 1 GO 27) \u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u044b \u043a\u043d\u043e\u043f\u043a\u0438 \u043f\u0440\u0438 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0438 email \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u041f\u0440\u0438\u0447\u0438\u043d\u0430 - \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f CentralAccount Name \u0420\u0435\u0448\u0435\u043d\u0438\u0435 - \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441\u043a\u0440\u0438\u043f\u0442, \u0447\u0442\u043e\u0431\u044b \u0431\u044b\u043b\u043e \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u043c\u0435\u043d\u0438 \u0438 \u0444\u0430\u043c\u0438\u043b\u0438\u0438, \u0442\u0430\u043a \u043a\u0430\u043a \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0434\u0435\u0444\u043e\u043b\u0442\u0443 \u043d\u0435 \u0441\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e 28) \u041f\u0443\u0441\u0442\u043e\u0439 \u043e\u0442\u0447\u0435\u0442 \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u043d\u0430 \u043f\u043e\u0447\u0442\u0443 \u041d\u0430\u0434\u043e \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043e\u0442\u0447\u0435\u0442\u0430 \u0441\u0434\u0435\u043b\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 29) Outstanding - \u043f\u043e\u043c\u0435\u0447\u0430\u0435\u0442 \u043d\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 http://www.identitymanager.tech/viewtopic.php?t=38 30) \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c AD \u043d\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u0442\u0441\u044f \u0432 \u043d\u0443\u0436\u043d\u0443\u044e OU \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u0432 \u0444\u0430\u0439\u043b\u0435 csv \u0434\u043e\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b \u041d\u0435 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f CentralAccName \u0412 Workflow Sync Editor \u043d\u0430\u0434\u043e \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 Data Import, \u0442\u043e\u0433\u0434\u0430 \u0444\u043b\u0430\u0433 FULLSYNC \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f! https://support.oneidentity.com/technical-documents/identity-manager/8.0/target-system-synchronization-reference-guide/7#TOPIC-863230 \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0442\u044c Data import \u0441\u0434\u0435\u043b\u0430\u043d\u0430 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0431\u044b\u043b\u043e \u043d\u0430\u043a\u043b\u0430\u0434\u043e\u043a \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0446\u0435\u043b\u0435\u0432\u044b\u043c\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438 \u043f\u043e\u043a\u0430 \u043e\u043d\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u0443\u044e\u0442\u0441\u044f. The session variable FullSync=FALSE is set if the option Data import is enabled. \u0415\u0449\u0435 \u043a\u0430\u043a \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u044f - \u0432 Manager \u0432 AD \u2013 \u043d\u0430 \u0434\u043e\u043c\u0435\u043d\u0435 - Execute Templates (\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u0432 \u0440\u0443\u0447\u043d\u0443\u044e) \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043b \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044e \u0438\u0437 AD \u2013 \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 Value = CBool(Connection.Variables(\"FULLSYNC\")) AndAlso _ CBool(values(\"AdHocDataFound\")) 31) \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043f\u043e\u043f\u0430\u0434\u0430\u0435\u0442 \u0432 \u0433\u0440\u0443\u043f\u043f\u0443, \u0447\u0435\u0440\u0435\u0437 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c - \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443 \u043d\u0435\u0433\u043e \u0441\u0442\u043e\u044f\u043b\u0430 \u0433\u0430\u043b\u043a\u0430 isGroupAccount 32) Application Server \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0438\u0437 \u0434\u0438\u0441\u0442\u0440\u0438\u0431\u0443\u0442\u0438\u0432\u0430 1IM!!! 33) \u041f\u043e\u0441\u043b\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 (Transport) \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u041f\u043e\u0447\u0435\u043c\u0443 \u0442\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f Base Object \u0443 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438. \u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c Base Object \u0418 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c Custom Target System \u0432 Manager \u041f\u0435\u0440\u0435\u0434 \u0438\u043c\u043f\u043e\u0440\u0442\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0438\u0437 CSV \u043d\u0430\u0434\u043e \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u044b! 34) History DB \u041d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438\u0437 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0411\u0414 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 Import Process Information directly \u041d\u0443\u0436\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0411\u0414 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0431\u044b\u043b\u043e (\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043e\u0447\u0435\u0440\u0435\u0434\u044c - Ctrl + D \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0435) 35) \u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u044e\u0442\u0441\u044f DataSources \u0432 \u043e\u0442\u0447\u0435\u0442\u0430\u0445 \u041d\u0435 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u043d\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0447\u0435\u0442. \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c Data Source, \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438 \u043f\u043e\u0442\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0430\u043c \u043e\u0442\u0447\u0435\u0442. 36) \u041e\u0442\u0447\u0435\u0442\u044b. \u041d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0433\u0440\u0443\u043f\u043f\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0433\u0440\u0443\u043f\u043f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 UNSAccountInUNSGroup 37) \u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b. \u0420\u0443\u0441\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u043f\u0435\u0447\u0430\u0442\u0430\u044e\u0442\u0441\u044f \u0438\u0435\u0440\u043e\u0433\u043b\u0438\u0444\u0430\u043c\u0438. \u041d\u0435 \u043d\u0443\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c fakeSMTP. \u041c\u043e\u0436\u043d\u043e \u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c Linux & postfix & dovecot \u043d\u0430 Windows 10 WSL. -- 38) API. \u0420\u0443\u0441\u0441\u043a\u0438\u0435 \u0431\u0443\u043a\u0432\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0438\u0435\u0440\u043e\u0433\u043b\u0438\u0444\u0430\u043c\u0438 \u041d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c charset=utf-8 \\$newURI = (Invoke-RestMethod -Uri \" https://t-oneim-4.domain/AppServer/api/entity/Person \" -WebSession \\$wsession -Method Post -Body \\$body -ContentType \"application/json; charset=utf-8 \").uri 39) History DB \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 UID_QBMDeployTarget \u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0432\u0435\u0440\u0441\u0438\u044e SQL (\u0435\u0441\u043b\u0438 \u0432 \u043e\u0448\u0438\u0431\u043a\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u0442\u0441\u044f NULL) https://www.oneidentity.com/community/identity-manager/f/forum/29784/error-installing-job-server/72824#72824 40) \u041c\u0430\u043f\u043f\u0438\u043d\u0433 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041e\u0434\u043d\u043e\u043c\u0443 Employee \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e AD \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u043e\u0432 \u041c\u0430\u043f\u043f\u0438\u0442\u044c \u043f\u043e \u0424\u0418\u041e \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e! \u0424\u0418\u041e + \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 41) \u0427\u0442\u043e\u0431\u044b \u043f\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 Custom Target Sysstems - \u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e\u0441\u0442\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440 \u0432 Sync Editor (\u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043b\u044f AD \u043a\u043e\u043d\u043d\u0435\u043a\u0442\u043e\u0440\u0430) \u041c\u043e\u0436\u043d\u043e \u0432 Designer \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c SQL \u0440\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0438 \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0433\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b - \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043f\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0441\u0432\u044f\u0437\u0438 - \u044d\u0442\u043e \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u044b\u0439 \u0441\u043f\u043e\u0441\u043e\u0431 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f 42) \u041e\u0448\u0438\u0431\u043a\u0430 [System.IO.FileNotFoundException] Could not load file or assembly 'VI.Projector.ADS.JobComponent' or one of its dependencies. \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0439\u0442\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b. \u041d\u0430\u0434\u043e \u0438\u0437 \u0434\u0438\u0441\u0442\u0440\u0438\u0431\u0443\u0442\u0438\u0432\u0430 C:\\distr\\OneIM8.1SP1\\Modules\\ADS\\install\\bin \u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0432 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u0447\u043d\u0443\u044e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e VI.Projector.ADS.JobComponent.dll 43) \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0443 \u043f\u0440\u0438 \u0443\u0432\u043e\u043b\u044c\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u041f\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u044e UPDATE ------- 44) \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f - \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u0442\u0441\u044f \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c, \u0447\u0435\u0440\u0435\u0437 csv \u041a\u043b\u044e\u0447\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0435\u0433\u043e GUID - \u043e\u043d \u043c\u0430\u043f\u0438\u0442\u0441\u044f \u0432 CustomProperty01 45) ITShop. \u041d\u0435 \u043f\u0440\u0438\u0445\u043e\u0434\u044f\u0442 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0430\u0442\u0442\u0435\u0441\u0442\u0443\u044e\u0449\u0438\u043c \u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 46) ITShop. \u041d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u0438\u0441\u044c\u043c\u0430 \u043f\u0440\u0438 approve \u0432 workflow \u0421\u043e\u0431\u044b\u0442\u0438\u0435 Granted \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b PersonWantsOrg (\u0434\u043b\u044f \u0448\u0430\u0433\u0430) OrderGranted - \u0434\u043b\u044f \u0432\u0441\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0446\u0435\u043b\u0438\u043a\u043e\u043c \u0415\u0441\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \"VI_ESS_PersonWantsOrg send mail when step granted\" \u041d\u0430\u0434\u043e \u0432 Workflow (\u0432 Manager) \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d \u0434\u043b\u044f Mail Template Approved, \u0447\u0442\u043e\u0431\u044b \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 \u0437\u0430\u0440\u0430\u0431\u043e\u0442\u0430\u043b! \u041c\u043e\u0436\u043d\u043e \u0434\u043b\u044f \u043f\u043e\u0447\u0442\u043e\u0432\u043e\u0433\u043e \u0448\u0430\u0431\u043b\u043e\u043d\u0430 (IT Shop request - approval granted to approval step) \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u044f\u0437\u044b\u043a \u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0438 \u0437\u0430\u043f\u0438\u043b\u0438\u0442\u044c \u043f\u043e\u0434 \u044d\u0442\u043e\u0442 \u044f\u0437\u044b\u043a \u0448\u0430\u0431\u043b\u043e\u043d - \u0442\u043e\u0433\u0434\u0430 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c. \u042f\u0437\u044b\u043a \u0448\u0430\u0431\u043b\u043e\u043d\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (employee) I\u0428\u0430\u0431\u043b\u043e\u043d\u044b \u043c\u043e\u0436\u043d\u043e \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 ObjectBrowser \u0412\u043a\u043b\u0430\u0434\u043a\u0430 Navigation \u0422\u0430\u0431\u043b\u0438\u0446\u0430 DialogRichMailBody - \u0442\u0430\u043c \u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f HTML \u043a\u043e\u0434 \u0434\u043b\u044f \u044f\u0437\u044b\u043a\u043e\u0432. 47) ITShop. \u041f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0443 \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0430: \"You do not have permission to assign a new manager\" \u0414\u0430\u043d\u044b \u043f\u0440\u0430\u0432\u0430 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0434\u043b\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e ITSHOP \u041f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0432 ITShop - \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 ITShop, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0430 \u043d\u0435\u0433\u043e \u043c\u043d\u043e\u0433\u043e \u0447\u0435\u0433\u043e \u0437\u0430\u0432\u044f\u0437\u0430\u043d\u043e - \u0438 \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2026 48) ITShop. \u041f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0434\u0435\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u0432\u044b\u0445\u043e\u0434\u0438\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \u0414\u0430\u043d\u044b \u043f\u0440\u0430\u0432\u0430 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0434\u043b\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e ITSHOP \u041f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0432 ITShop - \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 ITShop, \u0442\u0430\u043a \u043a\u0430\u043a \u043d\u0430 \u043d\u0435\u0433\u043e \u043c\u043d\u043e\u0433\u043e \u0447\u0435\u0433\u043e \u0437\u0430\u0432\u044f\u0437\u0430\u043d\u043e - \u0438 \u0434\u0438\u043b\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u2026 49) ITShop. \u041e\u0431\u0449\u0438\u0439 \u0448\u0430\u0431\u043b\u043e\u043d \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u041d\u0430\u0434\u043e, \u0447\u0442\u043e\u0431\u044b \u0441\u0442\u043e\u044f\u043b\u0438 \u0433\u0430\u043b\u043a\u0438 \u043a\u0430\u043a Public \u0442\u0430\u043a \u0438 Share Public template Specifies whether the request template is available to all One Identity Manager users. Shared Specifies whether the request template is can be used by all One Identity Manager users. This option can only be changed in Manager through the user with the application role Request & Fulfillment | IT Shop | Administrators . If the option Public template is not set on a shared template, the option Shared is also disabled. https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/it-shop-administration-guide/57 50) \u0427\u0442\u043e\u0431\u044b \u043d\u0435 \u0443\u0434\u0430\u043b\u044f\u043b\u0430\u0441\u044c \u0443\u0447\u0435\u0442\u043a\u0430, \u043a\u043e\u0433\u0434\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0432 1IM \u041d\u0430\u0434\u043e \u0432 Account Definition \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0438 51) \u041d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0443\u0447\u0435\u0442\u043a\u0430 AD, \u0435\u0441\u043b\u0438 \u0433\u0430\u043b\u043a\u0430 DataImport \u043d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0443 csv \u0432 Sync Editor \u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ADSAccount \u0443 \u043f\u043e\u043b\u044f UID_ADSContainer Template '\\$FK(UID_Person).UID_Department\\$ '\\$FK(UID_Person).UID_Locality\\$ '\\$FK(UID_Person).UID_ProfitCenter\\$ #If ORG Then '\\$FK(UID_Person).UID_Org\\$ #End If 'If CBool(Connection.Variables.Get(\"FULLSYNC\")) = False Then Select Case (\\$FK(UID_TSBBehavior).ITDataUsage:Int\\$) Case 0:'do not get data from employee Case -1:'fill property initially from the ITData of the employee If Not \\$[IsLoaded]:Bool\\$ Then If \\$FK(UID_Person).IsInActive:Bool\\$ Then Value = \"d0c905f9-4b2d-4db0-a47a-396fd139f9a6\" Else Value = TSB_ITDataFromOrg(\\$UID_Person\\$, \\$UID_TSBAccountDef\\$, Base.TableDef.Columns(\"UID_ADSContainer\")) End If End If Case 1:'update property depending on ITData of the employee If \\$FK(UID_Person).IsInActive:Bool\\$ Then '\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u043c \u0443\u0447\u0435\u0442\u043a\u0443 \u0432 OU \"\u0443\u0432\u043e\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438\", \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430 Value = \"d0c905f9-4b2d-4db0-a47a-396fd139f9a6\" Else Value = TSB_ITDataFromOrg(\\$UID_Person\\$, \\$UID_TSBAccountDef\\$, Base.TableDef.Columns(\"UID_ADSContainer\")) End If End Select 'End If 52) \u041f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f - \u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0435\u0433\u043e \u0443\u0447\u0435\u0442\u043a\u0438 AD \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u0435 OU \u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ADSAccount \u0443 \u043f\u043e\u043b\u044f UID_ADSContainer Template If \\$FK(UID_Person).IsInActive:Bool\\$ Then '\u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0435\u043c \u0443\u0447\u0435\u0442\u043a\u0443 \u0432 OU \"\u0443\u0432\u043e\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438\", \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u0430 Value = \"d0c905f9-4b2d-4db0-a47a-396fd139f9a6\" Else Value = TSB_ITDataFromOrg(\\$UID_Person\\$, \\$UID_TSBAccountDef\\$, Base.TableDef.Columns(\"UID_ADSContainer\")) End If \u0412 Account Definition \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0438 Retain 53) ITShop. \u0423\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b - \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 AD \u0433\u0440\u0443\u043f\u043f \u041d\u0430\u0434\u043e \u0432 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0435 \u0437\u0430\u0439\u0442\u0438 \u0432 ITShop \u2013 Service Catalog - \u0432\u044b\u0431\u0440\u0430\u0442\u044c Service Item \u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u043b\u044f \u043d\u0435\u0435 Not Available 54) \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0438\u0437 \u043e\u0442\u0434\u0435\u043b\u0430 \u0432 Manager. \u0423\u0447\u0435\u0442\u043a\u0430 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0432 Workflow CSV \u0441\u0442\u043e\u0438\u0442 DataImport. \u041d\u043e \u0442\u043e\u0433\u0434\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0440\u043e\u0439 \u0440\u043e\u043b\u0438 \u043d\u0430 n \u0434\u043d\u0435\u0439. \u0414\u043b\u044f \u0440\u0435\u0448\u0435\u043d\u0438\u044f \u043d\u0430\u0434\u043e \u0437\u0430\u0439\u0442\u0438 \u0432 \u0414\u0438\u0437\u0430\u0439\u043d\u0435\u0440 - \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 Person - Table Script \u0438 \u0432 \u0441\u043a\u0440\u0438\u043f\u0442\u0435 onSaved \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c Not \u043f\u0435\u0440\u0435\u0434 CBool 54) ITShop. \u041d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044e \u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0437\u0434\u0430\u043b \u0435\u0433\u043e \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0439 \u041d\u0443\u0436\u043d\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0441\u0442\u043e\u044f\u043b\u0430 \u0433\u0430\u043b\u043a\u0430 QER\\ITShop\\MailTemplateIdents\\RequestApproverByCollection QER\\Attestation\\MailTemplateIdents\\RequestApproverByCollection 55) \u0421\u0431\u0440\u043e\u0441 \u043d\u0435\u0443\u0434\u0430\u0447\u043d\u044b\u0445 \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0432\u0445\u043e\u0434\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f connect to back end of the database. step1. get the UID_dialoguser SELECT [UID_DialogUser] ,[UserName] ,[BadPasswordAttempts] FROM [OneIMGDS].[dbo].[DialogUser] where [UserName]='viadmin' step 2. use the [UID_DialogUser] from above to set the BadPasswordAttempts to 0 UPDATE [dbo].[DialogUser] SET [BadPasswordAttempts] = 0 WHERE [UID_DialogUser]='QBM-A60F9E5189134AFFB6711DFCBC3F260E' GO try login... good luck https://www.oneidentity.com/community/identity-manager/f/forum/30063/user-account-is-locked---not-able-to-log-in/73579#73579 56) \u0421\u0431\u0440\u043e\u0441 \u043f\u0430\u0440\u043e\u043b\u044f viadmin Access SQL Management Studio Remove system user password by using following querie Update DialogUser set password=[REDACTED] where username='viadmin' Run following command to make to 0 for default password policy i.e \u2018One Identity Manager password policy\u2019 From 8x onwards, all users passwords should comply with password policy Update QBMPwdPolicy set minlen=0 where DisplayName='%Globals.QIM_ProductNameShort% password policy' So above statement updates default password policy minimum length 8 to 0 Then open Launch Pad and login with viadmin/no password. After above steps and update Default Password Policy Minimum length to 8. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 = 8 \u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c 57) App \u0441\u0435\u0440\u0432\u0435\u0440 \u041f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 https - \u043d\u0435 \u0437\u0430\u0445\u043e\u0434\u0438\u0442 \u043f\u043e dns \u0438\u043c\u0435\u043d\u0438. \u0417\u0430\u0445\u043e\u0434\u0438\u0442 \u043f\u043e localhost 58) \u041f\u0440\u043e\u0446\u0435\u0441\u0441\u044b ITShop \u041d\u0430 \u0448\u0430\u0433\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0432 Workflow \u0433\u0434\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u044e\u0442\u0441\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0435 - \u0447\u0442\u043e\u0431\u044b \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0440\u0435\u0448\u0435\u043d\u0438 \u0432\u0441\u0435\u043c - \u0441\u0442\u0430\u0432\u0438\u043c Number of appreovers = +1 ITShop \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437 \u041d\u0430\u0434\u043e \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0438\u043f \u0440\u0435\u0441\u0443\u0440\u0441\u0430 \u043d\u0430 Multi-request resources \u0412 \u043c\u0435\u043d\u044e Entitlements \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u043b\u044f \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 Write permission denied for value IsTemporaryDeactivated \u0421\u043a\u043e\u0440\u0435\u0435 \u0432\u0441\u0435\u0433\u043e - \u044e\u0437\u0435\u0440 \u0437\u0430\u0434\u0438\u0437\u0430\u0431\u043b\u0435\u043d \u0438 \u043d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u043d\u0430 \u044d\u0442\u043e \u0421\u043a\u0440\u0438\u043f\u0442 \u043d\u0435 \u0432\u043d\u043e\u0441\u0438\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0438\u0437 \u0414\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430 \u0414\u043e \u043a\u043e\u043d\u0446\u0430 \u043d\u0435 \u043f\u043e\u043d\u044f\u0442\u043d\u043e, \u043d\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0440\u0435\u0448\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u043e\u043c \u0441\u043a\u0440\u0438\u043f\u0442\u0430, \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u0434\u0430\u043d\u0438\u0435, \u043d\u0430 JOB \u0441\u0435\u0440\u0432\u0435\u0440\u0435. \u0427\u0442\u043e\u0431\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u043e\u0441\u044c \u043e\u0434\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e \u043f\u043e \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f\u043c, \u0430 \u043d\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e QER\\ITShop\\MailTemplateIdents\\RequestApproverByCollection \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 PWO (PersonWantsOrg) \u0438\u0437 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u041b\u0443\u0447\u0448\u0435 \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0441 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0438 \u043f\u043e\u0434\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c, \u043a\u0430\u043a\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043e\u043d \u043f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u0417\u0430\u0432\u0438\u0441\u043b\u0430 \u043e\u0447\u0435\u0440\u0435\u0434\u044c dbqueue \u041f\u043f\u0446, \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043f\u043e\u043c\u043e\u0433\u0430\u043b\u043e, \u0432\u0438\u0441\u0435\u043b\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b Assignment \u0412 \u0438\u0442\u043e\u0433\u0435, \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0434\u043d\u0435\u0439 \u0440\u0430\u0437\u0434\u0443\u043c\u0438\u0439, \u043f\u043e\u0447\u0438\u0441\u0442\u0438\u043b \u0432\u0441\u0435 \u0437\u0430\u043f\u0438\u0441\u0448\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b - \u043f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b\u0430\u0441\u044c! \u041d\u0430 \u0432\u0441\u044f\u043a\u0438\u0439 \u0441\u043b\u0443\u0447\u0430\u0439 \u043e\u0441\u0442\u0430\u0432\u043b\u044e \u044d\u0442\u043e \u0437\u0434\u0435\u0441\u044c Title DBQueue Processor does not process tasks Description DBQueue Processor does not process tasks. No new tasks appear and/or existing tasks are not processing. What troubleshooting steps exist to resolve this issue? Resolution Execute the following steps in the database using a suitable query tool, e.g. SQL Management Studio. Stop all DBQueue Processor components. exec QBM_PWatchDogPrepare 1 go exec QBM_PDBQueuePrepare 1 go Check whether other database sessions are active. select * from sys.sysprocesses p where dbid = DB_ID() and spid \\<> @@SPID If there are still sessions active, they must be closed first. Create a new ServiceBroker ID and enable message delivery. alter database \\<database name> set NEW_BROKER go alter database \\<database name> set enable_broker go Initializing the DBQueue Processor. exec QBM_PDBQueuePrepare 0,1 go exec QBM_PWatchDogPrepare go From \\< https://support.oneidentity.com/identity-manager/kb/239099/dbqueue-processor-does-not-process-tasks > \u0418 \u0435\u0449\u0451 - \u0431\u044b\u043b\u043e \u043e\u0447\u0435\u043d\u044c \u043c\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0435, \u0442\u0430\u0431\u043b\u0438\u0446\u0430 DialogDashBoardContent \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u043b \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 Calculate Statistics! \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u043b \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 Calculate weekly Statistics! \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u043b \u0441\u043b\u0443\u0436\u0431\u0443 \u041b\u043e\u0433\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043d\u0430 SQL Server \u0425\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DialogJornal \u041d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043f\u043e\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u041d\u0430\u0434\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u0443 Account Definition \u0443 Manage Level \u0441\u0442\u043e\u0438\u0442 IT operating data overwrites = Always \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 values(\"SystemType\") \u0434\u043b\u044f AdHoc \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u041c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 DPRSchema SQLAgent https://support.oneidentity.com/identity-manager/kb/125598/sql-server-minimal-permissions-guide \u041e\u0448\u0438\u0431\u043a\u0430: Database error 41313: The C compiler encountered a failure. The exit code was 2. \u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u043e\u0441\u044c \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f \u0411\u0414","title":"PWOHelperPWO"},{"location":"5.%20Troubleshooting/#makedecision","text":"Getting error \"This employee is not authorized to make approvals\"in \"MakeDecision\" method. - Forum - Identity Manager Community - One Identity Community","title":"\u041d\u0435 \u043e\u0442\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043c\u0435\u0442\u043e\u0434 MakeDecision"},{"location":"5.%20Troubleshooting/#html","text":"Then please take a look at the documentation here. https://support.oneidentity.com/technical-documents/identity-manager/8.1.3/operational-guide/13#TOPIC-1481201 You need to create a script that created your HTML code and returns this as a string parameter. To avoid the escaping of the script result, you need to tag the script call in your mal template with \\$SCRIPT(\\<Your script name>):HTML\\$ From \\< https://www.oneidentity.com/community/identity-manager/f/forum/32756/insert-html-in-mail-templates >","title":"\u0412 \u043f\u0438\u0441\u044c\u043c\u0435 (\u0448\u0430\u0431\u043b\u043e\u043d) \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f HTML, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d, \u0447\u0435\u0440\u0435\u0437 \u0441\u043a\u0440\u0438\u043f\u0442"},{"location":"5.%20Troubleshooting/#_1","text":"https://support.oneidentity.com/technical-documents/identity-manager/8.1.3/operational-guide/13#TOPIC-1481199","title":"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432 \u0432\u043d\u0443\u0442\u0440\u0438 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0445 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"},{"location":"5.%20Troubleshooting/#ad","text":"\u0414\u043b\u044f AD \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d\u0430 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043f\u0430\u0440\u043e\u043b\u0435\u0439. Designer-> BaseData-> Security Settings -> Password policies \u0412 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 Assignments \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0438\u043b\u0438 \u043d\u0430 Account Definitions ( TSBAccDef ) \u0438\u043b\u0438 \u043d\u0430 \u0432\u0435\u0441\u044c \u0434\u043e\u043c\u0435\u043d (ADSDomain) \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0430, \u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0434\u043b\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043f\u0430\u0440\u043e\u043b\u044f \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u0441 \u0444\u043b\u0430\u0433\u043e\u043c - Default Policy \u0438 \u044d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043a \u043e\u0448\u0438\u0431\u043a\u0430\u043c \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u0432 AD \u0443\u0437!!! \u0427\u0442\u043e\u0431\u044b \u043f\u0430\u0440\u043e\u043b\u044c \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0441\u044f \u0434\u043b\u044f \u0443\u0437 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 TargetSystem\\ADS\\Accounts\\InitialRandomPassword","title":"\u0414\u043b\u044f \u0443\u0437 AD \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043f\u0430\u0440\u043e\u043b\u044c \u0438\u043b\u0438 \u043e\u043d \u043d\u0435 \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"},{"location":"5.%20Troubleshooting/#custom-target-system-manager","text":"In the Designer, set the TargetSystem | UNS | CreateNewRoot configuration parameter and compile the database. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/34048/how-can-i-enable-the-menu-custom-target-system/82977 >","title":"\u041d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043c\u0435\u043d\u044e Custom Target System \u0432 Manager"},{"location":"5.1%20%D0%9F%D1%80%D0%B8%20%D0%B8%D0%BC%D0%BF%D0%BE%D1%80%D1%82%D0%B5%20%D1%82%D1%80%D0%B0%D0%BD%D1%81%D0%BF%D0%BE%D1%80%D1%82%D0%BD%D0%BE%D0%B3%D0%BE%20%D0%BF%D0%B0%D0%BA%D0%B5%D1%82%D0%B0%20%D1%82%D1%80%D0%B5%D0%B1%D1%83%D0%B5%D1%82%D1%81%D1%8F%20Single%20user%20mode%20%D0%B4%D0%BB%D1%8F%20%D0%91%D0%94/","text":"5.1 \u041f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f Single user mode \u0434\u043b\u044f \u0411\u0414 15 \u044f\u043d\u0432\u0430\u0440\u044f 2026 \u0433. 15:42 \u041d\u0430\u0434\u043e \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c Favorite objects. Object transport \u0442\u0440\u0435\u0431\u0443\u0435\u0442 Single user mode","title":"5.1 \u041f\u0440\u0438 \u0438\u043c\u043f\u043e\u0440\u0442\u0435 \u0442\u0440\u0430\u043d\u0441\u043f\u043e\u0440\u0442\u043d\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f Single user mode \u0434\u043b\u044f \u0411\u0414"},{"location":"5.2%20%D0%9F%D1%80%D0%B8%20%D0%BF%D0%B5%D1%80%D0%B5%D0%BD%D0%BE%D1%81%D0%B5%20Schema%20extensions%20%D0%B2%D0%BE%D0%B7%D0%BD%D0%B8%D0%BA%D0%B0%D0%B5%D1%82%20%D0%BE%D1%88%D0%B8%D0%B1%D0%BA%D0%B0%20%D0%B8%20%D1%81%D1%85%D0%B5%D0%BC%D0%B0%20%D0%BD%D0%B5%20%D1%80%D0%B0%D1%81%D1%88%D0%B8%D1%80%D0%B5%D0%BD%D0%B0%20%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D0%BE/","text":"5.2 \u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0435 Schema extensions \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \u0438 \u0441\u0445\u0435\u043c\u0430 \u043d\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e 17 \u0438\u044e\u043d\u044f 2025 \u0433. 10:22 \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c Consistency Check \u0438 \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0438! \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 (\u043b\u0443\u0447\u0448\u0435 \u0447\u0435\u0440\u0435\u0437 Schema Extension - \u0432 Production \u043d\u0435 \u0434\u0430\u0441\u0442 \u0443\u0434\u0430\u043b\u0438\u0442\u044c, \u043d\u0430\u0434\u043e \u043f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0432 Dev \u0438\u043b\u0438 Test \u0411\u0414!!!) ObjectBrowser: EXEC QBM_PTableDrop @TableName = 'CCCFilesAgreed'; \u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c Consistency Check \u0415\u0441\u043b\u0438 \u0431\u044b\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 Consistency Check: \"Missing Unique Key for Xobjectkey From \\< https://www.oneidentity.com/community/identity-manager/f/forum/31974/error-while-running-db-consistency-check > \" \u0442\u043e \u043e\u043d\u0430 \u0443\u0439\u0434\u0435\u0442! EXEC QBM_PColumnDrop @TableName = 'MyTable', @ColumnName = 'ObsoleteColumn'; QBM_PColumnDrop @TableName nvarchar(64), @columnname nvarchar(64) QBM_PTableDrop @TableName nvarchar(64) , @force bit = 0 and then compile the database. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/33677/removing-custom-schema-extension-in-prd/89317 >","title":"5.2 \u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0435 Schema extensions \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \u0438 \u0441\u0445\u0435\u043c\u0430 \u043d\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e"},{"location":"5.3%20Maintenance%20Mode/","text":"5.3 Maintenance Mode 4 \u043c\u0430\u0440\u0442\u0430 2025 \u0433. 14:47 Description Receiving an alert that states \"The One Identity Manager database is in maintenance mode\" on the system tray of front-end tools such as Manager and Designer. Click To See Full Image. What is \"Maintenance Mode\"? How can this be enabled/disabled? A compile generates the following error: Click To See Full Image. Cause As the error message implies, the system has detected that some of the triggers in the One Identity Manager database have been disabled. To protect the system from data corruption, the system falls into \"maintenance mode\". This protection is new in version 8. One reason for this is that there are custom triggers that are disabled. Resolution To determine the reason for the message \"[810365] A system maintenance is running\", you can use the following SQL statement: select dbo.QBM_FGIMaintenanceRunning() There are 3 possible reasons for this: If it still returns \"Triggers disabled\" there MUST be disabled triggers. Check for disabled triggers: -- show disabled triggers select o.name as 'Table', t.name as 'Disabled trigger' from sys.objects o join sys.triggers t on o.object_id = t.parent_id where o.type in( 'U' ) and t.is_disabled = 1 An \"exec QBM_PTriggerEnable\" would solve this. Another possible reason is \"Constraints disabled\". In which case the following SQL can be used to repair it: exec QBM_PConstraintEnable And the third possible reason would be the database is in \"Single user\" mode. From \\< https://support.oneidentity.com/kb/4345487/what-is-one-identity-manager-maintenance-mode >","title":"5.3 Maintenance Mode"},{"location":"5.4%20DBQueue%20Processor%20does%20not%20process%20tasks/","text":"5.4 DBQueue Processor does not process tasks 19 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2024 \u0433. 15:36 Title DBQueue Processor does not process tasks Description DBQueue Processor does not process tasks. No new tasks appear and/or existing tasks are not processing. What troubleshooting steps exist to resolve this issue? Resolution *Please note that the following steps apply to version 8.2.1 and below only. *** 1. Execute the following steps in the database using a suitable query tool, e.g. SQL Management Studio: ** Stop all DBQueue Processor components. exec QBM_PWatchDogPrepare 1 go exec QBM_PDBQueuePrepare 1 go **2. Check whether other database sessions are active: ** select * from sys.sysprocesses p where dbid = DB_ID() and spid \\<> @@SPID If there are still sessions active, they must be closed first. **3. Create a new ServiceBroker ID and enable message delivery: ** alter database \\<database name> set NEW_BROKER go alter database \\<database name> set enable_broker go Initializing the DBQueue Processor. exec QBM_PDBQueuePrepare 0,1 go exec QBM_PWatchDogPrepare go From \\< https://support.oneidentity.com/identity-manager/kb/4349273/dbqueue-processor-does-not-process-tasks >","title":"5.4 DBQueue Processor does not process tasks"},{"location":"5.5%20%D0%9C%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5%20%D0%B2%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20Membership%20of%20UNS%20user%20accounts%20in%20UNS%20group/","text":"5.5 \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \"Membership of UNS user accounts in UNS group\" 12 \u0430\u043f\u0440\u0435\u043b\u044f 2024 \u0433. 17:18 \u041f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 TSB_ZUNSAccountBInUNSGroupB","title":"5.5 \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u043e\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 Membership of UNS user accounts in UNS group"},{"location":"5.6%20%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%BD%D0%BE%D0%B2%D0%BE%D0%B3%D0%BE%20Service%20Broker/","text":"5.6 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e Service Broker 12 \u0430\u043f\u0440\u0435\u043b\u044f 2024 \u0433. 9:49 \u0411\u044b\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: \"Service Broker not enabled for this Database\" \u041d\u0430\u0434\u043e \u0435\u0433\u043e \u043f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0432 SSMS \u0412 JobQueueInfo \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0435 Jobs 1. Stop all DBQueue processor components and ensure the Job Queue is empty: exec QBM_PWatchDogPrepare 1 go exec QBM_PDBQueuePrepare 1 go \u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0411\u0414 (Manager, Designer\u2026, \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u0443\u0436\u0431\u0443 Job Service) 2. Check whether additional sessions are active on the database: select * from sys.sysprocesses p WHERE dbid = DB_ID () and SPID \\<>@@SPID If there are other active sessions running, they must be completed. 3. Create a new Service Broker ID and enable message delivery: alter database \\<database name> set NEW_BROKER go alter database \\<database name> set ENABLE_BROKER go 4. Initialization of DBQueue processor: exec QBM_PDBQueuePrepare 0,1 go exec QBM_PWatchDogPrepare go From \\< https://support.oneidentity.com/identity-manager/kb/4320879/identity-manager-upgrade-error-50000-cannot-enable-broker-because-of-other-users-are-active >","title":"5.6 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e Service Broker"},{"location":"5.7%20%D0%9C%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20Rebuild%20Table%20Index/","text":"5.7 \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439 Rebuild Table Index 9 \u0430\u043f\u0440\u0435\u043b\u044f 2024 \u0433. 16:41 QBM_ZIndexRebuild 8.1.3 USE [OneIM] GO /****** Object: StoredProcedure [dbo].[QBM_ZIndexRebuild] Script Date: 09.04.2024 16:48:06 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_ZIndexRebuild] ( @SlotNumberDummy int , @TableName varchar(38), @dummy1 varchar(38) = '', @dummy2 varchar(38) = '' ) as begin BEGIN TRY exec QBM_PIndexRebuild @TableName END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH end 8.2 USE [OneIM82] GO /****** Object: StoredProcedure [dbo].[QBM_ZIndexRebuild] Script Date: 09.04.2024 16:55:14 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_ZIndexRebuild] ( @SlotNumberDummy int , @TableName varchar(38), @dummy1 varchar(38) = '', @GenProcID varchar(38) = '' ) as begin declare @Message nvarchar(1000) = '#LDS#Reindexing of {0} was not performed due to the size of the table.|' + @tablename + '|' BEGIN TRY if ISNULL(@GenProcID , '') = '' begin select @GenProcID = dbo.QBM_FGISessionContext('') end if exists (select top 1 1 from DialogTable t where t.TableName = @tableName and ( t.SizeMB > 1024.0 or dbo.QBM_FGITableCountAll(t.TableName) > 1000000 ) ) begin exec QBM_PJournal @Message, @@procid, 'I', 'I', 100 goto endLabel end if 1=0 begin exec QBM_PIndexRebuild @TableName end else begin declare @SQL33734 nvarchar(max) = concat('exec QBM_PIndexRebuild ''', @TableName, '''' ) exec QBM_PJobCreate_Mnt @SQL33734, @GenProcID end END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH endLabel: return end QBM_PJobCreate_Mnt USE [OneIM82] GO /****** Object: StoredProcedure [dbo].[QBM_PJobCreate_Mnt] Script Date: 10.04.2024 15:41:09 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO create procedure [dbo].[QBM_PJobCreate_Mnt] (@SQLCmd nvarchar(max) , @GenProcID varchar(38) ) as begin declare @Parameters QBM_YParameterList declare @ComponentClass nvarchar(256) = 'VI.JobService.JobComponents.SQLComponent' declare @TaskName nvarchar(64) = 'Execute SQL' declare @QueueName nvarchar(128) = case dbo.QBM_FGIWithoutAgentAndBroker () when 0 then 'QBM_PDBQueueProcess_Mnt' else 'QBM_PWorkMaintenance' end BEGIN TRY insert into @Parameters (Parameter1, ContentFull) values ('SQLStmt' , @sqlcmd) , ('WithoutTransaction', '1') if not exists (select top 1 1 from JobQueue q with (readpast) where q.ComponentClass = @ComponentClass and q.TaskName = @TaskName and q.Queue = @QueueName and q.ParamIN like CONCAT('%', replace(@SQLCmd, '''', ''''''), '%') ) begin exec QBM_PJobCreate @ComponentClass , @TaskName , @Parameters , @GenProcID , @ObjectKeysAffected = default , @QueueName = @QueueName end END TRY BEGIN CATCH declare @ErrorMessage nvarchar (4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed @GenProcID RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH ende: return end GO QBM_PIndexRebuild 8.1.3 USE [OneIM] GO /****** Object: StoredProcedure [dbo].[QBM_PIndexRebuild] Script Date: 09.04.2024 16:49:11 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_PIndexRebuild] ( @TableName nvarchar(30) ) as begin declare @SQLcmd nvarchar(max) declare @tableID int declare @SQLcmds QBM_YCursorBuffer declare @ElementCount int declare @ElementIndex int declare @DebugStarttime datetime = getutcdate() declare @DebugLevel char(1) = 'W' BEGIN TRY if @@TRANCOUNT > 0 begin goto endlabel end if isnull(@TableName, '') = '' begin goto ende end select @tableID = null select top 1 @tableID = OBJECT_ID from sys.tables where name = @TableName exec QBM_PTableLockEscalationSet @TableName if @TableName in (select TableName from QBM_VHeavyLoadTables ) begin goto ende end if not exists (select top 1 1 from information_schema.tables where table_name = @TableName and table_type = 'BASE TABLE' ) or @tableID is null begin select @SQLcmd = N'No reorganize for Table ' + @TableName + N' Table not exists' exec QBM_PJournal @SQLcmd, @@procid, 'W', @DebugLevel goto ende end insert into @SQLcmds (ContentFull) SELECT N'ALTER INDEX \"' + x.indexname + N'\" ON ' + schemaname + N'.' + x.TableName + case when percentFrag \\< 20.0 and index_id > 1 then N' REORGANIZE' else dbo.QBM_FGIDBServerIndexRebuildOpt(x.TableName) end from ( select distinct OBJECT_SCHEMA_NAME(frag.object_id) as schemaname , OBJECT_NAME(frag.object_id) as TableName, six.name as indexname, frag.avg_fragmentation_in_percent as percentFrag , frag.index_id from ( select fr.object_id , fr.index_id, sum(convert(float, record_count) * avg_fragmentation_in_percent / 100.0)/ sum(convert(float, record_count)) * 100.0 as avg_fragmentation_in_percent FROM sys.dm_db_index_physical_stats ( DB_ID(), @tableID, DEFAULT, 0, 'detailed' ) as fr where fr.record_count > 0 group by fr.object_id, fr.index_id ) as frag JOIN sys.indexes six ON frag.object_id = six.object_id AND frag.index_id = six.index_id where six.name is not null and frag.avg_fragmentation_in_percent > 10.0 and frag.object_ID = @tableID and six.is_hypothetical = 0 ) as x where TableName = @TableName order by x.index_id select @ElementCount = @@rowcount if @ElementCount > 0 begin select @SQLCmd = N'ALTER INDEX ALL ON ' + @TableName + N' SET (ALLOW_PAGE_LOCKS = ON)' exec QBM_PJournal @SQLcmd, @@PROCID , 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @ElementIndex = 1 while @ElementIndex \\<= @ElementCount begin select top 1 @SQLcmd = bu.ContentFull from @SQLcmds bu where bu.ElementIndex = @ElementIndex exec QBM_PJournal @sqlcmd, @@PROCID, 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @ElementIndex += 1 end end select @SQLCmd = N'ALTER INDEX ALL ON ' + @TableName + N' SET (ALLOW_ROW_LOCKS = ON)' exec QBM_PJournal @SQLcmd, @@PROCID , 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @SQLCmd = N'ALTER INDEX ALL ON ' + @TableName + N' SET (ALLOW_PAGE_LOCKS = OFF)' exec QBM_PJournal @SQLcmd, @@PROCID, 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @SQLCmd = N'UPDATE STATISTICS ' + @TableName + N' WITH FULLSCAN ' exec QBM_PExecuteSQL @SQLcmd, @@procid ende: return END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH endLabel: return end 8.2 USE [OneIM82] GO /****** Object: StoredProcedure [dbo].[QBM_PIndexRebuild] Script Date: 09.04.2024 16:52:38 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_PIndexRebuild] ( @TableName nvarchar(30) ) as begin declare @SQLcmd nvarchar(max) declare @tableID int declare @SQLcmds QBM_YCursorBuffer declare @ElementCount int declare @ElementIndex int declare @DebugLevel char(1) = 'W' declare @GenProcID varchar(38) = dbo.QBM_FGISessionContext('') BEGIN TRY if @@TRANCOUNT > 0 begin goto endlabel end if isnull(@TableName, '') = '' begin goto ende end select @tableID = null select top 1 @tableID = OBJECT_ID from sys.tables where name = @TableName exec QBM_PTableLockEscalationSet @TableName if @TableName in (select TableName from QBM_VHeavyLoadTables ) begin goto ende end if not exists (select top 1 1 from information_schema.tables where table_name = @TableName and table_type = 'BASE TABLE' ) or @tableID is null begin select @SQLcmd = N'No reorganize for Table ' + @TableName + N' Table not exists' exec QBM_PJournal @SQLcmd, @@procid, 'W', @DebugLevel goto ende end insert into @SQLcmds (ContentFull) SELECT N'ALTER INDEX \"' + x.indexname + N'\" ON ' + schemaname + N'.' + x.TableName + case when percentFrag \\< 20.0 and index_id > 1 then N' REORGANIZE' else dbo.QBM_FGIDBServerIndexRebuildOpt(x.TableName) end from ( select distinct OBJECT_SCHEMA_NAME(frag.object_id ) as schemaname, OBJECT_NAME(frag.object_id) as TableName, six.name as indexname, frag.avg_fragmentation_in_percent as percentFrag , frag.index_id from ( select fr.object_id, fr.index_id, sum(convert(float, record_count) * avg_fragmentation_in_percent / 100.0)/ sum(convert(float, record_count)) * 100.0 as avg_fragmentation_in_percent FROM sys.dm_db_index_physical_stats ( DB_ID(), @tableID, DEFAULT, 0, 'detailed' ) as fr where fr.record_count > 0 group by fr.object_id, fr.index_id ) as frag JOIN sys.indexes six with (readpast) ON frag.object_id = six.object_id AND frag.index_id = six.index_id where six.name > ' ' and frag.avg_fragmentation_in_percent > 10.0 and frag.object_ID = @tableID and six.is_hypothetical = 0 ) as x where TableName = @TableName order by x.index_id select @ElementCount = @@rowcount if @ElementCount > 0 begin select @SQLCmd = N'ALTER INDEX ALL ON ' + @TableName + N' SET (ALLOW_PAGE_LOCKS = ON)' exec QBM_PJournal @SQLcmd, @@PROCID , 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @ElementIndex = 1 while @ElementIndex \\<= @ElementCount begin select top 1 @SQLcmd = bu.ContentFull from @SQLcmds bu where bu.ElementIndex = @ElementIndex exec QBM_PJournal @sqlcmd, @@PROCID, 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @ElementIndex += 1 end end exec QBM_PSetRowLockOnly @TableName if not exists (select top 1 1 from DialogDBQueue q with (readpast) where q.UID_Task = 'QBM-K-UpdateStatistics' ) begin exec QBM_PDBQueueInsert_Single 'QBM-K-UpdateStatistics', '', '', @GenProcID end ende: return END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity () select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState ) WITH NOWAIT END CATCH endLabel: return end PSetRowLockOnly USE [OneIM82] GO /****** Object: StoredProcedure [dbo].[QBM_PSetRowLockOnly] Script Date: 09.04.2024 16:59:09 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_PSetRowLockOnly] (@TablePattern nvarchar(64) = '%' ) as begin declare @SQLcmd1 nvarchar(1024) declare @SQLcmd2 nvarchar(1024) declare @ElementBuffer QBM_YCursorBuffer declare @ElementCount int declare @ElementIndex int declare @DebugSwitch int = 0 BEGIN TRY set nocount on insert into @ElementBuffer(ContentShort , ContentFull ) select case i.allow_row_locks when 0 then concat('exec sp_indexoption ''' , o.name , '.' , t.name , case when i.type_desc = 'HEAP' and i.name is null then '' else '.' + i.name end , ''', ''AllowRowLocks'', ''True'' ' ) else '' end , case i.allow_page_locks when 1 then concat('exec sp_indexoption ''' , o.name , '.' , t.name , case when i.type_desc = 'HEAP' and i.name is null then '' else '.' + i.name end , ''', ''AllowPageLocks'', ''False'' ' ) else '' end from sys.tables t join sys.schemas o on t.schema_id = o.schema_id and dbo.QBM_FGIObjectIsDropable (o.schema_id)=1 join sys.indexes i on i.object_id = t.object_id where t.type = 'U' and t.name like @TablePattern and t.is_memory_optimized = 0 and i.is_hypothetical = 0 and t.name not like 'sys%' and t.name not like 'ms%' and t.name not like 'IH%' and t.name not like 'conflict%' and (i.allow_row_locks = 0 or i.allow_page_locks = 1 ) and i.type_desc in ('CLUSTERED', 'NONCLUSTERED', 'HEAP') order by o.name, t.name, i.name select @ElementCount = @@ROWCOUNT select @ElementIndex = 1 while @ElementIndex \\<= @ElementCount begin select top 1 @SQLcmd1 = bu.ContentShort , @SQLcmd2 = bu.ContentFull from @ElementBuffer bu where bu.ElementIndex = @ElementIndex if @DebugSwitch > 0 begin print @SQLcmd1 print @SQLcmd2 end if @SQLcmd1 > ' ' begin exec QBM_PExecuteSQL @SQLcmd1, @@procid end if @SQLcmd2 > ' ' begin exec QBM_PExecuteSQL @SQLcmd2, @@procid end select @ElementIndex += 1 end END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage () exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH end -------- -------- \u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u044f 1. \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 - \u0437\u0430\u0433\u043b\u0443\u0448\u043a\u0443 SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO CREATE PROCEDURE [dbo].[ClearProc] AS BEGIN SET NOCOUNT ON; END GO \u0412\u043d\u043e\u0441\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 QBM_ZIndexRebuild USE [OneIM] GO /****** Object: StoredProcedure [dbo].[QBM_ZIndexRebuild] Script Date: 12.04.2024 11:53:34 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_ZIndexRebuild] ( @SlotNumberDummy int , @TableName varchar(38), @dummy1 varchar(38) = '', @dummy2 varchar(38) = '' ) as begin BEGIN TRY exec ClearProc END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH end \u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u044f 2 \u0412\u043d\u043e\u0441\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 QBM_ZIndexRebuild \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 \u0411\u0414 \u0438 \u043a\u043e\u043b-\u0432\u0430 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u043d\u0438\u0445 USE [OneIM] GO /****** Object: StoredProcedure [dbo].[QBM_ZIndexRebuild] Script Date: 12.04.2024 11:53:34 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER PROCEDURE [dbo].[QBM_ZIndexRebuild] ( @SlotNumberDummy INT, @TableName VARCHAR(38), @dummy1 VARCHAR(38) = '', @dummy2 VARCHAR(38) = '' ) AS BEGIN DECLARE @Message NVARCHAR(1000) = '#LDS#Reindexing of {0} was not performed due to the size of the table.|' + @tablename + '|' BEGIN TRY IF EXISTS ( SELECT TOP 1 1 FROM DialogTable t WHERE t.TableName = @tableName AND ( t.SizeMB > 1024.0 OR dbo.QBM_FGITableCountAll(t.TableName) > 1000000 ) ) BEGIN EXEC QBM_PJournal @Message, @@procid, 'I', 'I', 100 GOTO endLabel END BEGIN EXEC QBM_PIndexRebuild @TableName END END TRY BEGIN CATCH DECLARE @ErrorMessage NVARCHAR(4000) DECLARE @ErrorSeverity INT DECLARE @ErrorState INT SELECT @ErrorSeverity = dbo.QBM_FGIErrorSeverity() SELECT @ErrorState = 1 SELECT @ErrorMessage = dbo.QBM_FGIErrorMessage() EXEC QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH endLabel: RETURN END","title":"5.7 \u041c\u0435\u0434\u043b\u0435\u043d\u043d\u044b\u0439 Rebuild Table Index"},{"location":"5.7%20%D0%9C%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20Rebuild%20Table%20Index/#qbm_zindexrebuild","text":"8.1.3 USE [OneIM] GO /****** Object: StoredProcedure [dbo].[QBM_ZIndexRebuild] Script Date: 09.04.2024 16:48:06 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_ZIndexRebuild] ( @SlotNumberDummy int , @TableName varchar(38), @dummy1 varchar(38) = '', @dummy2 varchar(38) = '' ) as begin BEGIN TRY exec QBM_PIndexRebuild @TableName END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH end 8.2 USE [OneIM82] GO /****** Object: StoredProcedure [dbo].[QBM_ZIndexRebuild] Script Date: 09.04.2024 16:55:14 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_ZIndexRebuild] ( @SlotNumberDummy int , @TableName varchar(38), @dummy1 varchar(38) = '', @GenProcID varchar(38) = '' ) as begin declare @Message nvarchar(1000) = '#LDS#Reindexing of {0} was not performed due to the size of the table.|' + @tablename + '|' BEGIN TRY if ISNULL(@GenProcID , '') = '' begin select @GenProcID = dbo.QBM_FGISessionContext('') end if exists (select top 1 1 from DialogTable t where t.TableName = @tableName and ( t.SizeMB > 1024.0 or dbo.QBM_FGITableCountAll(t.TableName) > 1000000 ) ) begin exec QBM_PJournal @Message, @@procid, 'I', 'I', 100 goto endLabel end if 1=0 begin exec QBM_PIndexRebuild @TableName end else begin declare @SQL33734 nvarchar(max) = concat('exec QBM_PIndexRebuild ''', @TableName, '''' ) exec QBM_PJobCreate_Mnt @SQL33734, @GenProcID end END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH endLabel: return end QBM_PJobCreate_Mnt USE [OneIM82] GO /****** Object: StoredProcedure [dbo].[QBM_PJobCreate_Mnt] Script Date: 10.04.2024 15:41:09 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO create procedure [dbo].[QBM_PJobCreate_Mnt] (@SQLCmd nvarchar(max) , @GenProcID varchar(38) ) as begin declare @Parameters QBM_YParameterList declare @ComponentClass nvarchar(256) = 'VI.JobService.JobComponents.SQLComponent' declare @TaskName nvarchar(64) = 'Execute SQL' declare @QueueName nvarchar(128) = case dbo.QBM_FGIWithoutAgentAndBroker () when 0 then 'QBM_PDBQueueProcess_Mnt' else 'QBM_PWorkMaintenance' end BEGIN TRY insert into @Parameters (Parameter1, ContentFull) values ('SQLStmt' , @sqlcmd) , ('WithoutTransaction', '1') if not exists (select top 1 1 from JobQueue q with (readpast) where q.ComponentClass = @ComponentClass and q.TaskName = @TaskName and q.Queue = @QueueName and q.ParamIN like CONCAT('%', replace(@SQLCmd, '''', ''''''), '%') ) begin exec QBM_PJobCreate @ComponentClass , @TaskName , @Parameters , @GenProcID , @ObjectKeysAffected = default , @QueueName = @QueueName end END TRY BEGIN CATCH declare @ErrorMessage nvarchar (4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed @GenProcID RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH ende: return end GO","title":"QBM_ZIndexRebuild"},{"location":"5.7%20%D0%9C%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20Rebuild%20Table%20Index/#qbm_pindexrebuild","text":"8.1.3 USE [OneIM] GO /****** Object: StoredProcedure [dbo].[QBM_PIndexRebuild] Script Date: 09.04.2024 16:49:11 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_PIndexRebuild] ( @TableName nvarchar(30) ) as begin declare @SQLcmd nvarchar(max) declare @tableID int declare @SQLcmds QBM_YCursorBuffer declare @ElementCount int declare @ElementIndex int declare @DebugStarttime datetime = getutcdate() declare @DebugLevel char(1) = 'W' BEGIN TRY if @@TRANCOUNT > 0 begin goto endlabel end if isnull(@TableName, '') = '' begin goto ende end select @tableID = null select top 1 @tableID = OBJECT_ID from sys.tables where name = @TableName exec QBM_PTableLockEscalationSet @TableName if @TableName in (select TableName from QBM_VHeavyLoadTables ) begin goto ende end if not exists (select top 1 1 from information_schema.tables where table_name = @TableName and table_type = 'BASE TABLE' ) or @tableID is null begin select @SQLcmd = N'No reorganize for Table ' + @TableName + N' Table not exists' exec QBM_PJournal @SQLcmd, @@procid, 'W', @DebugLevel goto ende end insert into @SQLcmds (ContentFull) SELECT N'ALTER INDEX \"' + x.indexname + N'\" ON ' + schemaname + N'.' + x.TableName + case when percentFrag \\< 20.0 and index_id > 1 then N' REORGANIZE' else dbo.QBM_FGIDBServerIndexRebuildOpt(x.TableName) end from ( select distinct OBJECT_SCHEMA_NAME(frag.object_id) as schemaname , OBJECT_NAME(frag.object_id) as TableName, six.name as indexname, frag.avg_fragmentation_in_percent as percentFrag , frag.index_id from ( select fr.object_id , fr.index_id, sum(convert(float, record_count) * avg_fragmentation_in_percent / 100.0)/ sum(convert(float, record_count)) * 100.0 as avg_fragmentation_in_percent FROM sys.dm_db_index_physical_stats ( DB_ID(), @tableID, DEFAULT, 0, 'detailed' ) as fr where fr.record_count > 0 group by fr.object_id, fr.index_id ) as frag JOIN sys.indexes six ON frag.object_id = six.object_id AND frag.index_id = six.index_id where six.name is not null and frag.avg_fragmentation_in_percent > 10.0 and frag.object_ID = @tableID and six.is_hypothetical = 0 ) as x where TableName = @TableName order by x.index_id select @ElementCount = @@rowcount if @ElementCount > 0 begin select @SQLCmd = N'ALTER INDEX ALL ON ' + @TableName + N' SET (ALLOW_PAGE_LOCKS = ON)' exec QBM_PJournal @SQLcmd, @@PROCID , 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @ElementIndex = 1 while @ElementIndex \\<= @ElementCount begin select top 1 @SQLcmd = bu.ContentFull from @SQLcmds bu where bu.ElementIndex = @ElementIndex exec QBM_PJournal @sqlcmd, @@PROCID, 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @ElementIndex += 1 end end select @SQLCmd = N'ALTER INDEX ALL ON ' + @TableName + N' SET (ALLOW_ROW_LOCKS = ON)' exec QBM_PJournal @SQLcmd, @@PROCID , 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @SQLCmd = N'ALTER INDEX ALL ON ' + @TableName + N' SET (ALLOW_PAGE_LOCKS = OFF)' exec QBM_PJournal @SQLcmd, @@PROCID, 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @SQLCmd = N'UPDATE STATISTICS ' + @TableName + N' WITH FULLSCAN ' exec QBM_PExecuteSQL @SQLcmd, @@procid ende: return END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH endLabel: return end 8.2 USE [OneIM82] GO /****** Object: StoredProcedure [dbo].[QBM_PIndexRebuild] Script Date: 09.04.2024 16:52:38 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_PIndexRebuild] ( @TableName nvarchar(30) ) as begin declare @SQLcmd nvarchar(max) declare @tableID int declare @SQLcmds QBM_YCursorBuffer declare @ElementCount int declare @ElementIndex int declare @DebugLevel char(1) = 'W' declare @GenProcID varchar(38) = dbo.QBM_FGISessionContext('') BEGIN TRY if @@TRANCOUNT > 0 begin goto endlabel end if isnull(@TableName, '') = '' begin goto ende end select @tableID = null select top 1 @tableID = OBJECT_ID from sys.tables where name = @TableName exec QBM_PTableLockEscalationSet @TableName if @TableName in (select TableName from QBM_VHeavyLoadTables ) begin goto ende end if not exists (select top 1 1 from information_schema.tables where table_name = @TableName and table_type = 'BASE TABLE' ) or @tableID is null begin select @SQLcmd = N'No reorganize for Table ' + @TableName + N' Table not exists' exec QBM_PJournal @SQLcmd, @@procid, 'W', @DebugLevel goto ende end insert into @SQLcmds (ContentFull) SELECT N'ALTER INDEX \"' + x.indexname + N'\" ON ' + schemaname + N'.' + x.TableName + case when percentFrag \\< 20.0 and index_id > 1 then N' REORGANIZE' else dbo.QBM_FGIDBServerIndexRebuildOpt(x.TableName) end from ( select distinct OBJECT_SCHEMA_NAME(frag.object_id ) as schemaname, OBJECT_NAME(frag.object_id) as TableName, six.name as indexname, frag.avg_fragmentation_in_percent as percentFrag , frag.index_id from ( select fr.object_id, fr.index_id, sum(convert(float, record_count) * avg_fragmentation_in_percent / 100.0)/ sum(convert(float, record_count)) * 100.0 as avg_fragmentation_in_percent FROM sys.dm_db_index_physical_stats ( DB_ID(), @tableID, DEFAULT, 0, 'detailed' ) as fr where fr.record_count > 0 group by fr.object_id, fr.index_id ) as frag JOIN sys.indexes six with (readpast) ON frag.object_id = six.object_id AND frag.index_id = six.index_id where six.name > ' ' and frag.avg_fragmentation_in_percent > 10.0 and frag.object_ID = @tableID and six.is_hypothetical = 0 ) as x where TableName = @TableName order by x.index_id select @ElementCount = @@rowcount if @ElementCount > 0 begin select @SQLCmd = N'ALTER INDEX ALL ON ' + @TableName + N' SET (ALLOW_PAGE_LOCKS = ON)' exec QBM_PJournal @SQLcmd, @@PROCID , 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @ElementIndex = 1 while @ElementIndex \\<= @ElementCount begin select top 1 @SQLcmd = bu.ContentFull from @SQLcmds bu where bu.ElementIndex = @ElementIndex exec QBM_PJournal @sqlcmd, @@PROCID, 'D', @DebugLevel exec QBM_PExecuteSQL @SQLcmd, @@procid select @ElementIndex += 1 end end exec QBM_PSetRowLockOnly @TableName if not exists (select top 1 1 from DialogDBQueue q with (readpast) where q.UID_Task = 'QBM-K-UpdateStatistics' ) begin exec QBM_PDBQueueInsert_Single 'QBM-K-UpdateStatistics', '', '', @GenProcID end ende: return END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity () select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState ) WITH NOWAIT END CATCH endLabel: return end PSetRowLockOnly USE [OneIM82] GO /****** Object: StoredProcedure [dbo].[QBM_PSetRowLockOnly] Script Date: 09.04.2024 16:59:09 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_PSetRowLockOnly] (@TablePattern nvarchar(64) = '%' ) as begin declare @SQLcmd1 nvarchar(1024) declare @SQLcmd2 nvarchar(1024) declare @ElementBuffer QBM_YCursorBuffer declare @ElementCount int declare @ElementIndex int declare @DebugSwitch int = 0 BEGIN TRY set nocount on insert into @ElementBuffer(ContentShort , ContentFull ) select case i.allow_row_locks when 0 then concat('exec sp_indexoption ''' , o.name , '.' , t.name , case when i.type_desc = 'HEAP' and i.name is null then '' else '.' + i.name end , ''', ''AllowRowLocks'', ''True'' ' ) else '' end , case i.allow_page_locks when 1 then concat('exec sp_indexoption ''' , o.name , '.' , t.name , case when i.type_desc = 'HEAP' and i.name is null then '' else '.' + i.name end , ''', ''AllowPageLocks'', ''False'' ' ) else '' end from sys.tables t join sys.schemas o on t.schema_id = o.schema_id and dbo.QBM_FGIObjectIsDropable (o.schema_id)=1 join sys.indexes i on i.object_id = t.object_id where t.type = 'U' and t.name like @TablePattern and t.is_memory_optimized = 0 and i.is_hypothetical = 0 and t.name not like 'sys%' and t.name not like 'ms%' and t.name not like 'IH%' and t.name not like 'conflict%' and (i.allow_row_locks = 0 or i.allow_page_locks = 1 ) and i.type_desc in ('CLUSTERED', 'NONCLUSTERED', 'HEAP') order by o.name, t.name, i.name select @ElementCount = @@ROWCOUNT select @ElementIndex = 1 while @ElementIndex \\<= @ElementCount begin select top 1 @SQLcmd1 = bu.ContentShort , @SQLcmd2 = bu.ContentFull from @ElementBuffer bu where bu.ElementIndex = @ElementIndex if @DebugSwitch > 0 begin print @SQLcmd1 print @SQLcmd2 end if @SQLcmd1 > ' ' begin exec QBM_PExecuteSQL @SQLcmd1, @@procid end if @SQLcmd2 > ' ' begin exec QBM_PExecuteSQL @SQLcmd2, @@procid end select @ElementIndex += 1 end END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage () exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH end -------- --------","title":"QBM_PIndexRebuild"},{"location":"5.7%20%D0%9C%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20Rebuild%20Table%20Index/#1","text":"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 - \u0437\u0430\u0433\u043b\u0443\u0448\u043a\u0443 SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO CREATE PROCEDURE [dbo].[ClearProc] AS BEGIN SET NOCOUNT ON; END GO \u0412\u043d\u043e\u0441\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 QBM_ZIndexRebuild USE [OneIM] GO /****** Object: StoredProcedure [dbo].[QBM_ZIndexRebuild] Script Date: 12.04.2024 11:53:34 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER procedure [dbo].[QBM_ZIndexRebuild] ( @SlotNumberDummy int , @TableName varchar(38), @dummy1 varchar(38) = '', @dummy2 varchar(38) = '' ) as begin BEGIN TRY exec ClearProc END TRY BEGIN CATCH declare @ErrorMessage nvarchar(4000) declare @ErrorSeverity int declare @ErrorState int select @ErrorSeverity = dbo.QBM_FGIErrorSeverity() select @ErrorState = 1 select @ErrorMessage = dbo.QBM_FGIErrorMessage() exec QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH end","title":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u044f 1."},{"location":"5.7%20%D0%9C%D0%B5%D0%B4%D0%BB%D0%B5%D0%BD%D0%BD%D1%8B%D0%B9%20Rebuild%20Table%20Index/#2","text":"\u0412\u043d\u043e\u0441\u0438\u043c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0443 QBM_ZIndexRebuild \u0434\u043b\u044f \u0443\u0447\u0435\u0442\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 \u0411\u0414 \u0438 \u043a\u043e\u043b-\u0432\u0430 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u043d\u0438\u0445 USE [OneIM] GO /****** Object: StoredProcedure [dbo].[QBM_ZIndexRebuild] Script Date: 12.04.2024 11:53:34 ******/ SET ANSI_NULLS ON GO SET QUOTED_IDENTIFIER ON GO ALTER PROCEDURE [dbo].[QBM_ZIndexRebuild] ( @SlotNumberDummy INT, @TableName VARCHAR(38), @dummy1 VARCHAR(38) = '', @dummy2 VARCHAR(38) = '' ) AS BEGIN DECLARE @Message NVARCHAR(1000) = '#LDS#Reindexing of {0} was not performed due to the size of the table.|' + @tablename + '|' BEGIN TRY IF EXISTS ( SELECT TOP 1 1 FROM DialogTable t WHERE t.TableName = @tableName AND ( t.SizeMB > 1024.0 OR dbo.QBM_FGITableCountAll(t.TableName) > 1000000 ) ) BEGIN EXEC QBM_PJournal @Message, @@procid, 'I', 'I', 100 GOTO endLabel END BEGIN EXEC QBM_PIndexRebuild @TableName END END TRY BEGIN CATCH DECLARE @ErrorMessage NVARCHAR(4000) DECLARE @ErrorSeverity INT DECLARE @ErrorState INT SELECT @ErrorSeverity = dbo.QBM_FGIErrorSeverity() SELECT @ErrorState = 1 SELECT @ErrorMessage = dbo.QBM_FGIErrorMessage() EXEC QBM_PRollbackIfAllowed RAISERROR (@ErrorMessage, @ErrorSeverity, @ErrorState) WITH NOWAIT END CATCH endLabel: RETURN END","title":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u044f 2"},{"location":"5.8%20How%20to%20Enable%20TRACE%20Logging/","text":"5.8 How to Enable TRACE Logging 3 \u0430\u043f\u0440\u0435\u043b\u044f 2024 \u0433. 9:49 **Please note that the logging for version 8.2 has changed slightly. To enable TRACE level logging: ** 1. Open the globallog.config file (located under C:\\Program Files\\One Identity\\One Identity Manager) in a text editor. Update as per the version: ***Version 8.2 and above (including 9.x): *** The variable, \"logFileLevel\" is used. So only the value for the variable needs to be updated from the variables section (line 5), e.g.: variable name=\"logFileLevel\" value=\"Info\" (default) Change to: variable name=\"logFileLevel\" value=\"Trace\" As instructed by Support. ***Version 8.1.5 and below: *** In the \"rules\" section change the following line from: **logger name=\"*\" minlevel=\"Info\" writeTo=\"logfile\" ** To **logger name=\"*\" minlevel=\"Trace\" writeTo=\"logfile\" ** So that the final result is: **Click To See Full Image. ** Then save the change. This is sufficient to generate TRACE level logging in the required log files. Please note that log files are generated in specific locations! ** For example, the Job Service log will be created under the AppData** folder for the account under which the job service runs, e.g.: C:\\Users\\ serviceaccount \\AppData\\Local\\One Identity\\One Identity Manager\\JobService Note that additional folders exist under \\AppData\\Local\\One Identity\\One Identity Manager for various components, most notably, StdioProcessor. If logs for a front-end application, such as Manager or the Sync Editor, are required, these will exist in the AppData folder of the currently logged in Windows (Active Directory) user, e.g.: C:\\Users\\jsmith\\AppData\\Local\\One Identity\\One Identity Manager\\Manager **Please note that If the One Identity Manager service is running as Local System the logs will be in one of the following locations: ** C:\\Windows\\System32\\config\\systemprofile\\AppData\\Local\\One Identity\\One Identity Manager C:\\Windows\\SysWOW64\\config\\systemprofile\\AppData\\Local\\One Identity\\One Identity Manager **Additional Logging ** Support may ask that additional logging be enabled. This requires that the following commented section be un-commented: Commented: **Click To See Full Image. Un-commented:** **Click To See Full Image. ** With this logging option enabled additional logs are created under the \"debug\" folder (created automatically), e.g.: C:\\Users\\serviceaccount\\AppData\\Local\\One Identity\\One Identity Manager\\JobService\\debug For more information about the logging options, please refer to the Process Monitoring and Troubleshooting Guide . Additional Information Please Note: For any web application\\web portal debug or trace logging, the same process can be applied in each web application's respective Nlog.config file, e,g.: C:\\inetpub\\wwwroot\\ApiServer\\bin\\Nlog.config The logs will be created in: C:\\inetpub\\wwwroot\\ApiServer\\App_Data\\Logs For more information on logging for IT Shop and web applications, please see How to Enable and Collect IT Shop Logs From \\< https://support.oneidentity.com/identity-manager/kb/4347342/how-to-enable-trace-logging >","title":"5.8 How to Enable TRACE Logging"},{"location":"6.%20Web%20Designer/","text":"6. Web Designer 27 \u043c\u0430\u0440\u0442\u0430 2020 \u0433. 17:22 https://www.oneidentity.com/community/identity-manager/f/forum/27167/grid-band-search-function \u0427\u0442\u043e\u0431\u044b \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 - \u043d\u0430\u0434\u043e \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0434\u043b\u044f \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442. If properties that are defined in the web project (languages, display settings, menu structure) are going to be changed, you must make a copy of the default web project. https://support.oneidentity.com/technical-documents/identity-manager/8.0/web-designer-reference-guide/22 \u0417\u0430\u0442\u0435\u043c \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c - \u044d\u0442\u043e \u0438 \u0431\u0443\u0434\u0435\u0442 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0432 \u0441 \u0441\u0441\u044b\u043b\u043a\u043e\u0439 \u0432 \u043c\u0435\u043d\u044e. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u044f\u0447\u0435\u0435\u043a \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 https://support.oneidentity.com/technical-documents/identity-manager/8.0/web-designer-reference-guide/39 \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u043d\u0430 \u0432\u0435\u0431 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 - \u043e\u043d \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 Properties \u041f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \u043f\u043e \u043d\u0435\u043c\u0443 - Show definition object \u0412\u044b\u0431\u0440\u0430\u0442\u044c Main - \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 - Structure nodes \u2013 Container \u0417\u0430\u0442\u0435\u043c \u043f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0443 \u043f\u0440\u0430\u0432\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 - \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/web-designer-reference-guide/30 https://support.oneidentity.com/technical-documents/identity-manager/8.0.1/web-designer-reference-guide/28 https://support.oneidentity.com/technical-documents/identity-manager/8.1/web-designer-reference-guide/31#TOPIC-1136569 \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 https://www.oneidentity.com/community/identity-manager/f/forum/22545/webdesigner-question-again \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c TextBox - \u043d\u0430\u0434\u043e \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u0442\u044c Container (Iteration) \u0438 \u0432 \u043d\u0435\u0433\u043e \u0443\u0436\u0435 \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u0442\u044c TextBox. Did you load the table ADSAccount? It seems like you are having trouble there as well.... In the initilizer choose the data action \"load collection\" and use a wise whereclause. Something like UID_Person=getuser(). You can have this whereclause on the collection itself as well... Or are you ok with that? The filter on ADSAccount would be something like: UID_Person = (from Person select current UID_Person) https://www.oneidentity.com/community/identity-manager/f/forum/5892/text-box-not-displaying-on-attribute-update-in-web-portal \u0412\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u043d\u0430\u0434\u043f\u0438\u0441\u044c \u0436\u0438\u0440\u043d\u044b\u043c \u0426\u0432\u0435\u0442 \u0432\u0435\u0440\u0445\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b (\u0441\u0438\u043d\u0438\u0439) \u0437\u0430\u0434\u0430\u043d \u0432 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 VI_Common_Color_MastHead \u041f\u0440\u0430\u0432\u043a\u0430 configuration keys. To configure a web project Click Edit in the menu bar. Select Web project in the Configure project sub-menu https://support.oneidentity.com/technical-documents/identity-manager/8.0/web-designer-reference-guide/16 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f format(\"Hello, {0}!\", from user select firstname) \u041d\u0430\u0434\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u043d\u0430\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u043c \u043d\u0430 \u043d\u0435\u0433\u043e \u043a\u043d\u043e\u043f\u043a\u0443 \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 - Delete \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e. \u0412 \u041f\u0440\u0430\u0432\u0438\u043b\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \"Collection with filter rule\" \u043f\u0438\u0448\u0435\u043c FirstName = (select current FirstName from PersonColl_Test) \u0410 \u043b\u0443\u0447\u0448\u0435 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c UID!!! \u041a\u043d\u043e\u043f\u043a\u0430 \u0420\u0443\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440 - Base Data \u2013 Databases - \u0441\u043f\u0440\u0430\u0432\u0430 \u0432\u043d\u0438\u0437\u0443 Edit translation in database - o import the files using the Designer In the lower pane of the navigation view, select Base Data . In the Language Editor Task pane (far right pane), select the Edit translation in database . The Language Editor appears. Click the Import toolbar button. Navigate to the required .csv language file, and click Open . The file import may take several minutes to complete. Click the Commit to database toolbar button to save the files to the One Identity Manager database. | | Note: There are separate language packs for each module and each language, allowing you to install the required translations for the modules you have installed. Repeat this import process for each language pack to want to install. | |----|----| Once the language files are imported into One Identity Manager, there are no additional steps required to configure the web portal to display in a different language. The web portal will display in the current browser language. For information on installing the web portal, see the One Identity Manager Installation Guide . \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 IE \u0438 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u0438\u0439 - \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0432\u044b\u043c \u0431\u044b\u043b. \u0427\u0442\u043e\u0431\u044b \u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u0430 2\u0445 \u044f\u0437\u044b\u043a\u0430\u0445 \u0441 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u043c \u0412 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c translate('#LDS#Test1') \u0417\u0430\u0442\u0435\u043c \u0438\u0434\u0435\u043c \u0432 Edit \u2013 Captions \u0438 \u0442\u0430\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u043b\u044e\u0447 Test1 \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c. \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u0435\u043d\u044e \u0412 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0434\u043b\u044f \u043f\u0443\u043d\u043a\u0442\u0430 \u043c\u0435\u043d\u044e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: Exists(\"personinaerole\",sqland(sqlcompareuid(\"uid_person\",getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('CCC_gph_manager', 'CCC_trigram_manager', 'CCC_allusers_view'))\")) \u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430 \u043c\u0435\u043d\u044e Exists(\"personinaerole\",sqland(sqlcompareuid(\"uid_person\",getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('CCC_allusers_view'))\")) \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043d\u0434\u0435\u043a\u0441\u0443 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 https://support.oneidentity.com/identity-manager/kb/214091/error-the-search-index-is-currently-not-available-in-it-shop-search \u041d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0449\u0438\u043a \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430, \u0430 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 App Server!!! \u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 (app server) In Web Portal bin folder, launch WebDesigner.ConfigFileEditor tool to check if App server connection defined in Search service section works. Most likely app server or its configuration has an issue. HTH. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/29663/intermittent-error-in-web-portal-when-searching > \u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 action \u0438\u0437 \u043c\u0435\u043d\u044e \u0422\u043e \u0435\u0441\u0442\u044c, \u0435\u0441\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0438\u0437 \u043c\u0435\u043d\u044e \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 edit - \u043e\u043d \u043f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f from Person select not match(CCC_Trigramm, '^[A-z0-9_]*\\$') \u041d\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u0443\u043c\u0430\u043b, \u0447\u0442\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u044b \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0435, \u043e\u0442\u043a\u0443\u0434\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f (PropertyList()) \u0431\u0435\u0440\u0435\u0442 \u0438\u0445. \u041d\u0430\u0434\u043e \u0437\u0430\u0439\u0442\u0438 \u0432 Edit \u2013 Configure Project \u2013 WebProject. \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f VI_ObjectView_Person_Fields \u041f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u0432 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u043c \u043e\u043a\u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u043d\u044b\u0439 \u043f\u0443\u0442\u044c \u0434\u043e \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u041d\u0430\u0434\u043e \u0432 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_ObjectCollection_Hierarchical \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u041d\u0430 select current display() from hierarchytable (\u0447\u0435\u0440\u0435\u0437 Extension) \u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0432 \u0444\u043e\u0440\u043c\u0443 \u0412 \u043c\u043e\u0434\u0443\u043b\u0435 \u0444\u043e\u0440\u043c\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440) \u0441\u043e\u0437\u0434\u0430\u0435\u043c ComponentInterface \u041d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c \u0435\u0433\u043e \u043d\u0430 Update \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0412 \u043c\u043e\u0434\u0443\u043b\u0435, \u043e\u0442\u043a\u0443\u0434\u0430 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u043c \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f {{ _currentColumn3.DatabaseSourceColumn.Columnname }} in (\"UID_DialogCulture\") \u0427\u0442\u043e\u0431\u044b 2 \u043f\u043e\u043b\u044f \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u043e\u0441\u044c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e, \u043d\u0430\u0434\u043e \u0432 defaultColums \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 {{ _currentColumn2.DatabaseSourceColumn.Columnname }} in (\"ExitDate\",\"DateLastWorked\",\"CCC_Direction\", \"Title\", \"CCC_Contract\") \u0410 \u0432\u043e\u043e\u0431\u0449\u0435, \u044f \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0441\u044f \u043d\u0430 \u0417\u0430\u0434\u0430\u043d\u0438\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0434\u043b\u044f \u044f\u0447\u0435\u0439\u043a\u0438 \u041e\u0448\u0438\u0431\u043a\u0430 \"There is no cursor defined on the collection\" \u041d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u0432 \u043d\u0435\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 Column Editor \"You are getting this error because the text box does not know which row of the ShoppingCartOrder collection it should bind to. You can try putting your textbox inside a container iteration.\" \u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u041f\u0440\u0438 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 - \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ShopingCartOrder \u0410 \u0441\u0430\u043c\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ShopingCartItem \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0432\u0441\u0435\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c \u041a\u043e\u043d\u0444\u0438\u0433 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 VI_ITShop_Filter_PersonOrderFor (Employee for whom a request can be placed) \"uid_person in ( select uid_person from QER_VEditEmployee)\" \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u043e\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c \u041c\u043e\u0434\u0443\u043b\u044c VI_ITShop_ProductSelection \u0424\u0443\u043d\u043a\u0446\u0438\u044f CanOrderForSomebodyElse() exists(\"personinaerole\",sqland(sqlcompareuid(\"uid_person\", getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('Security Administrator'))\")) ------------------------------- \u0427\u0442\u043e\u0431\u044b \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043c\u043e\u0433 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u0438\u043c \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u043c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b, \u0430 Security Administrator - \u0432\u0441\u0435\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c 1) \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e \u043c\u043e\u0434\u0443\u043b\u044f ITShop_ProductSelection \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 2) \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 VI_ITShop_Filter_PersonOrderFor1 (\u0442\u0438\u043f SQL Filter Condition) 3) \u041f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \"uid_person in ( select uid_person from QER_VEditEmployee)\" 4) \u0412 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 Container - uidPersonCandidate \u0434\u0435\u043b\u0430\u0435\u043c \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e Filter on candidate objects format(\"UID_Person in( select UID_Person from Person where {0} UNION select UID_Person from Person where {1} )\",if( exists(\"personinaerole\",sqland(sqlcompareuid(\"uid_person\", getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('Security Administrator'))\")) ) then getconfig(\"VI_ITShop_Filter_PersonOrderFor1\") else getconfig(\"VI_ITShop_Filter_PersonOrderFor\"), if(PersonHasSubIdentity())then format(\"UID_Person in (select uid_person from {0})\", SqlFunctionCallTable(\"QER\", \"GGetInfo\", \"FTPersonsAreMe\", sqlformatvalue(getuser(), \"string\", \"NonUnicodeLiterals\"))) else SqlCompareUid(\"UID_Person\",GetUser()) ) \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u0435\u0441\u043b\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0438\u043c\u0435\u0435\u0442 \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445, \u043e\u043d \u0441\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0441\u0432\u043e\u0438\u043c \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u043c. \u0415\u0441\u043b\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a Security Administrator - \u0441\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0432\u0441\u0435\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c. \u041e\u0440\u0438\u0433 uidPersonCandidate format(\"UID_Person in( select UID_Person from Person where {0} UNION select UID_Person from Person where {1} )\", getconfig(\"VI_ITShop_Filter_PersonOrderFor\"), if(PersonHasSubIdentity())then format(\"UID_Person in (select uid_person from {0})\", SqlFunctionCallTable(\"QER\", \"GGetInfo\", \"FTPersonsAreMe\", sqlformatvalue(getuser(), \"string\", \"NonUnicodeLiterals\"))) else SqlCompareUid(\"UID_Person\",GetUser()) ) \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0438\u043c\u0435\u043d\u0438 \u043f\u043e UID \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b from Point_of_View select CCC_PoV_Name where UID_CCCPoint_of_View = (from CCCPointOfViewInAccProd_Temp select current CCC_UID_Point_of_View) \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c service category \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0438 \u0434\u043b\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0435\u0435 \u043a\u0430\u043a Parent service category \u041d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u0432\u0438\u0441\u0438\u0442 \u043d\u0430\u0434\u043f\u0438\u0441\u044c \u0432\u0432\u0435\u0440\u0445\u0443 \"Development system - Updates pending\" \u041d\u0430\u0434\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0437\u0430\u0439\u0434\u044f \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 https://nl-sd-idmweb01.ao.nlmk/IdentityManager/monitor \u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 UID_Department \u041d\u0430\u0434\u043e \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 Workflow \u0443 ITShop \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c Approval level \u2013 DP - Manager of department. \u0422\u043e\u0433\u0434\u0430 \u043f\u0440\u0438 \u0437\u0430\u043a\u0430\u0437\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043f\u043e\u043b\u0435 \u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c! \u0423\u0431\u0440\u0430\u0442\u044c \u043d\u0430\u0434\u043f\u0438\u0441\u044c Developement system \u0438\u0437 \u043f\u0440\u0430\u0432\u043e\u0433\u043e \u0443\u0433\u043b\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0412 Designer \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c Production system \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0435\u0433\u043e \u043e\u043a\u043d\u0430 \u0441 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u043f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0424\u0438\u0448\u043a\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430. \u0418 \u0443\u0436\u0435 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0435\u0439 \u0444\u043e\u0440\u043c\u043e\u0439 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440. \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432 ITShop Request Property - \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c Mandatory Field \u0423 ServiceItem \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0432 \u043f\u043e\u043b\u0435 Request Properties (\u044d\u0442\u043e ShoppingCartItem) \u044d\u0442\u043e \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0443 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0441\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 - \u043d\u0430\u0434\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Object-depended references, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438! \u0410 \u0438\u043c\u0435\u043d\u043d\u043e: Insert Shopping Cart Item Parameters Shopping Cart Items Edit Shopping Cart Item \u0420\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044c \u0441\u0445\u0435\u043c\u0443 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430, Object-depended references \u043d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c Insert_ShoppingCartItem \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c VI_Insert_ShoppingCartItem_Default (\u0435\u0433\u043e \u043a\u043e\u043f\u0438\u044e) (\u042d\u0442\u043e\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437 VI_Insert_ShoppingCartItem_Default)?. \u041a\u043e\u043f\u0438\u044f VI_Insert_ShoppingCartItem_Default \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 VI_ITShop_ShoppingCartItem_Editor, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u044b \u0438 \u043c\u043e\u0436\u0435\u043c \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c! \u041f\u0438\u043b\u0438\u043c VI_ITShop_ShoppingCartItem_Editor (\u043a\u043e\u043f\u0438\u044e) \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043b\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 ShoppingCartItem \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f (Webinar\u2026) \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e Person \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c Create interactive entitles \u041f\u0440\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443\u0436\u0435 \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 Value \u0431\u0435\u0440\u0435\u043c \u0438\u0437 \u043f\u043e\u043b\u044f CCC_ExtendedInternetAccess (\u0443 \u043f\u043e\u043b\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 01010) if(Substring((select CCC_ExtendedInternetAccess from Person where UID_Person = getuser()),0,1) = '1' ) then 'true' else 'false' \u0417\u0430\u043f\u0438\u0441\u044c \u0432 \u043f\u043e\u043b\u0435 format(\"{0}{1}{2}{3}{4}\",if(select current Webinar from ShoppingCartItem) = 'True' then '1' else '0',if(select current Social from ShoppingCartItem) = 'True' then '1' else '0',if(select current External_mail from ShoppingCartItem) = 'True' then '1' else '0',if(select current File_exchanger from ShoppingCartItem) = 'True' then '1' else '0',if(select current ForMobile from ShoppingCartItem) = 'True' then '1' else '0') \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 - \u0438\u0434\u0435\u043c \u0432 Object Depended References \u0421\u0432\u044f\u0437\u044c VI_Interfaces_ObjectSwitch_ Parameters_ShoppingCartItem \u0417\u0430\u0442\u0435\u043c, \u0432 ComponentInterface1 \u0441\u043e\u0437\u0434\u0430\u0435\u043c CollectionExtension \u0434\u043b\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 ShoppingCartItem \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c Properties \u0412 Initialization \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u044d\u0442\u0438 \u043f\u043e\u043b\u044f if(Substring((select current CustomProperty08 from ShoppingCartItem),0,1) = '1' ) then 'true' else 'false' \u041d\u0430 \u0444\u043e\u0440\u043c\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c \u044d\u0442\u0438 \u043f\u043e\u043b\u044f \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f \u043d\u0430\u0434\u043e \u0432 Extensions HTML attr \u0443\u043a\u0430\u0437\u0430\u0442\u044c 'disabled' \u0432 \u043e\u0431\u043e\u0438\u0445 \u043f\u043e\u043b\u044f\u0445 \u0412 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u041a\u043e\u043b\u043e\u043d\u043a\u0438 \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432: \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043a\u043e\u043b\u043e\u043d\u043a\u0430\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b ShoppingCartItem https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/9 \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043b\u043e\u043d\u043e\u043a, \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0438 ShoppingCartItem \u043d\u0430\u0434\u043e \u0442\u0430\u043a \u0436\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 PersonWantsOrg \u044d\u0442\u043e\u0439 \u0436\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u043e\u0439! \u0422\u0430\u043a \u043a\u0430\u043a \u0434\u0430\u043d\u043d\u044b\u0435 \u0443\u0445\u043e\u0434\u044f\u0442 \u0432 PWO \u043f\u043e\u0441\u043b\u0435 Submit \u0437\u0430\u043a\u0430\u0437\u0430. \u0422\u043e\u043b\u044c\u043a\u043e \u043d\u0443\u0436\u043d\u043e \u043d\u0435 \u0437\u0430\u0431\u044b\u0442\u044c \u043f\u0440\u043e \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u043d\u043e\u0432\u0443\u044e! \u0410 \u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043d\u0435 \u0445\u0432\u0430\u0442\u0438\u0442\u044c \u043f\u0440\u0430\u0432 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u043d\u0435\u0435! \u0412 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u043c \u043e\u043a\u043d\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u043b\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u043f\u0438\u044e VI_Insert_ShoppingCartItem_Default (CCC_Insert_ShoppingCartItem_TechOwner) \u0412 Object-Dependent \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u043b\u044f Insert SHoppingCartItem \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 CCC_Insert_ShoppingCartItem_TechOwner \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u043f\u0438\u044e VI_ITShop_ShoppingCartItem_Editor (CCC_ITShop_ShoppingCartItem_Editor_TechOwner) CCC_Insert_ShoppingCartItem_TechOwner \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c CCC_ITShop_ShoppingCartItem_Editor_TechOwner \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c Request Properties \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443 ServiceItem \u0423 CCC_ITShop_ShoppingCartItem_Editor_TechOwner \u0443\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 PropertyEditor \u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u043a\u043e\u043b\u043e\u043d\u043a\u0430\u043c\u0438, \u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435, \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0443\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f - \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u0435 Viewing condition (\u0443 \u0435\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430) \u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0432 \u043f\u043e\u043b\u0435 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 ShoppingCartItem (\u0441\u043f\u0440\u0430\u0432\u0430) \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443, \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0435\u0433\u043e \u043f\u043e\u043b\u044f\u043c\u0438 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u0437 ShoppingCartItem (\u043d\u0435 \u0438\u0437 Request Properties) \u0412 Object Dependent \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 Parameters ShoppingCartItem - \u044d\u0442\u043e\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043d\u0438\u0436\u0435 Request Properties \u0423\u0441\u043b\u043e\u0432\u0438\u0435 Condition \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430 from PersonWantsOrg select current (DisplayOrg in ('\u0414\u043e\u0441\u0442\u0443\u043f \u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442')) (IsNull(ShowCancelOrder(), true) = true) and (from PersonWantsOrg select top 1 (Orderstate in ('OrderProduct','OrderProlongate','OrderUnsubscribe', 'Granted') and (uid_personinserted = (select uid_person from user) or uid_personordered = (select uid_person from user)) and convert( isnull(getconfig(\"VI_ITShop_OrderHistory_CancelOrder\"), 'false'), 'System.Boolean')) where UID_PersonWantsorg = '\\<UID_PersonWantsOrg you are currently looking at>') From \\< https://www.oneidentity.com/community/identity-manager/f/forum/6072/visibility-condition-for-withdraw-request-container > exists(\"personinaerole\",sqland( sqlcompareuid(\"uid_person\", getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('IDM Operator' ))\")) \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u043b\u0438 \u043f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443 \u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044c \u0441\u0445\u0435\u043c\u0443 \u0443 Person. \u0412 WebDesigner \u043f\u043e\u043c\u0438\u043c\u043e \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435 \u041d\u0430\u0434\u043e \u0432 ColumsEditor \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u043f\u043e\u043b\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u0443\u0441\u043b\u043e\u0432\u0438\u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f Upload file \u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430 format(\"C:\\temp\\0}\",select filename from localvars) format(\"C:\\temp\\0}\",select current UID_AccProduct from ShoppingCartItem) From \\< https://www.oneidentity.com/community/identity-manager/f/forum/6147/how-to-upload-a-file-through-a-form-in-it-shop > If you do, then the \"File name\" could be filled out with : format(\"C:\\Upload\\0}-{1}\", from FileUploadLocalCollection select filename , FormatDate(getdate(), \"yyyyMMdd-hhmmss\")) From \\< https://www.oneidentity.com/community/identity-manager/f/forum/22202/web-designer-file-upload-node-retain-filename > \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0443\u043b\u044f \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u044c \u0438 \u043f\u043e\u0432\u0435\u0441\u0438\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e \u0412 \u044d\u0442\u043e\u043c \u043c\u043e\u0434\u0443\u043b\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e - \u043e\u0431\u044a\u0435\u043a\u0442 \u0411\u0414 \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0438\u0434 \u043d\u0430 \u0444\u043e\u0440\u043c\u0435 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0442\u0438\u043f\u0430 Single Row \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 (TempVars) \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b (CurrentAccountProduct) - Object Type \u043a\u0430\u043a \u0443 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0423 \u0433\u0440\u0438\u0434\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0443\u043a\u0430\u0437\u0430\u0442\u044c Selection Action - \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u0432\u0440\u0435\u043c\u0435\u043d\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e UID (from AccountProductGroup select current uid_accproductgroup) \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0449\u0451 \u043e\u0434\u043d\u0443 \u0444\u043e\u0440\u043c\u0443 \u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u0438\u0437 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f Selection Action \u0423 \u043d\u043e\u0432\u043e\u0439 \u0444\u043e\u0440\u043c\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 Current \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c WHERE (sqlcompareuid(\"uid_accproductgroup\", from TempVars select UID)) \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u044e \u043f\u043e \u044d\u0442\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430, \u0447\u0435\u0440\u0435\u0437 Upload If you do, then the \"File name\" could be filled out with : format(\"C:\\Upload\\0}-{1}\", from FileUploadLocalCollection select filename , FormatDate(getdate(), \"yyyyMMdd-hhmmss\")) In my example, I defined a local single row collection called \"FileUploadLocalCollection\" with string Property \"filename\". With that, you must assign \"Collection for file name\" to \"FileUploadLocalCollection\", and \"Property for file name\" to \"filename\". From \\< https://www.oneidentity.com/community/identity-manager/f/forum/22202/web-designer-file-upload-node-retain-filename > \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430, \u0447\u0435\u0440\u0435\u0437 Upload \u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c 3 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 \u0438\u043b\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 **1) FullFileName() ** select filename from FileUploadLocalCollection 2) GetFileName() Substring(FullFileName(), 0, Indexof(FullFileName(), \".\", 0)) 3) GetExtension() Substring(FullFileName(), Indexof(FullFileName(), \".\", 0), ) \u041f\u043e\u0442\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430 format(\"C:\\inetpub\\wwwroot\\IdentityManager\\Doc\\0}-{1}{2}\",GetFileName(),FormatDate(getdate(), \"dd-MM-yyyy-hhmmss\"),GetExtension()) From \\< https://www.oneidentity.com/community/identity-manager/f/forum/31505/web-designer-upload-file-and-change-name-with-same-extension > \u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u0434 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044e {{ string.Concat(System.Linq.Enumerable.Repeat(\"--\", length)) }} \u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u0433 html \u0412 Extended Properties \u0441\u043e\u0437\u0434\u0430\u0442\u044c Variable \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 TagName \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 - \u0438\u043c\u044f \u0442\u0435\u0433\u0430 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0430 \u0444\u043e\u0440\u043c\u0435 \u0421\u043e\u0437\u0434\u0430\u0435\u043c Container Iteration \u043f\u043e Current \u043e\u0431\u044a\u0435\u043a\u0442\u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0412 \u043d\u0435\u043c property iteration \u0438 \u0432 \u043d\u0435\u043c Property list - \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u044f\u0435\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u041f\u043e\u0442\u043e\u043c \u0432 property iteration \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438 HTML Attribute - \"class\" - \"LayoutpPropRow\" \u0412 \u044d\u0442\u043e\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0435\u0449\u0451 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e\u043c class \"imx-layoutpanel-cell imx-layoutpanel-mobileblock LayoutpPropCol LayoutpPropCol0 imx-flex-row\" \u0422\u0430\u043c \u0431\u0443\u0434\u0435\u0442 VI_Edit_PropertyCaption \u0418 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u0435\u0449\u0451 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441 class \"imx-layoutpanel-cell imx-layoutpanel-mobileblock LayoutpPropCol LayoutpPropCol1\" \u0432 \u043d\u0435\u043c \u0435\u0449\u0451 \u043e\u0434\u0438\u043d \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441 Column-Depended Reference \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0441 \u0442\u0438\u043f\u043e\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u0430 - \u043d\u0430\u0448\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043a\u0443\u0434\u0430 \u0431\u0443\u0434\u0435\u043c \u043f\u0438\u0441\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043d\u043e\u043f\u043a\u0443 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u0434\u0435\u043b\u0430\u0435\u043c Insert \u0432 \u043d\u043e\u0432\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 Insert -> \u043f\u0435\u0440\u0435\u0430\u0434\u0440\u0435\u0441\u0443\u0435\u043c \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u041d\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430 - \u043a\u043e\u043f\u0438\u044f \u0444\u043e\u0440\u043c\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u044a\u0435\u043a\u0442 - \u043d\u043e\u0432\u0430\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0432 \u0438\u043d\u0434\u0435\u043a\u0441 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 Browse the column in Designer, and assign an index weight (for example 1). This will cause the description field to be included in the index for service items. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/28976/how-to-add-new-column-in-search-filter-for-web-portal > * * \u041f\u043e\u0442\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u043d\u0434\u0435\u043a\u0441 - \u043d\u0430\u0434\u043e \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 AppServer Identity Manager 8.0 - Web Portal User Guide (oneidentity.com) \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e \u0434\u0435\u0444\u043e\u043b\u0442\u0443 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u043d\u0435 \u0438\u0449\u0443\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438. \u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c, \u043d\u0430\u0434\u043e \u0432 WebDesigner \u0437\u0430\u0439\u0442\u0438 \u0432 \u043c\u043e\u0434\u0443\u043b\u044c VI_Common_Search \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c, \u043a\u0430\u043a Extension \u043d\u043e\u0432\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 Language dependent column name for displaying in the administration tool\u2019s user interface. Translate the given text using the button. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/30#TOPIC-860954 > \u0415\u0441\u043b\u0438 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 datacaption(personwantsorg,displayorg) \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0430\u043c\u043e\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 (Click here if you do not have an account.) \u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0421\u0442\u0440\u043e\u043a \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0432 \u041a\u043e\u0440\u0437\u0438\u043d\u0435 \u0412 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430\u0445 \u043a\u043b\u044e\u0447 WD_GridPagingTotalCountTopLevel \u0417\u0430\u043a\u0430\u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0412\u0441\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 VI_ITShop_Filter_PersonOrderFor \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430 \"uid_person in ( select uid_person from QER_VEditEmployee)\" \u0423 VI_ITShop_ProductSelection Collections - Container - uidPersonCandidate \u0444\u0438\u043b\u044c\u0442\u0440 \u0443\u043a\u0430\u0437\u0430\u0442\u044c format(\"UID_Person in(select UID_Person from Person where {0})\",getconfig(\" VI_ITShop_Filter_PersonOrderFor \")) \u0427\u0442\u043e\u0431\u044b \u0434\u0430\u0442\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0438\u0441\u044c \u0432 \u0430\u0440\u0445\u0438\u0432\u0435 \u0432 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435, \u0430 \u043d\u0435 daysago Change the date display in ITSHOP's requests - Forum - Identity Manager Community - One Identity Community There is an editor available for these column-dependent references. On the start-page click on Column-dependent references . Then go to the tab Display values by column and identify the columns that use the component VI_Edit_View_DateTimeago. Click on these columns and customize them to use the Component VI_Edit_View_Date . That should do the trick. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/27926/change-the-date-display-in-itshop-s-requests/68531#68531 > >\u041d\u043e \u044d\u0442\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435! \u041f\u043e\u044d\u0442\u043e\u043c\u0443, \u044f \u0437\u0430\u0448\u0435\u043b \u0432 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 (Vi_StandartWeb) \u0438 \u0443\u0434\u0430\u043b\u0438\u043b\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u044f\u0447\u0435\u0435\u043a, \u0447\u0435\u0440\u0435\u0437 Extension The WebDesigner component reponsible for the \"user-friendly\" display is called VI_Edit_View_DateTimeago. If you search for that name in WebDesigner, you will find component references that look like in the following screenshot. These rules say that the user-friendly display will be used to display values from the specified column. You can delete these rules and the display will revert to the \"technical\" display. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/27926/change-the-date-display-in-itshop-s-requests/68531#68531 > \u0423\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u043b\u044f \u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435 \u0441\u043f\u0440\u0430\u0432\u0430 WEBSQL \u043a\u0443\u0441\u043e\u0447\u0435\u043a \u0438\u0437 \u0441\u0442\u0440\u043e\u043a\u0438 \u0432\u0437\u044f\u0442\u044c VI_Common_DecisionHistory Substring(from DecisionHistory select current displayvalue(UID_PWODecisionRule),5) \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043d\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c Regex \u041f\u0438\u0448\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 #If Not SCRIPTDEBUGGER Then Imports System.Text.RegularExpressions #End If Public Function CCC_isWhiteSpace(ByVal str As String) As Boolean Dim pattern As String pattern = \"^[\\s|\\|\\]\" If Not Regex.IsMatch(str, pattern, RegexOptions.IgnoreCase Or RegexOptions.CultureInvariant) Then Return False Else Return True End If End Function Public Function CCC_isPhoneNumber(ByVal str As String) As Boolean Dim pattern As String pattern = \"^((8|\\7)[\\ ]?)?(\\?\\d{3}\\?[\\ ]?)?[\\d\\ ]{7,10}\\$\" If Not Regex.IsMatch(str, pattern, RegexOptions.IgnoreCase Or RegexOptions.CultureInvariant) Then Return False Else Return True End If End Function CCC_ITShop_Approvals \u0412 \u0412\u0435\u0431 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440 translate('#LDS#IncorrectValue') CCC_isWhiteSpace(from Vars select current ReasonDeny) \u0418 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0435 \u0437\u0430\u0431\u044b\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c! \u0418\u043b\u0438 \u043c\u043e\u0436\u043d\u043e \u0435\u0449\u0451 \u0447\u0435\u0440\u0435\u0437 FormatScript \u0443 \u043f\u043e\u043b\u044f \u0441\u0434\u0435\u043b\u0430\u0442\u044c Web designer validation not triggered - Forum - Identity Manager Community - One Identity Community Imports System.Text.RegularExpressions Public Function CCC_ServiceAccount_CheckName(ByVal text As String) As Boolean Dim pattern As String = \"[^A-Za-z0-9\\]\" Dim c As MatchCollection = Regex.Matches(text, pattern) Dim m As Match Return (c.count=0) End Function -- \u0423\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u043f\u0440\u0438 \u043b\u043e\u0433\u0438\u043d\u0435 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u043f\u043e\u0440\u0442\u0430\u043b \u0432 \u043f\u0440\u043e\u0434 \u0440\u0435\u0436\u0438\u043c Just configure your web portal to run in production mode and not in debugging mode as it currently does. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/27929/information-in-error-popup-on-login-page > \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u0432\u0435\u0440\u0445\u043d\u0435\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u043c \\<\\<HowTo ITShop Service catalog accordeon.docx>> \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u043e\u0431\u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c \u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f \u0432 IT Shop \\<\\<HowTo ITShop Simplified approval.docx>> \u0411\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0449\u0438\u043a Hello Community, we have 1IM V8.1 running in the environment with 2 Application Servers connected via load balancer and 2 Web Servers connected via load balancer. Is it enough to configure the load balancer for the Application Servers as follows: sticky sessions support from the load balancer ss-id cookies for Application Server the signing (session token) certificate of both application servers is the same, which allows reusing a session from one application server in case of a server switch. Should the load balancer for Web Servers have a similar configuration? Load balancer configuration for Application and Web Servers - Forum - Identity Manager Community - One Identity Community \u041f\u043e\u0438\u0441\u043a Identity Manager 8.0.5 - Web Designer Reference Guide (oneidentity.com) \u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u043f\u043e\u0438\u0441\u043a \u0443 Grid, \u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 Extended Properties \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0432 PWO \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u041f\u043e\u043b\u0435 PWO DisplayObjectKeyAssignment LOAD Collection \u0443\u0441\u043b\u043e\u0432\u0438\u0435 WHERE sqlcompareuid(\"uid_person\", from Container select UID_PersonSelected) sqland(\"CCC_EmployeeType='Contractor'\",\"IsInActive='1'\") format(\"UID_AccProduct in (select StructureDisplay1 from AttestationCase where StructureDisplay1 \\<> '')\") Sqlcompareuid - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0443\u0432\u043e\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u0438 \u0437\u0430\u043a\u0430\u0437\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f CCC_ITShop_ProductSelection \u0438\u0437 \u043d\u0435\u0433\u043e \u0438\u0434\u0435\u0442 VI_Edit_MultiFK \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e VI_Edit_MultiFK \u041a\u043e\u043f\u0438\u0440\u0443\u0435\u043c \u043a\u043d\u043e\u043f\u043a\u0443 Change \u0421\u043e\u0437\u0434\u0430\u0435\u043c Content1 CandidateDbWhereClause \u0437\u0430\u043c\u0435\u043d\u044f\u0435\u043c \u043d\u0430 \"\" \u0423 \u043a\u043d\u043e\u043f\u043a\u0438 \u0434\u0435\u043b\u0430\u0435\u043c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 Content1 Multi-request resources From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/2 > \u0414\u043b\u044f Object Dependent References \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0443 \u0412\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440 \u0432\u044b\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 (validate) \u0424\u0443\u043d\u043a\u0446\u0438\u044f exists \u0432\u0435\u0434\u0435\u0442 \u0441\u0435\u0431\u044f \u0441\u0442\u0440\u0430\u043d\u043d\u043e, \u0432\u043c\u0435\u0441\u0442\u043e \u043d\u0435\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e count Where Clause \"(UID_WorkDeskType='e6e5472b-3fe0-4eb8-b5d9-84b3fa16c2a4')\" \u0418\u043b\u0438 sqlcompare (\"LastName\", \"Schm*\", \"string\", \"LIKE\") \u041d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \"Viewing permission denied for value\" \u0414\u043e\u0431\u0430\u0432\u0438\u043b \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u0445\u043e\u0436\u0443 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b \u0432 APP \u0440\u043e\u043b\u044c \"Identity & Access Governance\\\u00a7Auditors\" \u0417\u0430 \u0441\u0432\u044f\u0437\u044c ITShop \u0438 UNSGroupB (\u0441 \u0438\u043c\u0435\u044e\u0449\u0438\u043c\u0441\u044f ServiceItem \u0438 \u0433\u0430\u043b\u043a\u043e\u0439 ITShop) \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 ITShopOrgHasUNSGroupB \u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0432\u044b\u0432\u043e\u0434 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b (\u0432\u044b\u0432\u043e\u0434 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432) VI_ITShop_QueryToPerson \u0412\u044b\u0431\u043e\u0440 \u0438\u0437 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 VI_Edit_FK / VI_Edit_FK_AutoComplete \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 FK! \u041a\u043e\u0442\u043e\u0440\u043e\u0435 \u0441\u0441\u044b\u043b\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0434\u0440\u0443\u0433\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443! \u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e. \u0421\u043c\u044b\u0441\u043b: \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e Single-row \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e, \u0432 \u043d\u0435\u0439 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c Column, \u043a\u0430\u043a \u043d\u0430 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u0435 \u0410 \u0432 VI_Edit_FK_AutoComplete \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u044d\u0442\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0438\u0437 Single-row \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0410\u0432\u0442\u043e\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f AD \u0433\u0440\u0443\u043f\u043f \u0432 ITShop \u041f\u0440\u043e\u0446\u0435\u0441\u0441 ADS_ADSGroup_Publish_to_ITShop \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0434\u043b\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0444\u0438\u0447\u0438 QER\\ITShop\\GroupAutoPublish \u041d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u0439 - \u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043a\u0430\u043a \u0443 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (select reference user) \u041e\u0442\u0432\u0435\u0447\u0430\u044e\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b VI_ITShop_ProductSelectionByReferenceUser VI_ITShop_ProductSelection_ReferenceUser From \\< https://www.oneidentity.com/community/identity-manager/f/forum/27283/selecting-a-reference-user-to-copy-its-products-assigned-does-not-show-all-the-assigned-products-of-the-user > \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u0435\u043d\u044e \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438, \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u043a\u0430\u043a \u0443 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f) \u0414\u043b\u044f \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0441\u0441\u044b\u043b\u043a\u0430 \u0432 \u043c\u0435\u043d\u044e \u0431\u0443\u0434\u0435\u0442 \u0441\u043a\u0440\u044b\u0442\u0430 \u041c\u043e\u0434\u0443\u043b\u044c VI_ITShop_ProductSelection from Container select current WhereClauseGroup = \"uid_accproductgroup = 'd492fba0-3be1-49df-a355-d84b3ad1eb20'\" \u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u044f \u0441\u043e\u0437\u0434\u0430\u043b \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e VI_ITShop_ProductSelection_ReferenceUser \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_ITShop_ProductSelection \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c \u0434\u043b\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 Container - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 uidPersonReferenceSED \u0442\u0430\u043a\u043e\u0439 \u0436\u0435, \u043a\u0430\u043a uidPersonReferenceSED \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e, \u043a\u0430\u043a Select a reference user \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u0443\u043d\u043a\u0442\u0430 \u043c\u0435\u043d\u044e \u0434\u0435\u043b\u0430\u0435\u043c: from Container select current WhereClauseGroup = \"uid_accproductgroup = 'd492fba0-3be1-49df-a355-d84b3ad1eb20'\" Set Foreign Key \u0441\u0442\u0430\u0432\u0438\u043c uidPersonReferenceSED \u0412 Events \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u043d\u0430 Update Container Load Collection - PersonReference \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where format(\"uid_person = {0}\", sqlformatvalue(from container select uidpersonreferencesed , \"string\", \"NonUnicodeLiterals\")) \u0414\u0435\u043b\u0430\u0435\u043c \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 \u043a\u043e\u043f\u0438\u044e VI_ITShop_ProductSelection_ReferenceUser Property watch = uidPersonReferenceSED \u0412 \u043a\u043e\u043f\u0438\u0438 VI_ITShop_ProductSelection_ReferenceUser \u0447\u0435\u0440\u0435\u0437 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0427\u0435\u0440\u0435\u0437 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0434\u043b\u044f Fill Collection ObjectAssignment \u0434\u0435\u043b\u0430\u0435\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where FullPath LIKE \"SED*\" \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 Database queries \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 WebDesigner -> Edit -> Edit database queries \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0442\u0430\u043a: \u0413\u0440\u0430\u0431\u043b\u0438: \u0415\u0441\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0447\u0435\u0440\u0435\u0437 wizard \u0442\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f. \u041d\u0438\u0436\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442. \u041d\u0443\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. insert into QBMGroupHasLimitedSQL(UID_QBMLimitedSQL,UID_DialogGroup,XObjectKey) select UID_QBMLimitedSQL,UID_DialogGroup,concat('\\<Key>\\<T>QBMGroupHasLimitedSQL\\</T>\\<P>',UID_QBMLimitedSQL,'\\</P>\\<P>',UID_DialogGroup,'\\</P>\\</Key>') as XObjectKey from (select (select UID_DialogGroup from DialogGroup where GroupName = N'CCCViewPermissions') as UID_DialogGroup,(select UID_QBMLimitedSQL from QBMLimitedSQL where Ident_QBMLimitedSQL = N'CCC_CMDBGetParamFilter') as UID_QBMLimitedSQL) as x \u041d\u0443\u0436\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0432 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u0438\u043d\u0430\u0447\u0435 \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0447\u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0435\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043f\u043e\u043b\u044f. \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u043c \u043e\u043a\u043d\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 FK \u0414\u043b\u044f \u0441\u0430\u043c\u043e\u0439 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c Display \u0432 Designer \u041a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043a\u0430\u043a \u0443 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438) \u0421\u043e\u0437\u0434\u0430\u043d \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 VI_ITShop_ProductSelection_ReferenceUser (CCC_ITShop_ProductSelection_ReferenceUser_SED) \u0412 \u043c\u043e\u0434\u0443\u043b\u0435 VI_ITShop_ProductSelection (\u0443 \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430 CCC_VI_ITShop_ProductSelection) \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 Collections - Container - Property (uidPersonReferenceSED) - \u043a\u0430\u043a \u043a\u043e\u043f\u0438\u044f uidPersonReference \u0412 ToolbarButton4 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u043a\u043e\u043f\u0438\u044e \"Select a reference user\" - Select a reference user for SED - \u0441 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u043c \u0412 ObjectSwitchContainer2 \u0432 Action - Set foreign key \u0437\u0430\u0434\u0430\u0442\u044c Property - uidPersonReferenceSED \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Update - Container \u043f\u043e \u043f\u043e\u043b\u044e uidPersonReferenceSED \u0438 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 CCC_ITShop_ProductSelection_ReferenceUser_SED \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 CCC_ITShop_ProductSelection_ReferenceUser_SED \u0434\u043b\u044f Fill collection: ObjectsAssignment \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 - \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0421\u042d\u0414 \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0421\u042d\u0414 - \u043d\u0430\u0434\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430 \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 VI_ITShop_ProductSelection \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0440\u0443\u043f\u043f\u044b AD Sed - \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 CCC_ITShop_ProductSelection_ReferenceUser_SED \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 AccProductGroupCollection \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u043c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0440\u0443\u043f\u043f\u044b \u0438\u0437 \u044d\u0442\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0417\u0430\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 - UID \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0421\u042d\u0414! \u0412\u0430\u0440\u0438\u0430\u043d\u0442, \u0447\u0435\u0440\u0435\u0437 \u043a\u043d\u043e\u043f\u043a\u0443 \u0432 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 CCC_ITShop_AccProductGroupSelector \u0418\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 VI_ITShop_ProductSelection \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c VI_Popup \u0438\u0437 Select reference user \u0412 Action \u043a\u043d\u043e\u043f\u043a\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 CCC_ITShop_AccProductGroupSelector \u0412 ComponentInterface1 \u0432 virtual collection Container \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c VirtualProperty uidpersonreference \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e PersonReference \u0418\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 VI_ITShop_ProductSelection \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c Event Update uidpersonreference \u0412 CCC_ITShop_AccProductGroupSelector \u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f. \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043b\u0443\u0447\u0430\u0435\u0432 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u0438 \u0441 \u0431\u0435\u0433\u0443\u043d\u043a\u043e\u043c \u043f\u043e \u0432\u044b\u0441\u043e\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b. \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 CCC_Attestation_AttestationCase_ViewMultiplePolicy \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c ApplyFilledHeight = false \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430 \u043f\u0440\u0438 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 VI_ITShop_ShoppingCartItem_Editor \u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f GetAccProductParams \u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0438\u0437 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 (Candidates) \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_ITShop_ProductSelection GridBand: AccProductCandidate \u043c\u0435\u043d\u044f\u0435\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where \u043d\u0430 from container select sqland(GetEffectiveGroupWhereClause(), whereclauseperson, \"uid_AccProduct in (select UID_AccProduct from AccProduct where IsSpecialProduct = '0')\" ) \u0412\u0430\u0440\u0438\u0430\u043d\u0442 2 \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_ITShop_ProductSelection (\u0421\u0421\u0421_VI_ITShop_ProductSelection) \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044e ExcludeHiddenAccProducts() \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \"uid_AccProduct in (select UID_AccProduct from AccProduct where XTouched = 'H')\" GridBand: AccProductCandidate \u043c\u0435\u043d\u044f\u0435\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where \u043d\u0430 from container select sqland(GetEffectiveGroupWhereClause(), whereclauseperson, ExcludeHiddenAccProducts() ) \u0414\u043b\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0441 \u0434\u043e\u043f. \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 (\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0445\u043e\u0442\u0438\u043c \u0441\u043a\u0440\u044b\u0442\u044c) \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0430\u0442\u0440\u0438\u0431\u0443\u0442 XTouched = 'H' \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b \u0412 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u043c \u043c\u043e\u0434\u0443\u043b\u0435 CCC_ITShop_ShoppingCartItem_Editor_SED \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0448\u0430\u0433 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 ShoppingCartItem \u0438\u0437 \u0411\u0414! \u0421 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c \u043e\u0442\u0431\u043e\u0440\u0430 - \u0447\u0442\u043e \u044d\u0442\u043e Parent \u043f\u0440\u043e\u0434\u0443\u043a\u0442 uid_shoppingcartitem = (from ShoppingCartItem select uid_shoppingcartitem where IsOptionalChild = False ) \u0421\u0434\u0435\u043b\u0430\u0442\u044c checkbox \u043d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c (\u0441\u0435\u0440\u044b\u043c) \u0438 \u0441 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0439 \u0433\u0430\u043b\u043e\u0447\u043a\u043e\u0439 \u0414\u043b\u044f checkbox \u0441\u0434\u0435\u043b\u0430\u0442\u044c Extended properties \u0441 Identifier: if (from AccProductOptional select current Orderable = false) then \"checked disabled\" else \"\" \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043e\u043a\u043d\u0430 \u0434\u043b\u044f Multirequetable \u0440\u0435\u0441\u0443\u0440\u0441\u0430 \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 (\u043d\u0435 \u0437\u0430\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445) \u0434\u043e\u043f. \u041f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u041d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0449\u0451 \u043e\u0434\u0438\u043d Action \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c: (select count() from AccProductOptional where Orderable = true) = 0 and (from shoppingcartitem select current IsOptionalChild = false) \u0418 \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c PopUp \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u0423\u0431\u0440\u0430\u0442\u044c \u043f\u043b\u0430\u0448\u043a\u0443 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0441 \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u044d\u043a\u0440\u0430\u043d\u0430 \u041d\u0430\u0434\u043e \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 VI_Start \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435, Container3","title":"6. Web Designer"},{"location":"6.%20Web%20Designer/#_1","text":"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u043d\u0430\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u043c \u043d\u0430 \u043d\u0435\u0433\u043e \u043a\u043d\u043e\u043f\u043a\u0443 \u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 - Delete \u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e. \u0412 \u041f\u0440\u0430\u0432\u0438\u043b\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \"Collection with filter rule\" \u043f\u0438\u0448\u0435\u043c FirstName = (select current FirstName from PersonColl_Test) \u0410 \u043b\u0443\u0447\u0448\u0435 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c UID!!! \u041a\u043d\u043e\u043f\u043a\u0430","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438"},{"location":"6.%20Web%20Designer/#_2","text":"\u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440 - Base Data \u2013 Databases - \u0441\u043f\u0440\u0430\u0432\u0430 \u0432\u043d\u0438\u0437\u0443 Edit translation in database - o import the files using the Designer In the lower pane of the navigation view, select Base Data . In the Language Editor Task pane (far right pane), select the Edit translation in database . The Language Editor appears. Click the Import toolbar button. Navigate to the required .csv language file, and click Open . The file import may take several minutes to complete. Click the Commit to database toolbar button to save the files to the One Identity Manager database. | | Note: There are separate language packs for each module and each language, allowing you to install the required translations for the modules you have installed. Repeat this import process for each language pack to want to install. | |----|----| Once the language files are imported into One Identity Manager, there are no additional steps required to configure the web portal to display in a different language. The web portal will display in the current browser language. For information on installing the web portal, see the One Identity Manager Installation Guide . \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 IE \u0438 \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u043c \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u0438\u0439 - \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0432\u044b\u043c \u0431\u044b\u043b.","title":"\u0420\u0443\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u043e\u0440\u0442\u0430\u043b\u0430"},{"location":"6.%20Web%20Designer/#2","text":"\u0412 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c translate('#LDS#Test1') \u0417\u0430\u0442\u0435\u043c \u0438\u0434\u0435\u043c \u0432 Edit \u2013 Captions \u0438 \u0442\u0430\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043a\u043b\u044e\u0447 Test1 \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u043c \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c.","title":"\u0427\u0442\u043e\u0431\u044b \u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0438 \u043d\u0430 2\u0445 \u044f\u0437\u044b\u043a\u0430\u0445 \u0441 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u043c"},{"location":"6.%20Web%20Designer/#_3","text":"\u0412 \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u0434\u043b\u044f \u043f\u0443\u043d\u043a\u0442\u0430 \u043c\u0435\u043d\u044e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: Exists(\"personinaerole\",sqland(sqlcompareuid(\"uid_person\",getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('CCC_gph_manager', 'CCC_trigram_manager', 'CCC_allusers_view'))\")) \u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430 \u043c\u0435\u043d\u044e Exists(\"personinaerole\",sqland(sqlcompareuid(\"uid_person\",getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('CCC_allusers_view'))\"))","title":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u0435\u043d\u044e"},{"location":"6.%20Web%20Designer/#_4","text":"https://support.oneidentity.com/identity-manager/kb/214091/error-the-search-index-is-currently-not-available-in-it-shop-search \u041d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0449\u0438\u043a \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430, \u0430 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0439 App Server!!!","title":"\u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0438\u043d\u0434\u0435\u043a\u0441\u0443 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"6.%20Web%20Designer/#app-server","text":"In Web Portal bin folder, launch WebDesigner.ConfigFileEditor tool to check if App server connection defined in Search service section works. Most likely app server or its configuration has an issue. HTH. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/29663/intermittent-error-in-web-portal-when-searching >","title":"\u041f\u0435\u0440\u0435\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 (app server)"},{"location":"6.%20Web%20Designer/#action","text":"\u0422\u043e \u0435\u0441\u0442\u044c, \u0435\u0441\u043b\u0438 \u0443 \u043d\u0430\u0441 \u0438\u0437 \u043c\u0435\u043d\u044e \u043f\u0440\u0438\u0445\u043e\u0434\u0438\u0442 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 edit - \u043e\u043d \u043f\u0440\u043e\u0441\u0442\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u0442 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","title":"\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 action \u0438\u0437 \u043c\u0435\u043d\u044e"},{"location":"6.%20Web%20Designer/#_5","text":"from Person select not match(CCC_Trigramm, '^[A-z0-9_]*\\$')","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f"},{"location":"6.%20Web%20Designer/#_6","text":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u0443\u043c\u0430\u043b, \u0447\u0442\u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u043e\u0432. \u0410\u0442\u0440\u0438\u0431\u0443\u0442\u044b \u043f\u0440\u043e\u0441\u0442\u043e \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u044b \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0435, \u043e\u0442\u043a\u0443\u0434\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f (PropertyList()) \u0431\u0435\u0440\u0435\u0442 \u0438\u0445. \u041d\u0430\u0434\u043e \u0437\u0430\u0439\u0442\u0438 \u0432 Edit \u2013 Configure Project \u2013 WebProject. \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043d\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f VI_ObjectView_Person_Fields","title":"\u041d\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430"},{"location":"6.%20Web%20Designer/#_7","text":"\u041d\u0430\u0434\u043e \u0432 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_ObjectCollection_Hierarchical \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u041d\u0430 select current display() from hierarchytable (\u0447\u0435\u0440\u0435\u0437 Extension)","title":"\u041f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430 \u0432 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u043c \u043e\u043a\u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u043d\u044b\u0439 \u043f\u0443\u0442\u044c \u0434\u043e \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0430"},{"location":"6.%20Web%20Designer/#_8","text":"\u0412 \u043c\u043e\u0434\u0443\u043b\u0435 \u0444\u043e\u0440\u043c\u044b \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440) \u0441\u043e\u0437\u0434\u0430\u0435\u043c ComponentInterface \u041d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c \u0435\u0433\u043e \u043d\u0430 Update \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0412 \u043c\u043e\u0434\u0443\u043b\u0435, \u043e\u0442\u043a\u0443\u0434\u0430 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u043c","title":"\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0432 \u0444\u043e\u0440\u043c\u0443"},{"location":"6.%20Web%20Designer/#_9","text":"{{ _currentColumn3.DatabaseSourceColumn.Columnname }} in (\"UID_DialogCulture\") \u0427\u0442\u043e\u0431\u044b 2 \u043f\u043e\u043b\u044f \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u043e\u0441\u044c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e, \u043d\u0430\u0434\u043e \u0432 defaultColums \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 {{ _currentColumn2.DatabaseSourceColumn.Columnname }} in (\"ExitDate\",\"DateLastWorked\",\"CCC_Direction\", \"Title\", \"CCC_Contract\") \u0410 \u0432\u043e\u043e\u0431\u0449\u0435, \u044f \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u043b\u0441\u044f \u043d\u0430 \u0417\u0430\u0434\u0430\u043d\u0438\u0438 \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u0434\u043b\u044f \u044f\u0447\u0435\u0439\u043a\u0438","title":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f"},{"location":"6.%20Web%20Designer/#there-is-no-cursor-defined-on-the-collection","text":"\u041d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0438 \u0438 \u0432 \u043d\u0435\u043c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 Column Editor \"You are getting this error because the text box does not know which row of the ShoppingCartOrder collection it should bind to. You can try putting your textbox inside a container iteration.\"","title":"\u041e\u0448\u0438\u0431\u043a\u0430 \"There is no cursor defined on the collection\""},{"location":"6.%20Web%20Designer/#_10","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 - \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u044c \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ShopingCartOrder \u0410 \u0441\u0430\u043c\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 ShopingCartItem","title":"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"},{"location":"6.%20Web%20Designer/#_11","text":"\u041a\u043e\u043d\u0444\u0438\u0433 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 VI_ITShop_Filter_PersonOrderFor (Employee for whom a request can be placed) \"uid_person in ( select uid_person from QER_VEditEmployee)\"","title":"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0432\u0441\u0435\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c"},{"location":"6.%20Web%20Designer/#_12","text":"\u041c\u043e\u0434\u0443\u043b\u044c VI_ITShop_ProductSelection \u0424\u0443\u043d\u043a\u0446\u0438\u044f CanOrderForSomebodyElse() exists(\"personinaerole\",sqland(sqlcompareuid(\"uid_person\", getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('Security Administrator'))\"))","title":"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0440\u043e\u043b\u0438 \u0434\u0440\u0443\u0433\u0438\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c"},{"location":"6.%20Web%20Designer/#-","text":"","title":"-------------------------------"},{"location":"6.%20Web%20Designer/#security-administrator-","text":"1) \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e \u043c\u043e\u0434\u0443\u043b\u044f ITShop_ProductSelection \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 2) \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 VI_ITShop_Filter_PersonOrderFor1 (\u0442\u0438\u043f SQL Filter Condition) 3) \u041f\u0440\u043e\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \"uid_person in ( select uid_person from QER_VEditEmployee)\" 4) \u0412 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 Container - uidPersonCandidate \u0434\u0435\u043b\u0430\u0435\u043c \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044e Filter on candidate objects format(\"UID_Person in( select UID_Person from Person where {0} UNION select UID_Person from Person where {1} )\",if( exists(\"personinaerole\",sqland(sqlcompareuid(\"uid_person\", getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('Security Administrator'))\")) ) then getconfig(\"VI_ITShop_Filter_PersonOrderFor1\") else getconfig(\"VI_ITShop_Filter_PersonOrderFor\"), if(PersonHasSubIdentity())then format(\"UID_Person in (select uid_person from {0})\", SqlFunctionCallTable(\"QER\", \"GGetInfo\", \"FTPersonsAreMe\", sqlformatvalue(getuser(), \"string\", \"NonUnicodeLiterals\"))) else SqlCompareUid(\"UID_Person\",GetUser()) ) \u0422\u0430\u043a\u0438\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c, \u0435\u0441\u043b\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a \u0438\u043c\u0435\u0435\u0442 \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u0445, \u043e\u043d \u0441\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0441\u0432\u043e\u0438\u043c \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u043c. \u0415\u0441\u043b\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a Security Administrator - \u0441\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0432\u0441\u0435\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c. \u041e\u0440\u0438\u0433 uidPersonCandidate format(\"UID_Person in( select UID_Person from Person where {0} UNION select UID_Person from Person where {1} )\", getconfig(\"VI_ITShop_Filter_PersonOrderFor\"), if(PersonHasSubIdentity())then format(\"UID_Person in (select uid_person from {0})\", SqlFunctionCallTable(\"QER\", \"GGetInfo\", \"FTPersonsAreMe\", sqlformatvalue(getuser(), \"string\", \"NonUnicodeLiterals\"))) else SqlCompareUid(\"UID_Person\",GetUser()) )","title":"\u0427\u0442\u043e\u0431\u044b \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043c\u043e\u0433 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0432\u043e\u0438\u043c \u043f\u043e\u0434\u0447\u0438\u043d\u0435\u043d\u043d\u044b\u043c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b, \u0430 Security Administrator - \u0432\u0441\u0435\u043c \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430\u043c"},{"location":"6.%20Web%20Designer/#uid","text":"from Point_of_View select CCC_PoV_Name where UID_CCCPoint_of_View = (from CCCPointOfViewInAccProd_Temp select current CCC_UID_Point_of_View)","title":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0438\u043c\u0435\u043d\u0438 \u043f\u043e UID \u0438\u0437 \u0434\u0440\u0443\u0433\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b"},{"location":"6.%20Web%20Designer/#_13","text":"\u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c service category \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0438 \u0434\u043b\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0435\u0435 \u043a\u0430\u043a Parent service category","title":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u0434\u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"6.%20Web%20Designer/#development-system-updates-pending","text":"\u041d\u0430\u0434\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u0437\u0430\u0439\u0434\u044f \u043f\u043e \u0430\u0434\u0440\u0435\u0441\u0443 https://nl-sd-idmweb01.ao.nlmk/IdentityManager/monitor","title":"\u041d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u0432\u0438\u0441\u0438\u0442 \u043d\u0430\u0434\u043f\u0438\u0441\u044c \u0432\u0432\u0435\u0440\u0445\u0443 \"Development system - Updates pending\""},{"location":"6.%20Web%20Designer/#uid_department","text":"\u041d\u0430\u0434\u043e \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 Workflow \u0443 ITShop \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c Approval level \u2013 DP - Manager of department. \u0422\u043e\u0433\u0434\u0430 \u043f\u0440\u0438 \u0437\u0430\u043a\u0430\u0437\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043f\u043e\u043b\u0435 \u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c!","title":"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 \u043d\u0443\u0436\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435 UID_Department"},{"location":"6.%20Web%20Designer/#developement-system","text":"\u0412 Designer \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c Production system","title":"\u0423\u0431\u0440\u0430\u0442\u044c \u043d\u0430\u0434\u043f\u0438\u0441\u044c Developement system \u0438\u0437 \u043f\u0440\u0430\u0432\u043e\u0433\u043e \u0443\u0433\u043b\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0430"},{"location":"6.%20Web%20Designer/#_14","text":"\u0424\u0438\u0448\u043a\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430. \u0418 \u0443\u0436\u0435 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0435\u0439 \u0444\u043e\u0440\u043c\u043e\u0439 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440. \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0432 ITShop Request Property - \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c Mandatory Field \u0423 ServiceItem \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0432 \u043f\u043e\u043b\u0435 Request Properties (\u044d\u0442\u043e ShoppingCartItem) \u044d\u0442\u043e \u043d\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435 \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0443 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0441\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 - \u043d\u0430\u0434\u043e \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c Object-depended references, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043c\u043e\u0434\u0443\u043b\u0438! \u0410 \u0438\u043c\u0435\u043d\u043d\u043e: Insert Shopping Cart Item Parameters Shopping Cart Items Edit Shopping Cart Item \u0420\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044c \u0441\u0445\u0435\u043c\u0443 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430, Object-depended references \u043d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c Insert_ShoppingCartItem \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c VI_Insert_ShoppingCartItem_Default (\u0435\u0433\u043e \u043a\u043e\u043f\u0438\u044e) (\u042d\u0442\u043e\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437 VI_Insert_ShoppingCartItem_Default)?. \u041a\u043e\u043f\u0438\u044f VI_Insert_ShoppingCartItem_Default \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 VI_ITShop_ShoppingCartItem_Editor, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u044b \u0438 \u043c\u043e\u0436\u0435\u043c \u043a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c! \u041f\u0438\u043b\u0438\u043c VI_ITShop_ShoppingCartItem_Editor (\u043a\u043e\u043f\u0438\u044e) \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u043b\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 ShoppingCartItem \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f (Webinar\u2026) \u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e Person \u0423\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c Create interactive entitles \u041f\u0440\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0443\u0436\u0435 \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 Value \u0431\u0435\u0440\u0435\u043c \u0438\u0437 \u043f\u043e\u043b\u044f CCC_ExtendedInternetAccess (\u0443 \u043f\u043e\u043b\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 01010) if(Substring((select CCC_ExtendedInternetAccess from Person where UID_Person = getuser()),0,1) = '1' ) then 'true' else 'false' \u0417\u0430\u043f\u0438\u0441\u044c \u0432 \u043f\u043e\u043b\u0435 format(\"{0}{1}{2}{3}{4}\",if(select current Webinar from ShoppingCartItem) = 'True' then '1' else '0',if(select current Social from ShoppingCartItem) = 'True' then '1' else '0',if(select current External_mail from ShoppingCartItem) = 'True' then '1' else '0',if(select current File_exchanger from ShoppingCartItem) = 'True' then '1' else '0',if(select current ForMobile from ShoppingCartItem) = 'True' then '1' else '0') \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435 - \u0438\u0434\u0435\u043c \u0432 Object Depended References \u0421\u0432\u044f\u0437\u044c VI_Interfaces_ObjectSwitch_ Parameters_ShoppingCartItem \u0417\u0430\u0442\u0435\u043c, \u0432 ComponentInterface1 \u0441\u043e\u0437\u0434\u0430\u0435\u043c CollectionExtension \u0434\u043b\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 ShoppingCartItem \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c Properties \u0412 Initialization \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u044d\u0442\u0438 \u043f\u043e\u043b\u044f if(Substring((select current CustomProperty08 from ShoppingCartItem),0,1) = '1' ) then 'true' else 'false' \u041d\u0430 \u0444\u043e\u0440\u043c\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c \u044d\u0442\u0438 \u043f\u043e\u043b\u044f","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0435\u0433\u043e \u043e\u043a\u043d\u0430 \u0441 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u043f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440"},{"location":"6.%20Web%20Designer/#_15","text":"\u043d\u0430\u0434\u043e \u0432 Extensions HTML attr \u0443\u043a\u0430\u0437\u0430\u0442\u044c 'disabled' \u0432 \u043e\u0431\u043e\u0438\u0445 \u043f\u043e\u043b\u044f\u0445","title":"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044f"},{"location":"6.%20Web%20Designer/#_16","text":"","title":""},{"location":"6.%20Web%20Designer/#_17","text":"","title":"\u0412 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"},{"location":"6.%20Web%20Designer/#_18","text":"","title":"\u041a\u043e\u043b\u043e\u043d\u043a\u0438 \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432:"},{"location":"6.%20Web%20Designer/#shoppingcartitem","text":"https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/9 \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043b\u043e\u043d\u043e\u043a, \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0438 ShoppingCartItem \u043d\u0430\u0434\u043e \u0442\u0430\u043a \u0436\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 PersonWantsOrg \u044d\u0442\u043e\u0439 \u0436\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u043e\u0439! \u0422\u0430\u043a \u043a\u0430\u043a \u0434\u0430\u043d\u043d\u044b\u0435 \u0443\u0445\u043e\u0434\u044f\u0442 \u0432 PWO \u043f\u043e\u0441\u043b\u0435 Submit \u0437\u0430\u043a\u0430\u0437\u0430. \u0422\u043e\u043b\u044c\u043a\u043e \u043d\u0443\u0436\u043d\u043e \u043d\u0435 \u0437\u0430\u0431\u044b\u0442\u044c \u043f\u0440\u043e \u043f\u0440\u0430\u0432\u0430 \u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u043d\u043e\u0432\u0443\u044e! \u0410 \u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043d\u0435 \u0445\u0432\u0430\u0442\u0438\u0442\u044c \u043f\u0440\u0430\u0432 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u043d\u0435\u0435!","title":"\u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043a\u043e\u043b\u043e\u043d\u043a\u0430\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b ShoppingCartItem"},{"location":"6.%20Web%20Designer/#_19","text":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u043f\u0438\u044e VI_Insert_ShoppingCartItem_Default (CCC_Insert_ShoppingCartItem_TechOwner) \u0412 Object-Dependent \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0434\u043b\u044f Insert SHoppingCartItem \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 CCC_Insert_ShoppingCartItem_TechOwner \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043e\u043f\u0438\u044e VI_ITShop_ShoppingCartItem_Editor (CCC_ITShop_ShoppingCartItem_Editor_TechOwner) CCC_Insert_ShoppingCartItem_TechOwner \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c CCC_ITShop_ShoppingCartItem_Editor_TechOwner \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c Request Properties \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443 ServiceItem \u0423 CCC_ITShop_ShoppingCartItem_Editor_TechOwner \u0443\u0431\u0440\u0430\u0442\u044c \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 PropertyEditor \u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0443\u0436\u043d\u044b\u043c\u0438 \u043a\u043e\u043b\u043e\u043d\u043a\u0430\u043c\u0438, \u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435, \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0443\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f - \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043b\u0435 Viewing condition (\u0443 \u0435\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430) \u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0432 \u043f\u043e\u043b\u0435 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 ShoppingCartItem (\u0441\u043f\u0440\u0430\u0432\u0430) \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443, \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0435\u0433\u043e \u043f\u043e\u043b\u044f\u043c\u0438 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u0437 ShoppingCartItem (\u043d\u0435 \u0438\u0437 Request Properties) \u0412 Object Dependent \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043b\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 Parameters ShoppingCartItem - \u044d\u0442\u043e\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043d\u0438\u0436\u0435 Request Properties","title":"\u0412 \u0432\u044b\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u043c \u043e\u043a\u043d\u0435 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u043b\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0443\u0441\u043b\u043e\u0432\u0438\u044f"},{"location":"6.%20Web%20Designer/#condition","text":"from PersonWantsOrg select current (DisplayOrg in ('\u0414\u043e\u0441\u0442\u0443\u043f \u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442')) (IsNull(ShowCancelOrder(), true) = true) and (from PersonWantsOrg select top 1 (Orderstate in ('OrderProduct','OrderProlongate','OrderUnsubscribe', 'Granted') and (uid_personinserted = (select uid_person from user) or uid_personordered = (select uid_person from user)) and convert( isnull(getconfig(\"VI_ITShop_OrderHistory_CancelOrder\"), 'false'), 'System.Boolean')) where UID_PersonWantsorg = '\\<UID_PersonWantsOrg you are currently looking at>') From \\< https://www.oneidentity.com/community/identity-manager/f/forum/6072/visibility-condition-for-withdraw-request-container > exists(\"personinaerole\",sqland( sqlcompareuid(\"uid_person\", getuser()),\"xorigin > 0 and uid_aerole in (select UID_Aerole from AErole where Ident_Aerole in ('IDM Operator' ))\"))","title":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 Condition \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430"},{"location":"6.%20Web%20Designer/#_20","text":"\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044c \u0441\u0445\u0435\u043c\u0443 \u0443 Person. \u0412 WebDesigner \u043f\u043e\u043c\u0438\u043c\u043e \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435 \u041d\u0430\u0434\u043e \u0432 ColumsEditor \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c, \u0447\u0442\u043e \u043f\u043e\u043b\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u0443\u0441\u043b\u043e\u0432\u0438\u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","title":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u043d\u043e\u0432\u043e\u0433\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u0438\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u043b\u0438 \u043f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443"},{"location":"6.%20Web%20Designer/#upload-file","text":"\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430 format(\"C:\\temp\\0}\",select filename from localvars) format(\"C:\\temp\\0}\",select current UID_AccProduct from ShoppingCartItem) From \\< https://www.oneidentity.com/community/identity-manager/f/forum/6147/how-to-upload-a-file-through-a-form-in-it-shop > If you do, then the \"File name\" could be filled out with : format(\"C:\\Upload\\0}-{1}\", from FileUploadLocalCollection select filename , FormatDate(getdate(), \"yyyyMMdd-hhmmss\")) From \\< https://www.oneidentity.com/community/identity-manager/f/forum/22202/web-designer-file-upload-node-retain-filename >","title":"Upload file"},{"location":"6.%20Web%20Designer/#_21","text":"\u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u044c \u0438 \u043f\u043e\u0432\u0435\u0441\u0438\u0442\u044c \u0435\u0433\u043e \u043d\u0430 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e \u0412 \u044d\u0442\u043e\u043c \u043c\u043e\u0434\u0443\u043b\u0435 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e - \u043e\u0431\u044a\u0435\u043a\u0442 \u0411\u0414 \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0438\u0434 \u043d\u0430 \u0444\u043e\u0440\u043c\u0435 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0442\u0438\u043f\u0430 Single Row \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 (TempVars) \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b (CurrentAccountProduct) - Object Type \u043a\u0430\u043a \u0443 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0423 \u0433\u0440\u0438\u0434\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0443\u043a\u0430\u0437\u0430\u0442\u044c Selection Action - \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432 \u0432\u0440\u0435\u043c\u0435\u043d\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e UID (from AccountProductGroup select current uid_accproductgroup) \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0449\u0451 \u043e\u0434\u043d\u0443 \u0444\u043e\u0440\u043c\u0443 \u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u0438\u0437 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f Selection Action \u0423 \u043d\u043e\u0432\u043e\u0439 \u0444\u043e\u0440\u043c\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 Current \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c WHERE (sqlcompareuid(\"uid_accproductgroup\", from TempVars select UID)) \u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u044e \u043f\u043e \u044d\u0442\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0443\u043b\u044f \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432"},{"location":"6.%20Web%20Designer/#upload","text":"If you do, then the \"File name\" could be filled out with : format(\"C:\\Upload\\0}-{1}\", from FileUploadLocalCollection select filename , FormatDate(getdate(), \"yyyyMMdd-hhmmss\")) In my example, I defined a local single row collection called \"FileUploadLocalCollection\" with string Property \"filename\". With that, you must assign \"Collection for file name\" to \"FileUploadLocalCollection\", and \"Property for file name\" to \"filename\". From \\< https://www.oneidentity.com/community/identity-manager/f/forum/22202/web-designer-file-upload-node-retain-filename >","title":"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430, \u0447\u0435\u0440\u0435\u0437 Upload"},{"location":"6.%20Web%20Designer/#upload_1","text":"\u041d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c 3 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 \u0438\u043b\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 **1) FullFileName() ** select filename from FileUploadLocalCollection 2) GetFileName() Substring(FullFileName(), 0, Indexof(FullFileName(), \".\", 0)) 3) GetExtension() Substring(FullFileName(), Indexof(FullFileName(), \".\", 0), ) \u041f\u043e\u0442\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430 format(\"C:\\inetpub\\wwwroot\\IdentityManager\\Doc\\0}-{1}{2}\",GetFileName(),FormatDate(getdate(), \"dd-MM-yyyy-hhmmss\"),GetExtension()) From \\< https://www.oneidentity.com/community/identity-manager/f/forum/31505/web-designer-upload-file-and-change-name-with-same-extension >","title":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0438\u043c\u0435\u043d\u0438 \u0444\u0430\u0439\u043b\u0430, \u0447\u0435\u0440\u0435\u0437 Upload"},{"location":"6.%20Web%20Designer/#_22","text":"{{ string.Concat(System.Linq.Enumerable.Repeat(\"--\", length)) }}","title":"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u0434 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044e"},{"location":"6.%20Web%20Designer/#html","text":"\u0412 Extended Properties \u0441\u043e\u0437\u0434\u0430\u0442\u044c Variable \u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 TagName \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 - \u0438\u043c\u044f \u0442\u0435\u0433\u0430","title":"\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u0433 html"},{"location":"6.%20Web%20Designer/#_23","text":"\u0421\u043e\u0437\u0434\u0430\u0435\u043c Container Iteration \u043f\u043e Current \u043e\u0431\u044a\u0435\u043a\u0442\u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0412 \u043d\u0435\u043c property iteration \u0438 \u0432 \u043d\u0435\u043c Property list - \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u044f\u0435\u043c \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u041f\u043e\u0442\u043e\u043c \u0432 property iteration \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438 HTML Attribute - \"class\" - \"LayoutpPropRow\" \u0412 \u044d\u0442\u043e\u043c \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0435 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u0435\u0449\u0451 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441\u043e \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u043e\u043c class \"imx-layoutpanel-cell imx-layoutpanel-mobileblock LayoutpPropCol LayoutpPropCol0 imx-flex-row\" \u0422\u0430\u043c \u0431\u0443\u0434\u0435\u0442 VI_Edit_PropertyCaption \u0418 \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u0435\u0449\u0451 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441 class \"imx-layoutpanel-cell imx-layoutpanel-mobileblock LayoutpPropCol LayoutpPropCol1\" \u0432 \u043d\u0435\u043c \u0435\u0449\u0451 \u043e\u0434\u0438\u043d \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440 \u0441 Column-Depended Reference","title":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0435\u043c\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0430 \u0444\u043e\u0440\u043c\u0435"},{"location":"6.%20Web%20Designer/#_24","text":"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0441 \u0442\u0438\u043f\u043e\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u0430 - \u043d\u0430\u0448\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043a\u0443\u0434\u0430 \u0431\u0443\u0434\u0435\u043c \u043f\u0438\u0441\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043d\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043d\u043e\u043f\u043a\u0443 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435 \u0438 \u0434\u0435\u043b\u0430\u0435\u043c Insert \u0432 \u043d\u043e\u0432\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 Insert -> \u043f\u0435\u0440\u0435\u0430\u0434\u0440\u0435\u0441\u0443\u0435\u043c \u043d\u0430 \u043d\u043e\u0432\u0443\u044e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u0443\u044e \u0444\u043e\u0440\u043c\u0443 \u041d\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430 - \u043a\u043e\u043f\u0438\u044f \u0444\u043e\u0440\u043c\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0431\u044a\u0435\u043a\u0442 - \u043d\u043e\u0432\u0430\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f","title":"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443"},{"location":"6.%20Web%20Designer/#_25","text":"Browse the column in Designer, and assign an index weight (for example 1). This will cause the description field to be included in the index for service items. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/28976/how-to-add-new-column-in-search-filter-for-web-portal > * * \u041f\u043e\u0442\u043e\u043c \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0438\u043d\u0434\u0435\u043a\u0441 - \u043d\u0430\u0434\u043e \u0437\u0430\u0439\u0442\u0438 \u043d\u0430 AppServer Identity Manager 8.0 - Web Portal User Guide (oneidentity.com)","title":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0432 \u0438\u043d\u0434\u0435\u043a\u0441 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"},{"location":"6.%20Web%20Designer/#_26","text":"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e \u0434\u0435\u0444\u043e\u043b\u0442\u0443 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u043d\u0435 \u0438\u0449\u0443\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438. \u0427\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u043c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c, \u043d\u0430\u0434\u043e \u0432 WebDesigner \u0437\u0430\u0439\u0442\u0438 \u0432 \u043c\u043e\u0434\u0443\u043b\u044c VI_Common_Search \u0438 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c, \u043a\u0430\u043a Extension \u043d\u043e\u0432\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443","title":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"6.%20Web%20Designer/#_27","text":"Language dependent column name for displaying in the administration tool\u2019s user interface. Translate the given text using the button. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0/configuration-guide/30#TOPIC-860954 > \u0415\u0441\u043b\u0438 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 datacaption(personwantsorg,displayorg)","title":"\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043a\u043e\u043b\u043e\u043d\u043a\u0438"},{"location":"6.%20Web%20Designer/#click-here-if-you-do-not-have-an-account","text":"","title":"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0430\u043c\u043e\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 (Click here if you do not have an account.)"},{"location":"6.%20Web%20Designer/#_28","text":"\u0412 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430\u0445 \u043a\u043b\u044e\u0447 WD_GridPagingTotalCountTopLevel","title":"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u0421\u0442\u0440\u043e\u043a \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0432 \u041a\u043e\u0440\u0437\u0438\u043d\u0435"},{"location":"6.%20Web%20Designer/#_29","text":"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 VI_ITShop_Filter_PersonOrderFor \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430 \"uid_person in ( select uid_person from QER_VEditEmployee)\" \u0423 VI_ITShop_ProductSelection Collections - Container - uidPersonCandidate \u0444\u0438\u043b\u044c\u0442\u0440 \u0443\u043a\u0430\u0437\u0430\u0442\u044c format(\"UID_Person in(select UID_Person from Person where {0})\",getconfig(\" VI_ITShop_Filter_PersonOrderFor \"))","title":"\u0417\u0430\u043a\u0430\u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0412\u0441\u0435 \u0434\u043b\u044f \u0432\u0441\u0435\u0445"},{"location":"6.%20Web%20Designer/#daysago","text":"Change the date display in ITSHOP's requests - Forum - Identity Manager Community - One Identity Community There is an editor available for these column-dependent references. On the start-page click on Column-dependent references . Then go to the tab Display values by column and identify the columns that use the component VI_Edit_View_DateTimeago. Click on these columns and customize them to use the Component VI_Edit_View_Date . That should do the trick. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/27926/change-the-date-display-in-itshop-s-requests/68531#68531 > >\u041d\u043e \u044d\u0442\u043e \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u043b\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435! \u041f\u043e\u044d\u0442\u043e\u043c\u0443, \u044f \u0437\u0430\u0448\u0435\u043b \u0432 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 (Vi_StandartWeb) \u0438 \u0443\u0434\u0430\u043b\u0438\u043b\u0438 \u0444\u043e\u0440\u043c\u0430\u0442 \u044f\u0447\u0435\u0435\u043a, \u0447\u0435\u0440\u0435\u0437 Extension The WebDesigner component reponsible for the \"user-friendly\" display is called VI_Edit_View_DateTimeago. If you search for that name in WebDesigner, you will find component references that look like in the following screenshot. These rules say that the user-friendly display will be used to display values from the specified column. You can delete these rules and the display will revert to the \"technical\" display. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/27926/change-the-date-display-in-itshop-s-requests/68531#68531 >","title":"\u0427\u0442\u043e\u0431\u044b \u0434\u0430\u0442\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0438\u0441\u044c \u0432 \u0430\u0440\u0445\u0438\u0432\u0435 \u0432 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435, \u0430 \u043d\u0435 daysago"},{"location":"6.%20Web%20Designer/#_30","text":"","title":"\u0423\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u043b\u044f \u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435 \u0441\u043f\u0440\u0430\u0432\u0430"},{"location":"6.%20Web%20Designer/#websql","text":"VI_Common_DecisionHistory Substring(from DecisionHistory select current displayvalue(UID_PWODecisionRule),5)","title":"WEBSQL \u043a\u0443\u0441\u043e\u0447\u0435\u043a \u0438\u0437 \u0441\u0442\u0440\u043e\u043a\u0438 \u0432\u0437\u044f\u0442\u044c"},{"location":"6.%20Web%20Designer/#regex","text":"\u041f\u0438\u0448\u0435\u043c \u0441\u043a\u0440\u0438\u043f\u0442 #If Not SCRIPTDEBUGGER Then Imports System.Text.RegularExpressions #End If Public Function CCC_isWhiteSpace(ByVal str As String) As Boolean Dim pattern As String pattern = \"^[\\s|\\|\\]\" If Not Regex.IsMatch(str, pattern, RegexOptions.IgnoreCase Or RegexOptions.CultureInvariant) Then Return False Else Return True End If End Function Public Function CCC_isPhoneNumber(ByVal str As String) As Boolean Dim pattern As String pattern = \"^((8|\\7)[\\ ]?)?(\\?\\d{3}\\?[\\ ]?)?[\\d\\ ]{7,10}\\$\" If Not Regex.IsMatch(str, pattern, RegexOptions.IgnoreCase Or RegexOptions.CultureInvariant) Then Return False Else Return True End If End Function CCC_ITShop_Approvals \u0412 \u0412\u0435\u0431 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0432\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440 translate('#LDS#IncorrectValue') CCC_isWhiteSpace(from Vars select current ReasonDeny) \u0418 \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0435 \u0437\u0430\u0431\u044b\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c! \u0418\u043b\u0438 \u043c\u043e\u0436\u043d\u043e \u0435\u0449\u0451 \u0447\u0435\u0440\u0435\u0437 FormatScript \u0443 \u043f\u043e\u043b\u044f \u0441\u0434\u0435\u043b\u0430\u0442\u044c Web designer validation not triggered - Forum - Identity Manager Community - One Identity Community Imports System.Text.RegularExpressions Public Function CCC_ServiceAccount_CheckName(ByVal text As String) As Boolean Dim pattern As String = \"[^A-Za-z0-9\\]\" Dim c As MatchCollection = Regex.Matches(text, pattern) Dim m As Match Return (c.count=0) End Function --","title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043d\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0441\u0442\u044c Regex"},{"location":"6.%20Web%20Designer/#_31","text":"\u041f\u0435\u0440\u0435\u0432\u0435\u0441\u0442\u0438 \u043f\u043e\u0440\u0442\u0430\u043b \u0432 \u043f\u0440\u043e\u0434 \u0440\u0435\u0436\u0438\u043c Just configure your web portal to run in production mode and not in debugging mode as it currently does. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/27929/information-in-error-popup-on-login-page >","title":"\u0423\u0431\u0440\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u043f\u0440\u0438 \u043b\u043e\u0433\u0438\u043d\u0435 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"6.%20Web%20Designer/#_32","text":"\\<\\<HowTo ITShop Service catalog accordeon.docx>>","title":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0441\u043f\u0438\u0441\u043a\u043e\u043c \u0432\u0435\u0440\u0445\u043d\u0435\u0443\u0440\u043e\u0432\u043d\u0435\u0432\u044b\u043c"},{"location":"6.%20Web%20Designer/#it-shop","text":"\\<\\<HowTo ITShop Simplified approval.docx>>","title":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0448\u0430\u0433\u0430 \u043e\u0431\u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438\u043d\u044f\u0442\u044b\u0445 \u0440\u0435\u0448\u0435\u043d\u0438\u0439 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c \u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f \u0432 IT Shop"},{"location":"6.%20Web%20Designer/#_33","text":"Hello Community, we have 1IM V8.1 running in the environment with 2 Application Servers connected via load balancer and 2 Web Servers connected via load balancer. Is it enough to configure the load balancer for the Application Servers as follows: sticky sessions support from the load balancer ss-id cookies for Application Server the signing (session token) certificate of both application servers is the same, which allows reusing a session from one application server in case of a server switch. Should the load balancer for Web Servers have a similar configuration? Load balancer configuration for Application and Web Servers - Forum - Identity Manager Community - One Identity Community","title":"\u0411\u0430\u043b\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0449\u0438\u043a"},{"location":"6.%20Web%20Designer/#_34","text":"Identity Manager 8.0.5 - Web Designer Reference Guide (oneidentity.com) \u0427\u0442\u043e\u0431\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u043f\u043e\u0438\u0441\u043a \u0443 Grid, \u043d\u0430\u0434\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 Extended Properties","title":"\u041f\u043e\u0438\u0441\u043a"},{"location":"6.%20Web%20Designer/#pwo","text":"\u041f\u043e\u043b\u0435 PWO DisplayObjectKeyAssignment","title":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u0432 PWO \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435"},{"location":"6.%20Web%20Designer/#load-collection-where","text":"sqlcompareuid(\"uid_person\", from Container select UID_PersonSelected) sqland(\"CCC_EmployeeType='Contractor'\",\"IsInActive='1'\") format(\"UID_AccProduct in (select StructureDisplay1 from AttestationCase where StructureDisplay1 \\<> '')\") Sqlcompareuid - \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0434\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435.","title":"LOAD Collection \u0443\u0441\u043b\u043e\u0432\u0438\u0435 WHERE"},{"location":"6.%20Web%20Designer/#_35","text":"CCC_ITShop_ProductSelection \u0438\u0437 \u043d\u0435\u0433\u043e \u0438\u0434\u0435\u0442 VI_Edit_MultiFK \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e VI_Edit_MultiFK \u041a\u043e\u043f\u0438\u0440\u0443\u0435\u043c \u043a\u043d\u043e\u043f\u043a\u0443 Change \u0421\u043e\u0437\u0434\u0430\u0435\u043c Content1 CandidateDbWhereClause \u0437\u0430\u043c\u0435\u043d\u044f\u0435\u043c \u043d\u0430 \"\" \u0423 \u043a\u043d\u043e\u043f\u043a\u0438 \u0434\u0435\u043b\u0430\u0435\u043c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 Content1","title":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0443\u0432\u043e\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u0438 \u0437\u0430\u043a\u0430\u0437\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f"},{"location":"6.%20Web%20Designer/#multi-request-resources","text":"From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.0/it-shop-administration-guide/2 >","title":"Multi-request resources"},{"location":"6.%20Web%20Designer/#object-dependent-references","text":"","title":"\u0414\u043b\u044f Object Dependent References \u043f\u0440\u0438\u0432\u044f\u0437\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u043a \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0443"},{"location":"6.%20Web%20Designer/#validate","text":"\u0424\u0443\u043d\u043a\u0446\u0438\u044f exists \u0432\u0435\u0434\u0435\u0442 \u0441\u0435\u0431\u044f \u0441\u0442\u0440\u0430\u043d\u043d\u043e, \u0432\u043c\u0435\u0441\u0442\u043e \u043d\u0435\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0436\u043d\u043e count","title":"\u0412\u0430\u043b\u0438\u0434\u0430\u0442\u043e\u0440 \u0432\u044b\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443 (validate)"},{"location":"6.%20Web%20Designer/#where-clause","text":"\"(UID_WorkDeskType='e6e5472b-3fe0-4eb8-b5d9-84b3fa16c2a4')\" \u0418\u043b\u0438 sqlcompare (\"LastName\", \"Schm*\", \"string\", \"LIKE\")","title":"Where Clause"},{"location":"6.%20Web%20Designer/#viewing-permission-denied-for-value","text":"\u0414\u043e\u0431\u0430\u0432\u0438\u043b \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0432\u0445\u043e\u0436\u0443 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b \u0432 APP \u0440\u043e\u043b\u044c \"Identity & Access Governance\\\u00a7Auditors\"","title":"\u041d\u0435 \u0445\u0432\u0430\u0442\u0430\u0435\u0442 \u043f\u0440\u0430\u0432 \u043d\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044f \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \"Viewing permission denied for value\""},{"location":"6.%20Web%20Designer/#itshop-unsgroupb-serviceitem-itshop-itshoporghasunsgroupb","text":"","title":"\u0417\u0430 \u0441\u0432\u044f\u0437\u044c ITShop \u0438 UNSGroupB (\u0441 \u0438\u043c\u0435\u044e\u0449\u0438\u043c\u0441\u044f ServiceItem \u0438 \u0433\u0430\u043b\u043a\u043e\u0439 ITShop) \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 ITShopOrgHasUNSGroupB"},{"location":"6.%20Web%20Designer/#_36","text":"VI_ITShop_QueryToPerson","title":"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0432\u044b\u0432\u043e\u0434 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b (\u0432\u044b\u0432\u043e\u0434 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432)"},{"location":"6.%20Web%20Designer/#_37","text":"VI_Edit_FK / VI_Edit_FK_AutoComplete \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435 FK! \u041a\u043e\u0442\u043e\u0440\u043e\u0435 \u0441\u0441\u044b\u043b\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0434\u0440\u0443\u0433\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443! \u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e. \u0421\u043c\u044b\u0441\u043b: \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e Single-row \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e, \u0432 \u043d\u0435\u0439 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c Column, \u043a\u0430\u043a \u043d\u0430 \u0441\u043a\u0440\u0438\u043d\u0448\u043e\u0442\u0435 \u0410 \u0432 VI_Edit_FK_AutoComplete \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u044d\u0442\u0443 \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0438\u0437 Single-row \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e","title":"\u0412\u044b\u0431\u043e\u0440 \u0438\u0437 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0437\u0430\u043f\u0438\u0441\u0435\u0439"},{"location":"6.%20Web%20Designer/#ad-itshop","text":"\u041f\u0440\u043e\u0446\u0435\u0441\u0441 ADS_ADSGroup_Publish_to_ITShop \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u0434\u043b\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0444\u0438\u0447\u0438 QER\\ITShop\\GroupAutoPublish","title":"\u0410\u0432\u0442\u043e\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f AD \u0433\u0440\u0443\u043f\u043f \u0432 ITShop"},{"location":"6.%20Web%20Designer/#-select-reference-user","text":"\u041e\u0442\u0432\u0435\u0447\u0430\u044e\u0442 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b VI_ITShop_ProductSelectionByReferenceUser VI_ITShop_ProductSelection_ReferenceUser From \\< https://www.oneidentity.com/community/identity-manager/f/forum/27283/selecting-a-reference-user-to-copy-its-products-assigned-does-not-show-all-the-assigned-products-of-the-user >","title":"\u041d\u0430\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u043d\u043e\u043c\u043e\u0447\u0438\u0439 - \u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043a\u0430\u043a \u0443 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (select reference user)"},{"location":"6.%20Web%20Designer/#_38","text":"\u0414\u043b\u044f \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0441\u0441\u044b\u043b\u043a\u0430 \u0432 \u043c\u0435\u043d\u044e \u0431\u0443\u0434\u0435\u0442 \u0441\u043a\u0440\u044b\u0442\u0430 \u041c\u043e\u0434\u0443\u043b\u044c VI_ITShop_ProductSelection from Container select current WhereClauseGroup = \"uid_accproductgroup = 'd492fba0-3be1-49df-a355-d84b3ad1eb20'\" \u0414\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u044f \u0441\u043e\u0437\u0434\u0430\u043b \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e: \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e VI_ITShop_ProductSelection_ReferenceUser \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_ITShop_ProductSelection \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c \u0434\u043b\u044f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 Container - \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 uidPersonReferenceSED \u0442\u0430\u043a\u043e\u0439 \u0436\u0435, \u043a\u0430\u043a uidPersonReferenceSED \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e, \u043a\u0430\u043a Select a reference user \u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u0443\u043d\u043a\u0442\u0430 \u043c\u0435\u043d\u044e \u0434\u0435\u043b\u0430\u0435\u043c: from Container select current WhereClauseGroup = \"uid_accproductgroup = 'd492fba0-3be1-49df-a355-d84b3ad1eb20'\" Set Foreign Key \u0441\u0442\u0430\u0432\u0438\u043c uidPersonReferenceSED \u0412 Events \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u043d\u0430 Update Container Load Collection - PersonReference \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where format(\"uid_person = {0}\", sqlformatvalue(from container select uidpersonreferencesed , \"string\", \"NonUnicodeLiterals\")) \u0414\u0435\u043b\u0430\u0435\u043c \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 \u043a\u043e\u043f\u0438\u044e VI_ITShop_ProductSelection_ReferenceUser Property watch = uidPersonReferenceSED \u0412 \u043a\u043e\u043f\u0438\u0438 VI_ITShop_ProductSelection_ReferenceUser \u0447\u0435\u0440\u0435\u0437 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u0427\u0435\u0440\u0435\u0437 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435 \u0434\u043b\u044f Fill Collection ObjectAssignment \u0434\u0435\u043b\u0430\u0435\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where FullPath LIKE \"SED*\"","title":"\u0423\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u0435\u043d\u044e \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438, \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u043a\u0430\u043a \u0443 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f)"},{"location":"6.%20Web%20Designer/#database-queries","text":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0432 WebDesigner -> Edit -> Edit database queries \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0442\u0430\u043a: \u0413\u0440\u0430\u0431\u043b\u0438: \u0415\u0441\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0447\u0435\u0440\u0435\u0437 wizard \u0442\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f. \u041d\u0438\u0436\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0435\u0442. \u041d\u0443\u0436\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. insert into QBMGroupHasLimitedSQL(UID_QBMLimitedSQL,UID_DialogGroup,XObjectKey) select UID_QBMLimitedSQL,UID_DialogGroup,concat('\\<Key>\\<T>QBMGroupHasLimitedSQL\\</T>\\<P>',UID_QBMLimitedSQL,'\\</P>\\<P>',UID_DialogGroup,'\\</P>\\</Key>') as XObjectKey from (select (select UID_DialogGroup from DialogGroup where GroupName = N'CCCViewPermissions') as UID_DialogGroup,(select UID_QBMLimitedSQL from QBMLimitedSQL where Ident_QBMLimitedSQL = N'CCC_CMDBGetParamFilter') as UID_QBMLimitedSQL) as x \u041d\u0443\u0436\u043d\u043e \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044f \u0432 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441 \u0438\u043d\u0430\u0447\u0435 \u0431\u0443\u0434\u0435\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0447\u0442\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0435\u043a\u0438\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435 \u043f\u043e\u043b\u044f.","title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 Database queries"},{"location":"6.%20Web%20Designer/#fk","text":"\u0414\u043b\u044f \u0441\u0430\u043c\u043e\u0439 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u043c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c Display \u0432 Designer","title":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u043c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u043c \u043e\u043a\u043d\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 FK"},{"location":"6.%20Web%20Designer/#_39","text":"\u0421\u043e\u0437\u0434\u0430\u043d \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0439 \u043c\u043e\u0434\u0443\u043b\u044c \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 VI_ITShop_ProductSelection_ReferenceUser (CCC_ITShop_ProductSelection_ReferenceUser_SED) \u0412 \u043c\u043e\u0434\u0443\u043b\u0435 VI_ITShop_ProductSelection (\u0443 \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430 CCC_VI_ITShop_ProductSelection) \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 Collections - Container - Property (uidPersonReferenceSED) - \u043a\u0430\u043a \u043a\u043e\u043f\u0438\u044f uidPersonReference \u0412 ToolbarButton4 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u043a \u043a\u043e\u043f\u0438\u044e \"Select a reference user\" - Select a reference user for SED - \u0441 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u043e\u043c \u0412 ObjectSwitchContainer2 \u0432 Action - Set foreign key \u0437\u0430\u0434\u0430\u0442\u044c Property - uidPersonReferenceSED \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043d\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0435 Update - Container \u043f\u043e \u043f\u043e\u043b\u044e uidPersonReferenceSED \u0438 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 CCC_ITShop_ProductSelection_ReferenceUser_SED \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 CCC_ITShop_ProductSelection_ReferenceUser_SED \u0434\u043b\u044f Fill collection: ObjectsAssignment \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043f\u0440\u0430\u0432\u0438\u043b\u043e \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 - \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0421\u042d\u0414 \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0421\u042d\u0414 - \u043d\u0430\u0434\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430 \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 VI_ITShop_ProductSelection \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0440\u0443\u043f\u043f\u044b AD Sed - \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 CCC_ITShop_ProductSelection_ReferenceUser_SED \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 AccProductGroupCollection \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u043c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u043c \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u0440\u0443\u043f\u043f\u044b \u0438\u0437 \u044d\u0442\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0417\u0430\u0434\u0430\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 - UID \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 \u0421\u042d\u0414!","title":"\u041a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0437\u0430\u043a\u0430\u0437 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u043a\u0430\u043a \u0443 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438)"},{"location":"6.%20Web%20Designer/#ccc_itshop_accproductgroupselector","text":"\u0418\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 VI_ITShop_ProductSelection \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c VI_Popup \u0438\u0437 Select reference user \u0412 Action \u043a\u043d\u043e\u043f\u043a\u0438 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 CCC_ITShop_AccProductGroupSelector \u0412 ComponentInterface1 \u0432 virtual collection Container \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c VirtualProperty uidpersonreference \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u0443\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e PersonReference \u0418\u0437 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 VI_ITShop_ProductSelection \u0441\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c Event Update uidpersonreference \u0412 CCC_ITShop_AccProductGroupSelector","title":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442, \u0447\u0435\u0440\u0435\u0437 \u043a\u043d\u043e\u043f\u043a\u0443 \u0432 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 CCC_ITShop_AccProductGroupSelector"},{"location":"6.%20Web%20Designer/#_40","text":"\u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 CCC_Attestation_AttestationCase_ViewMultiplePolicy \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c ApplyFilledHeight = false","title":"\u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f. \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043b\u0443\u0447\u0430\u0435\u0432 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u0438 \u0441 \u0431\u0435\u0433\u0443\u043d\u043a\u043e\u043c \u043f\u043e \u0432\u044b\u0441\u043e\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b."},{"location":"6.%20Web%20Designer/#_41","text":"\u0414\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430 \u043f\u0440\u0438 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 VI_ITShop_ShoppingCartItem_Editor \u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u043f\u0438\u0441\u043a\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f GetAccProductParams","title":"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u043a\u043d\u0430 \u0432\u044b\u0431\u043e\u0440\u0430 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"},{"location":"6.%20Web%20Designer/#candidates","text":"\u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_ITShop_ProductSelection GridBand: AccProductCandidate \u043c\u0435\u043d\u044f\u0435\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where \u043d\u0430 from container select sqland(GetEffectiveGroupWhereClause(), whereclauseperson, \"uid_AccProduct in (select UID_AccProduct from AccProduct where IsSpecialProduct = '0')\" ) \u0412\u0430\u0440\u0438\u0430\u043d\u0442 2 \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 VI_ITShop_ProductSelection (\u0421\u0421\u0421_VI_ITShop_ProductSelection) \u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u044e ExcludeHiddenAccProducts() \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \"uid_AccProduct in (select UID_AccProduct from AccProduct where XTouched = 'H')\" GridBand: AccProductCandidate \u043c\u0435\u043d\u044f\u0435\u043c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 Where \u043d\u0430 from container select sqland(GetEffectiveGroupWhereClause(), whereclauseperson, ExcludeHiddenAccProducts() ) \u0414\u043b\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0441 \u0434\u043e\u043f. \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 (\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0445\u043e\u0442\u0438\u043c \u0441\u043a\u0440\u044b\u0442\u044c) \u0443\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0430\u0442\u0440\u0438\u0431\u0443\u0442 XTouched = 'H'","title":"\u0421\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b \u0438\u0437 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 (Candidates)"},{"location":"6.%20Web%20Designer/#_42","text":"\u0412 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u043c \u043c\u043e\u0434\u0443\u043b\u0435 CCC_ITShop_ShoppingCartItem_Editor_SED \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0448\u0430\u0433 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 ShoppingCartItem \u0438\u0437 \u0411\u0414! \u0421 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c \u043e\u0442\u0431\u043e\u0440\u0430 - \u0447\u0442\u043e \u044d\u0442\u043e Parent \u043f\u0440\u043e\u0434\u0443\u043a\u0442 uid_shoppingcartitem = (from ShoppingCartItem select uid_shoppingcartitem where IsOptionalChild = False )","title":"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"},{"location":"6.%20Web%20Designer/#checkbox","text":"\u0414\u043b\u044f checkbox \u0441\u0434\u0435\u043b\u0430\u0442\u044c Extended properties \u0441 Identifier: if (from AccProductOptional select current Orderable = false) then \"checked disabled\" else \"\"","title":"\u0421\u0434\u0435\u043b\u0430\u0442\u044c checkbox \u043d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c (\u0441\u0435\u0440\u044b\u043c) \u0438 \u0441 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0439 \u0433\u0430\u043b\u043e\u0447\u043a\u043e\u0439"},{"location":"6.%20Web%20Designer/#multirequetable","text":"\u041d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0435\u0449\u0451 \u043e\u0434\u0438\u043d Action \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c: (select count() from AccProductOptional where Orderable = true) = 0 and (from shoppingcartitem select current IsOptionalChild = false) \u0418 \u043f\u0440\u043e\u0441\u0442\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c PopUp \u0441 \u0442\u0435\u043a\u0441\u0442\u043e\u043c","title":"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043e\u043a\u043d\u0430 \u0434\u043b\u044f Multirequetable \u0440\u0435\u0441\u0443\u0440\u0441\u0430 \u0435\u0441\u043b\u0438 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 (\u043d\u0435 \u0437\u0430\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u0445) \u0434\u043e\u043f. \u041f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432"},{"location":"6.%20Web%20Designer/#_43","text":"\u041d\u0430\u0434\u043e \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 VI_Start \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435, Container3","title":"\u0423\u0431\u0440\u0430\u0442\u044c \u043f\u043b\u0430\u0448\u043a\u0443 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u044f \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432 \u0441 \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u044d\u043a\u0440\u0430\u043d\u0430"},{"location":"6.1%20Timeout%20session/","text":"6.1 Timeout session 21 \u044f\u043d\u0432\u0430\u0440\u044f 2026 \u0433. 16:42 How to increase the web portal timeout duration? (4328582) Return Did this article solve an issue for you? [Select Rating] Title How to increase the web portal timeout duration? Description To increase the amount of time before a user is automatically logged out of their IT Shop session, the web.config file for the web project will need to be manually modified. Cause By default ASP.NET uses cookies to identify which requests belong to a particular session. If cookies are not available, a session can be tracked by adding a session identifier to the URL. To disable cookies, set sessionState cookieless=\"true\". Resolution Open the web.config file (e.g. C:\\inetpub\\wwwroot\\IdentityManager) using a text editor and increase the timeout in the \"sessionState\" section to the desired amount of time, e.g.: sessionState mode=\"InProc\" stateConnectionString=\"tcpip=[REDACTED_IP]:42424\" sqlConnectionString=\"data source=[REDACTED_IP];Trusted_Connection=yes\" cookieless=\"false\" **timeout=\"30\" ** (where the default is 20) Click To See Full Image. From \\< https://support.oneidentity.com/identity-manager/kb/4328582/how-to-increase-the-web-portal-timeout-duration >","title":"6.1 Timeout session"},{"location":"6.10%20%D0%9D%D0%B5%20%D1%83%D0%B4%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%B2%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%D1%82%D1%8C%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%83%D1%8E%20%D1%80%D0%BE%D0%BB%D1%8C%20System%20role%20%D0%B2%20%D0%B4%D1%80%D1%83%D0%B3%D1%83%D1%8E%20%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%83%D1%8E%20%D1%80%D0%BE%D0%BB%D1%8C/","text":"6.10 \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0440\u043e\u043b\u044c System role \u0432 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0440\u043e\u043b\u044c 13 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2022 \u0433. 14:51 System roles with Only use in IT Shop set can only be assigned to system roles that also have this option set. From \\< https://support.oneidentity.com/technical-documents/identity-manager/8.1.2/system-roles-administration-guide/5#TOPIC-1371452 >","title":"6.10 \u041d\u0435 \u0443\u0434\u0430\u0435\u0442\u0441\u044f \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0440\u043e\u043b\u044c System role \u0432 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0440\u043e\u043b\u044c"},{"location":"6.11%20%D0%9D%D0%B0%20%D0%B3%D0%BB%D0%B0%D0%B2%D0%BD%D0%BE%D0%B9%20%D0%BF%D0%BE%D1%80%D1%82%D0%B0%D0%BB%D0%B0%20%D0%BE%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B0%D0%B5%D1%82%D1%81%D1%8F%20%D0%BF%D0%BB%D0%B8%D1%82%D0%BA%D0%B0%20%D0%9C%D0%BE%D0%B8%20%D0%B0%D1%82%D1%82%D0%B5%D1%81%D1%82%D0%B0%D1%86%D0%B8%D0%B8%20%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9/","text":"6.11 \u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u043b\u0438\u0442\u043a\u0430 \u041c\u043e\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 9 \u043d\u043e\u044f\u0431\u0440\u044f 2022 \u0433. 17:30 \u041d\u0430\u0434\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0432\u0441\u0435 \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u0441 Attestation procedure \"System entitlement membership attestation\" \u041f\u043e\u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u0432 \u043c\u043e\u0434\u0443\u043b\u0435 Web Designer VI_Start \u0443 AttSwith \u0435\u0441\u0442\u044c \u0443\u0441\u043b\u043e\u0432\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f exists(\"attestationpolicy\", \"UID_AttestationObject = 'TSB-46A0392199784628A827A9C6D651DD50' and IsInactive=0\") \u041b\u0438\u0431\u043e \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043a\u0430\u043a Extension AttCase4","title":"6.11 \u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u043b\u0438\u0442\u043a\u0430 \u041c\u043e\u0438 \u0430\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"},{"location":"6.12%20%D0%A1%D0%BB%D0%B8%D1%88%D0%BA%D0%BE%D0%BC%20%D0%B1%D0%BE%D0%BB%D1%8C%D1%88%D0%BE%D0%B5%20%D0%B2%D1%81%D0%BF%D0%BB%D1%8B%D0%B2%D0%B0%D1%8E%D1%89%D0%B5%D0%B5%20%D0%BC%D0%BE%D0%B4%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5%20%D0%BE%D0%BA%D0%BD%D0%BE/","text":"6.12 \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e 15 \u043d\u043e\u044f\u0431\u0440\u044f 2022 \u0433. 16:56 \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 ITShop_ShoppingCartItem_Editor \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043a\u043e\u043b-\u0432\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043d\u0430 \u043b\u0438\u0441\u0442 \u0418\u043b\u0438 \u0442\u0430\u043a","title":"6.12 \u0421\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e"},{"location":"6.13%20Accordeon%20%D1%81%D0%B2%D0%B5%D1%80%D0%BD%D1%83%D1%82%D1%8C%20%D0%BA%D0%B0%D1%82%D0%B5%D0%B3%D0%BE%D1%80%D0%B8%D0%B8%20%28Tab%29/","text":"6.13 Accordeon \u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 (Tab) 28 \u043d\u043e\u044f\u0431\u0440\u044f 2022 \u0433. 12:20 \u041d\u0430\u0434\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443 Tab page - Condition for initial expansion \u0432 False","title":"6.13 Accordeon \u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438 (Tab)"},{"location":"6.14%20%D0%A3%D1%81%D0%BA%D0%BE%D1%80%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%D0%B0%20%D0%B8%D1%81%D1%82%D0%BE%D1%80%D0%B8%D0%B8%20%D0%90%D1%82%D1%82%D0%B5%D1%81%D1%82%D0%B0%D1%86%D0%B8%D0%B8/","text":"6.14 \u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0432\u044b\u0432\u043e\u0434\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438 28 \u043d\u043e\u044f\u0431\u0440\u044f 2022 \u0433. 14:02 \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 VI_Roles_AttestaitonCasesForObject \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e VI_Attestation_AttestationCaseMasterDetail \u0441 \u0437\u0430\u043c\u0435\u043d\u043e\u0439 \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e VI_Attestation_AttestationCase (CCC_Attestation_AttestationCase_History) - \u0431\u0435\u0437 \u0437\u0430\u043c\u0435\u043d\u044b \u0412 VI_Attestation_AttestationCaseMasterDetail \u0441\u0441\u044b\u043b\u0430\u0435\u043c\u0441\u044f \u043d\u0430 CCC_Attestation_AttestationCase_History \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e VI_Attestation_AttestationCase_ViewMultiplePolicy \u0431\u0435\u0437 \u0437\u0430\u043c\u0435\u043d\u044b (CCC_Attestation_AttestationCase_ViewMultiplePolicy_History) \u0418\u0437 CCC_Attestation_AttestationCase_History \u0441\u0441\u044b\u043b\u0430\u0435\u043c\u0441\u044f \u043d\u0430 CCC_Attestation_AttestationCase_ViewMultiplePolicy_History \u0412 CCC_Attestation_AttestationCase_ViewMultiplePolicy_History \u0443\u0434\u0430\u043b\u044f\u0435\u043c \u043b\u0438\u0448\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438","title":"6.14 \u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0432\u044b\u0432\u043e\u0434\u0430 \u0438\u0441\u0442\u043e\u0440\u0438\u0438 \u0410\u0442\u0442\u0435\u0441\u0442\u0430\u0446\u0438\u0438"},{"location":"6.15%20%D0%9E%D1%82%D0%BA%D0%BB%D1%8E%D1%87%D0%B8%D1%82%D1%8C%20%D1%81%D1%81%D1%8B%D0%BB%D0%BA%D0%B8%20%D0%B2%20VI_Common_ProperyViewer/","text":"6.15 \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438 \u0432 VI_Common_ProperyViewer 29 \u043d\u043e\u044f\u0431\u0440\u044f 2022 \u0433. 14:21 \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044e EnableNavigation = False","title":"6.15 \u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0438 \u0432 VI Common ProperyViewer"},{"location":"6.16%20%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20CSS/","text":"6.16 \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 CSS 19 \u0434\u0435\u043a\u0430\u0431\u0440\u044f 2022 \u0433. 11:45 \u0412 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0435 \u043d\u0430\u0439\u0442\u0438 \u043d\u0443\u0436\u043d\u044b\u0439 \u043a\u043b\u0430\u0441\u0441 \u0412 WebDesigner \u043f\u043e\u0438\u0441\u043a\u043e\u043c \u043d\u0430\u0439\u0442\u0438 \u043e\u0442\u0432\u0435\u0447\u0430\u044e\u0449\u0438\u0439 \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0437\u0430 \u044d\u0442\u043e\u0442 \u043a\u043b\u0430\u0441\u0441 CSS \u0414\u0435\u043b\u0430\u0435\u043c \u043a\u043e\u043f\u0438\u044e \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 \u0431\u0435\u0437 \u0437\u0430\u043c\u0435\u043d\u044b \u0414\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u0430\u0432\u043a\u0443 \u043a\u043b\u0430\u0441\u0441\u0430 \u0432 \u043d\u043e\u0432\u043e\u043c \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0435 \u0412 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 WebDesigner \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u043d\u0430\u0448 \u043d\u043e\u0432\u044b\u0439 CSS \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0421\u043a\u0440\u044b\u0442\u044c \u043a\u043e\u043b-\u0432\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 Grid .imx-grid-paging-totalcount { display: none; } .imx-nodataindication { display: none; } From \\< https://www.oneidentity.com/community/identity-manager/f/forum/26821/v8---web-designer---gridband-hide-number-of-search-results >","title":"6.16 \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 CSS"},{"location":"6.17%20%D0%97%D0%B0%D0%BF%D1%83%D1%81%D0%BA%20%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B0%20%D1%81%20%D0%BF%D0%BE%D1%80%D1%82%D0%B0%D0%BB%D0%B0/","text":"6.17 \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0441 \u043f\u043e\u0440\u0442\u0430\u043b\u0430 12 \u043c\u0430\u044f 2023 \u0433. 12:26 var runner = new VI.DB.Scripting.ScriptRunner(_Connection.Scripts[\"scripts\"], _Database); runner.Eval(\"NameOfYourScript\", new object[]{ someParameter }); Class Test Public _s As VI.DB.Entities.ISession Dim _prop As String Public Property Prop() As String Get Return Me._prop End Get Set(ByVal t As String) Dim runner = New VI.DB.Scripting.ScriptRunner(Me._s.Scripts()(VI.DB.Scripting.ScriptContext.Scripts), Me._s) Dim result = runner.Eval(\"CCC_MyScript\", {\"John\", \"@company.com\"}) Me._prop = CStr(result) End Set End Property End Class var CCC_UID_person = this.DataContext.ScriptData.GetColumn(\"UID_Person\"); var CCC_DoApprove = this.DataContext.ScriptData.GetColumn(\"DoApprove\"); var CCC_UID_PWO = this.DataContext.ScriptData.GetColumn(\"UID_PWO\"); var CCC_SubLevel = this.DataContext.ScriptData.GetColumn(\"SubLevel\"); var CCC_Reason = this.DataContext.ScriptData.GetColumn(\"ReasonText\"); var CCC_uidJustification = this.DataContext.ScriptData.GetColumn(\"uidJustification\"); var runner = new VI.DB.Scripting.ScriptRunner(_Connection.Scripts[\"scripts\"], _Database); var row1 = this.DataContext.ScriptData.FirstOrDefault(); runner.Eval(\"CCC_PWOCallMakeDecisionMethod\", new object[]{ CCC_UID_PWO.GetValue(row1).ToString(), CCC_UID_person.GetValue(row1).ToString(), bool.Parse(CCC_DoApprove.GetValue(row1).ToString()), CCC_Reason.GetValue(row1).ToString(), CCC_uidJustification.GetValue(row1).ToString(), Convert.ToInt32(CCC_SubLevel.GetValue(row1).ToString()) });","title":"6.17 \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0441 \u043f\u043e\u0440\u0442\u0430\u043b\u0430"},{"location":"6.18%20IT%20Shop/","text":"6.18 IT Shop 13 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2026 \u0433. 11:49 Create Dynamic Role \u041d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u0437\u043d\u0430\u0447\u0435\u043a \u0411\u0414 \u0438 \u0432 \u043f\u043e\u043b\u0435 Condition \u0443\u043a\u0430\u0437\u0430\u0442\u044c 1=1 - \u043e\u0437\u043d\u0430\u0447\u0430\u0435\u0442, \u0447\u0442\u043e \u0432\u0441\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u0431\u0443\u0434\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f \u043a IT Shop IT Shop \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u0446\u0435\u043b\u0435\u0439. \u0427\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0432\u0438\u0434\u0435 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u0432\u0435\u0431 \u043f\u043e\u0440\u0442\u0430\u043b\u0430, \u043d\u0443\u0436\u043d\u0430 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u043e\u0432. \u0412 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 IT Shop \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430. Shelf - \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0438 \u043d\u0430 \u043d\u0435\u0433\u043e \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0443\u043a\u0442 - \u0440\u0435\u0441\u0443\u0440\u0441 (Assigment resource, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u044f\u0435\u0442\u0441\u044f \u043a \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u0438) (\u0447\u0442\u043e \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c), \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0440\u043e\u043b\u044c, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440. \u0420\u0435\u0441\u0443\u0440\u0441 \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c (Create Assigment resource \u0432 \u0411\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044f\u0445) \u0437\u0430\u0442\u0435\u043c Add resources \u0432 IT Shop. \u0421\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f Approval policy, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0434\u0435\u043b\u0430\u0435\u0442\u0441\u044f Workflow \u043f\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u0440\u043e\u0439\u0442\u0438 \u043f\u0435\u0440\u0435\u0434 \u0442\u0435\u043c, \u043a\u0430\u043a \u043f\u0440\u043e\u0434\u0443\u043a\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u0441\u044f. \u041d\u0430 Shelf \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u0430\u044f Approval policy \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0434\u0435\u043b\u0430\u044e\u0442\u0441\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 (\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044e \u0438 \u0442\u043f.) \u0414\u043b\u044f IT Shop \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0438\u0441\u043d\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f (IT Shop -> Basic conf data -> Service category), \u043d\u0430 \u043d\u0435\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u0442\u0441\u044f Service item (IT Shop -> Service catalog -> Custom defined), \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0411\u0438\u0437\u043d\u0435c \u0440\u043e\u043b\u044c. Service item \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f, \u0447\u0435\u0440\u0435\u0437 Business Roles -> \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c -> Create assignment resource. \u0422\u043e \u0435\u0441\u0442\u044c, \u043c\u044b \u043d\u0430 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0435\u043c \u0440\u0435\u0441\u0443\u0440\u0441, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0442\u043e\u043c \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u044f\u0435\u043c \u0437\u0430 Shelf. \u0417\u0430\u0442\u0435\u043c \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u044f\u0435\u043c Service Item \u0437\u0430 Service Catalog -\u0427\u0442\u043e\u0431\u044b \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 AD \u043d\u0430 IT Shelf \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443 AD, \u0432 OneIM \u0438 \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0433\u0430\u043b\u043a\u0443 IT Shop! \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c Service Item \u0434\u043b\u044f \u043d\u0435\u0435! \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u044d\u0442\u0443 AD \u0433\u0440\u0443\u043f\u043f\u0443 \u043d\u0430 Shelf. \u041d\u0443\u0436\u043d\u043e \u0440\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c Service item \u0432 Service catalog, \u0447\u0442\u043e\u0431\u044b \u043e\u043d \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u0441\u044f \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435. \u0415\u0441\u043b\u0438 \u043d\u0430 \u043f\u043e\u0440\u0442\u0430\u043b\u0435 \u0443 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0435\u0442 \u0433\u0430\u043b\u043a\u0438 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 - \u043d\u0430\u0434\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c Approval policy \u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0442\u044c \u043d\u0430 shelf \u0435\u0435. \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0431\u044b\u043b\u0430 \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u044f \u043f\u0440\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0440\u0443\u043f\u043f\u044b \u0432 self \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b \u0440\u0435\u0441\u0443\u0440\u0441 (Service item) \u0441 \u0442\u0435\u043c \u0436\u0435 \u0438\u043c\u0435\u043d\u0435\u043c, \u0447\u0442\u043e \u0438 \u043a\u043e\u0433\u0434\u0430 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b \u0440\u0435\u0441\u0443\u0440\u0441 (Service item) \u0434\u043b\u044f \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u0438. \u0422\u0430\u043a \u043a\u0430\u043a Shelf \u0441\u0432\u044f\u0437\u0432\u0430\u0435\u0442\u0441\u044f \u0441 \u0433\u0440\u0443\u043f\u043f\u043e\u0439 \u0438\u043b\u0438 \u0431\u0438\u0437\u043d\u0435\u0441 \u0440\u043e\u043b\u044c\u044e, \u0447\u0435\u0440\u0435\u0437 Service item! \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c alexb \u0434\u0435\u043b\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441. \u0423 \u043d\u0435\u0433\u043e Manager - IARLOFS (\u043e\u043d \u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0430\u043f\u043f\u0440\u0443\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u0435\u0433\u043e (CM)) Alexb \u0432 \u0434\u0430\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0435 \u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u0447\u0435\u0442\u0430 \u043d\u0430\u043b\u043e\u0433\u0430 - \u0443 \u043d\u0435\u0435 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 IARLOSS. \u041e\u043d \u0442\u043e\u0436\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u0430\u043f\u043f\u0440\u0443\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u0438\u0437\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u0443\u0434\u0435\u0442 \u0430\u043f\u043f\u0440\u0443\u0432\u043b\u0435\u043d \u0438 \u0443 alexb \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u0430\u0432\u0430. \u0420\u0430\u0437\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 Service category \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u043e\u0440\u0442\u0430\u043b\u0430. \u041c\u043e\u0436\u043d\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e ITShops, \u0441 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0430 \u043d\u0438\u0445. \u041d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u0448\u0430\u0433\u0435 Workflow \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0440\u0430\u0431\u043e\u0442\u044b. \u0421\u043c\u044b\u0441\u043b \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435, \u0430 \u043d\u0430 \u044d\u0442\u043e \u0441\u043e\u0431\u044b\u0442\u0438\u0435 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u043a\u0440\u0438\u043f\u0442\u0430. ---- \u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043e\u0437\u0434\u0430\u0435\u043c \u043e\u0431\u0449\u0438\u0435 \u043f\u043e\u0434 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u044b \u041d\u0435 \u043d\u0430\u0434\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u043c\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u0438\u0442\u0438\u043a \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f.","title":"6.18 IT Shop"},{"location":"6.2%20Database%20queries/","text":"6.2 Database queries 14 \u044f\u043d\u0432\u0430\u0440\u044f 2026 \u0433. 9:41 \u0425\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 QBMLimitedSQL","title":"6.2 Database queries"},{"location":"6.3%20ObjectWalker/","text":"6.3 ObjectWalker 4 \u0434\u0435\u043a\u0430\u0431\u0440\u044f 2025 \u0433. 15:06 from MasterRoleItemsForSelectedMasterRole select current objectwalker(\"FK(CCC_UID_AccProduct).CCC_CodeRoleForWeb\")","title":"6.3 ObjectWalker"},{"location":"6.4%20Translations/","text":"6.4 Translations 12 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 9:45 Identity Manager 9.2.1. and all translations are present in the QBMTranslationsAddOnSource and DialogMultiLanguage Table. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/38455/html-5-angular-web-portal-translations-wont-translate-back-to-the-default-language/90541 >","title":"6.4 Translations"},{"location":"6.5%20%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B8%D1%82%D1%8C%20%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA%20%D1%81%D0%BE%D0%B3%D0%BB%D0%B0%D1%81%D1%83%D1%8E%D1%89%D0%B8%D1%85/","text":"6.5 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0445 5 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 16:14 QER_VITShopDecisionPerson","title":"6.5 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u0445"},{"location":"6.6%20%D0%A4%D0%BE%D1%80%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%B0%20%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B9%20%D0%B2%20%D1%81%D1%82%D1%80%D0%BE%D0%BA%D1%83%20%D0%BD%D0%B0%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B5%20%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/","text":"6.6 \u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 29 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2025 \u0433. 11:17 \u0421\u043e\u0437\u0434\u0430\u0435\u043c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0438\u0437 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0417\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u043c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0442\u043e\u043c \u0431\u0443\u0434\u0435\u043c \u0441\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0442\u044c \u0432 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u0443\u044e \u043a\u043e\u043b\u043e\u043d\u043a\u0443 \u041f\u0440\u043e\u0445\u043e\u0434\u0438\u043c\u0441\u044f ForEachRow \u043f\u043e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0441 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0421\u043e\u0437\u0434\u0430\u0435\u043c Switch \u041f\u0435\u0440\u0432\u043e\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 - \u043e\u0434\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0439 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0414\u0435\u043b\u0430\u0435\u043c Update \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 format(\"'{0}'\", from Files select Current UID_CCCFiles) \u0412\u0442\u043e\u0440\u043e\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435 - Update \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u043e\u0439 \u043a\u043e\u043b\u043e\u043d\u043a\u0438, \u043a\u043e\u0433\u0434\u0430 \u0432 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u043d\u0435 \u043e\u0434\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 format(\"{0},'{1}'\",from CCCFilesAgreed_Temp select UIDs_CCCFiles, from Files select Current UID_CCCFiles) \u0414\u0435\u043b\u0430\u0435\u0442 \u0435\u0449\u0451 \u043e\u0434\u0438\u043d Switch \u0432\u043d\u0435 ForEachRow \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u0441\u0435\u0447\u044c \u043b\u0438\u0448\u043d\u044e\u044e \u0437\u0430\u043f\u044f\u0442\u0443\u044e \u0432\u043d\u0430\u0447\u0430\u043b\u0435 \u0423\u0441\u043b\u043e\u0432\u0438\u0435 (\u043d\u0430\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u043b\u0438\u0448\u043d\u0435\u0439 \u0437\u0430\u043f\u044f\u0442\u043e\u0439) substring(from CCCFilesAgreed_Temp select UIDs_CCCFiles,0,1) = \",\" \u041e\u0442\u0441\u0435\u0447\u0435\u043d\u0438\u0435 \u043b\u0438\u0448\u043d\u0435\u0439 \u0437\u0430\u043f\u044f\u0442\u043e\u0439 - Update \u043d\u043e\u0432\u043e\u0439 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 substring(format(\"{0}\",from CCCFilesAgreed_Temp select UIDs_CCCFiles),1)","title":"6.6 \u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},{"location":"6.7%20%D0%97%D0%B0%D0%B4%D0%B0%D1%82%D1%8C%20%D0%B7%D0%BD%D0%B0%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%BE%D0%BB%D0%BE%D0%BD%D0%BA%D0%B8%20Single%20row%20%D0%BA%D0%BE%D0%BB%D0%BB%D0%B5%D0%BA%D1%86%D0%B8%D0%B8/","text":"6.7 \u0417\u0430\u0434\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 Single row \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 20 \u043c\u0430\u044f 2025 \u0433. 15:07 System.Collections.Generic.IEnumerator\\<VI.WebRuntime.RowCursor> _enumerating1 = new VI.WebRuntime.RowCursorList(this.TempVars).GetEnumerator(); for (int _rowIndex1 = 0; _enumerating1.MoveNext(); _rowIndex1 = (_rowIndex1 + 1)) { VI.WebRuntime.RowCursor Update999_Current = _enumerating1.Current; VI.WebRuntime.IDataColumn _HashExistsFileName = this.TempVars.GetColumn(\"HashExistsFileName\"); await _HashExistsFileName.SetValueAsync(Update999_Current.Row, strresult ).ConfigureAwait(false); }","title":"6.7 \u0417\u0430\u0434\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 Single row \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"},{"location":"6.8%20%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0%20%D0%BA%D0%BE%D1%80%D0%B7%D0%B8%D0%BD%D1%8B/","text":"6.8 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u044b 17 \u0434\u0435\u043a\u0430\u0431\u0440\u044f 2024 \u0433. 14:30 #If Not SCRIPTDEBUGGER Then References NLog.Dll #End If ''' \\<summary> ''' _CCC_ShoppingCartOrder_Check ''' \\</summary> ''' \\<param name=\"UID_ShoppingCartOrder\">\\</param> ''' \\<param name=\"configJson\">\\</param> ''' \\<returns>\\</returns> Public Function _CCC_ShoppingCartOrder_Check(ByVal UID_ShoppingCartOrder As String, ByVal configJson As String) As String ' Variablen Dim counterror As Integer = 0 Dim countwarning As Integer = 0 Dim culLang As System.Globalization.CultureInfo = New System.Globalization.CultureInfo(\"de-DE\") VI.Base.LanguageManager.SetSystemCulture(culLang) Dim log As NLog.LogSession = New NLog.LogSession(NameOf(_CCC_ShoppingCartOrder_Check),\"\") ' Erste Variante mit Submit Dim check = New QER.CompositionApi.ITShop.ShoppingCartSubmit(UID_ShoppingCartOrder) Dim ConfigJsonParm As String = check.GetConfigJson check.Check.Config.CheckMode = QER.CompositionApi.ITShop.CheckMode.CheckOnly Dim tCartItemCheckResult As QER.CompositionApi.ITShop.CartItemCheckResult log.Info(\"Shopping Cart: \" & UID_ShoppingCartOrder & \" will be checked...\") Dim checkResult = check.CheckAsync(Session).Result log.Info(\"Check Config: \") log.Info(ConfigJsonParm ) ' F\u00fcr alle Bestellpositionen Dim items = checkResult.Items() For Each tCartItemCheckResult In items ' Bestellpositionen Pr\u00fcfungen durchf\u00fchren log.Info(\" > Cart Item \" & tCartItemCheckResult.ToString & \" check result...\") Dim itemsChecks = tCartItemCheckResult.checks() ' F\u00fcr alle gefundenen Pr\u00fcfungsresultate For Each checks In itemsChecks ' Resulatat ausgeben log.Info(\" > ID : \" + checks.id + \", Status :\" + checks.Status.toString + \", Title :\" + checks.title) Select Case checks.Status.toString Case \"Warning\" countwarning += 1 Case \"Error\" counterror += 1 Case Else End Select Next Next Return \" In \" & CStr(items.count) & \" Cart Items, there are \" & CStr(countwarning) & \" warnings and \" & CStr(counterror) & \" errors.\" End Function ShoppingCartOrder Check Customization - Forum - Identity Manager Community - One Identity Community","title":"6.8 \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"},{"location":"6.9%20%D0%A3%D0%B2%D0%B5%D0%BB%D0%B8%D1%87%D0%B8%D1%82%D1%8C%20%D0%BC%D0%B0%D0%BA%D1%81%D0%B8%D0%BC%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9%20%D1%80%D0%B0%D0%B7%D0%BC%D0%B5%D1%80%20%D0%B7%D0%B0%D0%B3%D1%80%D1%83%D0%B6%D0%B0%D0%B5%D0%BC%D0%BE%D0%B3%D0%BE%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0/","text":"6.9 \u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 24 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2024 \u0433. 18:36 **Title ** Web Designer Upload file error maximum file size **Description ** Using the \"Upload File\" node and setting a maximum file size gives the following error message when compiling: \"Error code: CS1061; Error description: VI_Employee_EditMasterData.cs(641,28): ' VI.WebRuntime.WebControls.FileUploader' does not contain a definition for 'InputFile' and no extension method 'InputFile' accepting a first argument of type 'VI.WebRuntime.WebControls.FileUploader' could be found (are you missing a using directive or an assembly reference?) (CS1061); Node: ; Property: ; Module: VI_Employee_EditMasterData; Project name: VI_StandardWeb; Compiler: CSharp\" **Cause ** Product defect 34840. **Resolution ** WORKAROUND None STATUS A hotfix is available from Support, please reference defect ID 34840. Please note that \"Maximum file size\" should be a value in Bytes. Also, please note that Hotfix 33695 should be applied BEFORE Hotfix 34840 if it is being applied to a version earlier than 8.1.5, as there are file dependencies. Hotfix 34840 is for version 8.1.5 only. From \\< https://support.oneidentity.com/identity-manager/kb/4342709/web-designer-upload-file-error-maximum-file-size > If you are using IIS for hosting your application, then the default upload file size is 4MB. To increase it, please use this below section in your web.config - \\<configuration>\\<system.web>\\<httpRuntimemaxRequestLength=\"1048576\"/>\\</system.web>\\</configuration> For IIS7 and above, you also need to add the lines below: \\<system.webServer>\\<security>\\<requestFiltering>\\<requestLimitsmaxAllowedContentLength=\"1073741824\"/>\\</requestFiltering>\\</security>\\</system.webServer> Note : maxRequestLength is measured in kilobytes maxAllowedContentLength is measured in bytes From \\< https://stackoverflow.com/questions/3853767/maximum-request-length-exceeded >","title":"6.9 \u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430"},{"location":"7.%20Web%20Portal%20Angular/","text":"7. Web Portal Angular 6 \u0438\u044e\u043b\u044f 2022 \u0433. 14:57 Angular development in 8.2 - Forum - Identity Manager Community - One Identity Community One Identity Elemental UI documentation https://elemental.dev.oneidentity.com/components/custom/sidesheet GitHub - OneIdentity/TechnicalEnablement: Helpful resources regarding to \"One Identity - Technical Enablement\" educational projects GitHub - OneIdentity/IdentityManager.Imx: HTML5 source code for Identity Manager web apps \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0431\u044b\u043b\u043e \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435: \u0414\u043b\u044f \u041f\u043e\u0440\u0442\u0430\u043b\u0430 9.2.2 \u0441\u0442\u0430\u0432\u0438\u043c \u0432\u0435\u0440\u0441\u0438\u044e nodejs 20.19.4 \u0412 Designer \u0441\u0442\u0430\u0432\u0438\u043c none \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 QBM\\ApiServer\\Defaults\\SameSiteCookie \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043d\u0430 ApiServer Globally disable CSRF protection tokens = true API-Server-> Admin-Portal-> Configuration -> Category: IMX -> Globally disable CSRF protection tokens From \\< https://www.oneidentity.com/community/identity-manager/f/forum/36133/angular-development---api-server-doesn-t-accept-requests-because-of-a-missing-xsrf-token/86045 > \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u0437\u0430\u043f\u0443\u0441\u043a\u0430: npm run build:watch qbm npm run build:watch qer npm run start qer-app-portal","title":"7. Web Portal Angular"},{"location":"7.%20Web%20Portal%20Angular/#one-identity-elemental-ui-documentation","text":"https://elemental.dev.oneidentity.com/components/custom/sidesheet GitHub - OneIdentity/TechnicalEnablement: Helpful resources regarding to \"One Identity - Technical Enablement\" educational projects GitHub - OneIdentity/IdentityManager.Imx: HTML5 source code for Identity Manager web apps \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0431\u044b\u043b\u043e \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435: \u0414\u043b\u044f \u041f\u043e\u0440\u0442\u0430\u043b\u0430 9.2.2 \u0441\u0442\u0430\u0432\u0438\u043c \u0432\u0435\u0440\u0441\u0438\u044e nodejs 20.19.4 \u0412 Designer \u0441\u0442\u0430\u0432\u0438\u043c none \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 QBM\\ApiServer\\Defaults\\SameSiteCookie \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043d\u0430 ApiServer Globally disable CSRF protection tokens = true API-Server-> Admin-Portal-> Configuration -> Category: IMX -> Globally disable CSRF protection tokens From \\< https://www.oneidentity.com/community/identity-manager/f/forum/36133/angular-development---api-server-doesn-t-accept-requests-because-of-a-missing-xsrf-token/86045 > \u041f\u043e\u0440\u044f\u0434\u043e\u043a \u0437\u0430\u043f\u0443\u0441\u043a\u0430: npm run build:watch qbm npm run build:watch qer npm run start qer-app-portal","title":"One Identity Elemental UI documentation"},{"location":"7.1%20HTTP%20Error%20404%20Page%20Not%20Found/","text":"7.1 HTTP Error 404 : Page Not Found 28 \u043d\u043e\u044f\u0431\u0440\u044f 2025 \u0433. 9:34 \u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f \u0434\u043e 9.2.1 The API Server sometimes does not extract/process the HTML5 web applications correctly. 440193 From \\< https://support.oneidentity.com/technical-documents/identity-manager/9.2.1/release-notes/2 > Please contact support for a fix for the issue 440193. Additionally, this may be caused by a specific IIS setting. On the application pool settings in IIS Manager, please set \"Disable overlapped recycle\" to \"true\". From \\< https://www.oneidentity.com/community/identity-manager/f/forum/37348/angular-web-portal-returns-http-error-404-page-not-found/89022 >","title":"7.1 HTTP Error 404 Page Not Found"},{"location":"7.10%20Install/","text":"7.10 Install 25 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 11:48 \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0443\u0442\u0438\u043b\u0438\u0442 \u0434\u043b\u044f \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 (\u0447\u0435\u0440\u0435\u0437 chocolatey): VS Code ( Visual Studio Code - Code Editing. Redefined ) choco install vscode NodeJS ( https://nodejs.org/en/ ) choco install nodejs-lts --version=16.15.0 (20.19.4) Git ( https://git-scm.com ) choco install git -y Postman ( https://www.postman.com ) choco install postman -y \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 VSCode. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u043b\u0430\u0433\u0438\u043d\u043e\u0432 Angular Language Service NX console HTML Css Support CSS Formatter \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c API Server \u041a\u043b\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 git clone --branch v92 https://github.com/OneIdentity/IdentityManager.Imx.git ./identitymanager-imx-vid \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 Angular \u043f\u0440\u043e\u0435\u043a\u0442\u0430 cd identitymanager.imx-vid/imxweb/ npm install \u0412 \\identitymanager-imx-vid\\imxweb\\projects\\qer-app-portal\\src\\environments\\environment.ts \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0430\u0434\u0440\u0435\u0441 \u0434\u043e API \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0417\u0430\u043f\u0443\u0441\u043a \u0441\u0431\u043e\u0440\u043a\u0438 QBM -> QER -> qer-app-portal npm run build:watch qbm npm run build:watch qer # --> Start the Web Portal npm run start qer-app-portal","title":"7.10 Install"},{"location":"7.11%20IT%20Shop/","text":"7.11 IT Shop 25 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 16:30 # IT Shop ## 1. New Request The starting point of the request life cycle is defined by the [`NewRequestComponent`](../components/NewRequestComponent.html). This component consists of several tab page:. 1. [`NewRequestProductComponent`](../components/NewRequestProductComponent.html): The main page shows the service items organized by service category. 2. [`NewRequestPeerGroupComponent`](../components/NewRequestPeerGroupComponent.html): In this tab, the user can select recommended service items and organizational structures. 3. [`NewRequestReferenceUserComponent`](../components/NewRequestReferenceUserComponent.html): The user can select service items and organizational structures by reference user here. 4. [`NewRequestProductBundleComponent`](../components/NewRequestProductBundleComponent.html): The user can create requests based on a product bundle. ## 2. Parameter Editor Service items can define request properties. These are handled using the [`ParameterDataService`](../injectables/ParameterDataService.html), which converts the data given by the server to editable parameter columns, that can be edited using the [`CartItemEditComponent`](../components/CartItemEditComponent.html). ## 3. Shopping Cart The entry point into the shopping cart is defined by the [`ShoppingCartComponent`](../components/ShoppingCartComponent.html). It contains a table that lists the cart items in the cart. The items can be edited, deleted and checked for validity. All sub components and services are part of the [`ShoppingCartModule`](../modules/ShoppingCartModule.html). Items in the cart can be moved to the Saved-for-later list and vice versa, this is handled by the [`ShoppingCartForLaterComponent`](../components/ShoppingCartForLaterComponent.html). ## 4. Pending Requests The next step in the workflow is the approval of items. The entry point for this is the [`ApprovalsComponent`](../components/ApprovalsComponent.html), which lists all the requests currently approvable by the user. This also contains a sub component [`InquiriesComponent`](../components/InquiriesComponent.html) which lists inquiries for the user. All the sub components are part of the [`ApprovalsModule`](../modules/ApprovalsModule.html) which includes the components on the corresponding side sheet. ## 5. Request History All requests visible for the current user are displayed by the [`RequestHistoryComponent`](../components/RequestHistoryComponent.html). The actions that the user can perform on these requests are implemented in the [`RequestActionService`](../injectables/RequestActionService.html). ## 6. Archived Requests Archived requests are requests that have been offloaded to the history database. These can be viewed using the [`ArchivedRequestsComponent`](../components/ArchivedRequestsComponent.html). ## 7. Editors for Items ### 7.1. Product Bundles Product bundles can be edited using the [`ItshopPatternComponent`](../components/ItshopPatternComponent.html), defined in the [`ItshopPatternModule`](../modules/ItshopPatternModule.html). ### 7.2. Service Categories The [`ServiceCategoriesModule`](../modules/ServiceCategoriesModule.html) contains the [`ServiceCategoriesComponent`](../components/ServiceCategoriesComponent.html). This component uses a [`DataTreeWrapperComponent`](../../qbm/components/DataTreeWrapperComponent.html) to show the service category structure of the IT shop. ### 7.3. Service Items The service item functionality is part of the [`ServiceItemsEditModule`](../modules/ServiceItemsEditModule.html). The entry point for this component is the ['ServiceItemsEditComponent'](../components/ServiceItemsEditComponent.html) which lists all available service items. Clicking on an item opens a [`ServiceItemsEditSidesheetComponent`](../components/ServiceItemsEditSidesheetComponent.html). ### 7.4. Workflow Editor The workflow editor is part of the [`ApprovalWorkFlowModule`](../modules/ApprovalWorkFlowModule.html). The entry point is the [`ApprovalWorkflowHomeComponent`](../components/ApprovalWorkflowHomeComponent.html). The editing functionality is implemented in the [`ApprovalWorkflowEditComponent`](../components/ApprovalWorkflowEditComponent.html),","title":"7.11 IT Shop"},{"location":"7.12%20Deployment%20customizations/","text":"7.12 Deployment customizations 25 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 10:18 Stop debugging. Terminate batch jobs: In every open terminal press Ctrl+C, reply Y to question Terminate batch job (Y/N)? In terminal window run command: npm run build:app qer-app-portal ( npm run build:lib qer) The result will appear in the \\imxweb\\dist folder Open folder \\imxweb\\dist\\qer-app-portal. Delete folder \\html ??? Using 7-Zip, zip content of the folder and give it a name \u201cHtml_qer-app-portal.zip\u201d Move zip file to the folder C:\\inetpub\\wwwroot\\ApiServer\\bin\\imxweb\\custom Original file can remain in the C:\\inetpub\\wwwroot\\ApiServer\\bin\\imxweb folder Run iisreset From \\< https://www.oneidentity.com/community/identity-manager/f/forum/36900/how-can-i-deploy-the-modified-qem-in-the-production-environment-web-customization > \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0434\u043b\u044f \u0442\u0435\u0441\u0442\u0430 npm run build:watch qer \u0417\u0430\u043f\u0443\u0441\u043a \u0434\u0435\u0431\u0430\u0433\u0430 (\u0442\u0435\u0441\u0442\u0430) npm run start qer-app-portal \u041a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0434\u043b\u044f \u043f\u0440\u043e\u0434\u0430 npm run build:lib qer npm run build:app qer-app-portal","title":"7.12 Deployment customizations"},{"location":"7.13%20Tiles/","text":"7.13 Tiles 24 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 17:10 \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0430\u0439\u043b\u044b projects\\qer\\src\\lib\\wport\\start\\start.component.html \u0421\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0442\u0430\u0439\u043b\u0430 Team role (\u0413\u0440\u0443\u043f\u043f\u043e\u0432\u0430\u044f \u0440\u043e\u043b\u044c) projects\\rmb\\src\\lib\\init.service.ts \u0417\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0442\u044c this.extService.register('Dashboard-MediumTiles', { instance: TeamRoleComponent }); \u041d\u0443\u0436\u043d\u043e \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0442\u044c \u0431\u0443\u0434\u0435\u0442 rmb \u043c\u043e\u0434\u0443\u043b\u044c npm run build:lib rmb","title":"7.13 Tiles"},{"location":"7.13%20Tiles/#_1","text":"projects\\qer\\src\\lib\\wport\\start\\start.component.html","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0442\u0430\u0439\u043b\u044b"},{"location":"7.13%20Tiles/#team-role","text":"projects\\rmb\\src\\lib\\init.service.ts \u0417\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0442\u044c this.extService.register('Dashboard-MediumTiles', { instance: TeamRoleComponent }); \u041d\u0443\u0436\u043d\u043e \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0442\u044c \u0431\u0443\u0434\u0435\u0442 rmb \u043c\u043e\u0434\u0443\u043b\u044c npm run build:lib rmb","title":"\u0421\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0442\u0430\u0439\u043b\u0430 Team role (\u0413\u0440\u0443\u043f\u043f\u043e\u0432\u0430\u044f \u0440\u043e\u043b\u044c)"},{"location":"7.14%20Menu/","text":"7.14 Menu 24 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 17:09 \u041f\u043e\u0438\u0441\u043a this.setupMenu(); projects\\qer\\src\\lib\\qer.service.ts Hide menu Items \u0421\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u043c\u0435\u043d\u044e \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044c projects\\qer-app-portal\\src\\app\\app.component.html \u0421\u043a\u0440\u044b\u0442\u0438\u0435 \u0441\u043f\u0440\u0430\u0432\u043a\u0438 \u0438\u0437 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u043c\u0435\u043d\u044e projects\\qbm\\src\\lib\\mast-head\\mast-head.component.html \u0421\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u00ab\u0417\u0430\u043f\u0440\u043e\u0441\u044b\u00bb \u0441\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u0438 \u00ab\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441\u00bb projects\\qer\\src\\lib\\new-request\\new-request.module.ts \u0438 \u00ab\u041f\u0430\u043a\u0435\u0442\u044b \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432\u00bb. projects\\qer\\src\\lib\\itshop-pattern\\itshop-pattern.module.ts \u0421\u043e\u043a\u0440\u044b\u0442\u0438\u0435 Attestation \u0432 \u0433\u043b\u0430\u0432\u043d\u043e\u043c \u043c\u0435\u043d\u044e projects\\att\\src\\lib\\init.service.ts \u0417\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0442\u044c //this.setupMenu(); \u0421\u043a\u0440\u044b\u0442\u044c \u0432 \u043c\u0435\u043d\u044e \u041e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438 projects\\qer\\src\\lib\\team-responsibilities\\team-responsibilities.module.ts export class TeamResponsibilitiesModule { constructor(private readonly menuService: MenuService, private readonly extService: ExtService, logger: ClassloggerService) { logger.info(this, '\u25b6\ufe0f TeamResponsibilitiesModule loaded'); //this.setupMenu(); this.extService.register('Dashboard-SmallTiles', { instance: TeamResponsibilityTileComponent }); } projects\\tsb\\src\\lib\\init.service.ts this.addRoutes(routes); //this.setupMenu(); //\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0422\u0417 \u043d\u0430 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 ITShop \u043e\u0442 18.09.2025 \u0421\u043a\u0440\u044b\u0442\u044c HyperView \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 projects\\qer\\src\\lib\\profile\\profile.component.html \\<mat-tab-group *ngIf=\"!mailToBeUnsubscribed; else unsubscribeDisplay\" [(selectedIndex)]=\"tabIndex\"> \\<!--\\<mat-tab label=\"{{ '#LDS#Heading Hyperview' | translate }}\"> \\<ng-template matTabContent> \\<mat-card class=\"no-grow\" *ngIf=\"canShowEntitlementsHyperview\"> \\<mat-card-content class=\"profile-hyperview\"> \\<mat-radio-group [(ngModel)]=\"isShowEntitlementsHyperview\"> \\<mat-radio-button [value]=\"false\"> \\<span translate>#LDS#Identity overview\\</span> \\</mat-radio-button> \\<mat-radio-button [value]=\"true\"> \\<span translate>#LDS#Assigned entitlements\\</span> \\</mat-radio-button> \\</mat-radio-group> \\</mat-card-content> \\</mat-card> \\<imx-object-hyperview [objectType]=\"'Person'\" [objectUid]=\"userUid\" [hyperviewName]=\"isShowEntitlementsHyperview ? 'VI_Person_Person_Entitlements_Overview' : ''\"> \\</imx-object-hyperview> \\</ng-template> \\</mat-tab> --> \\<mat-tab label=\"{{ '#LDS#Heading Main Data' | translate }}\" data-imx-identifier=\"profile-main-data\"> \u0421\u043a\u0440\u044b\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0442\u0447\u0435\u0442\u043e\u0432 (\u0432\u043a\u043b\u0430\u0434\u043a\u0443 \u0432 \u0446\u0435\u043b\u043e\u043c) \u0434\u043b\u044f \u0432\u0441\u0435\u0445, \u043a\u0440\u043e\u043c\u0435 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u0432 IDM \u0412 projects\\rps\\src\\lib\\reports\\edit-report.module.ts export class EditReportModule { constructor( private readonly menuService: MenuService, private readonly rpsPermissionService: RpsPermissionsService //\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0422\u0417 \u043d\u0430 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 ITShop \u043e\u0442 18.09.2025 ) { this.initializeMenu(); //\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0422\u0417 \u043d\u0430 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 ITShop \u043e\u0442 18.09.2025 } //\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0422\u0417 \u043d\u0430 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 ITShop \u043e\u0442 18.09.2025 private async initializeMenu(): Promise\\<void> { const isInGroup = false; const isRpsAdmin = await this.rpsPermissionService.isRpsAdmin(); //console.log('isRpsAdmin: ', isRpsAdmin); if (isRpsAdmin) { this.setupMenu(); } }","title":"7.14 Menu"},{"location":"7.14%20Menu/#hide-menu-items","text":"\u0421\u043a\u0440\u044b\u0442\u0438\u0435 \u0438\u0437 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u043c\u0435\u043d\u044e \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 \u043d\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u044c projects\\qer-app-portal\\src\\app\\app.component.html \u0421\u043a\u0440\u044b\u0442\u0438\u0435 \u0441\u043f\u0440\u0430\u0432\u043a\u0438 \u0438\u0437 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u043c\u0435\u043d\u044e projects\\qbm\\src\\lib\\mast-head\\mast-head.component.html \u0421\u043e\u043a\u0440\u044b\u0442\u0438\u0435 \u0432\u043e \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u00ab\u0417\u0430\u043f\u0440\u043e\u0441\u044b\u00bb \u0441\u043a\u0440\u044b\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u0438 \u00ab\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441\u00bb projects\\qer\\src\\lib\\new-request\\new-request.module.ts \u0438 \u00ab\u041f\u0430\u043a\u0435\u0442\u044b \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432\u00bb. projects\\qer\\src\\lib\\itshop-pattern\\itshop-pattern.module.ts \u0421\u043e\u043a\u0440\u044b\u0442\u0438\u0435 Attestation \u0432 \u0433\u043b\u0430\u0432\u043d\u043e\u043c \u043c\u0435\u043d\u044e projects\\att\\src\\lib\\init.service.ts \u0417\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0442\u044c //this.setupMenu(); \u0421\u043a\u0440\u044b\u0442\u044c \u0432 \u043c\u0435\u043d\u044e \u041e\u0431\u044f\u0437\u0430\u043d\u043d\u043e\u0441\u0442\u0438 projects\\qer\\src\\lib\\team-responsibilities\\team-responsibilities.module.ts export class TeamResponsibilitiesModule { constructor(private readonly menuService: MenuService, private readonly extService: ExtService, logger: ClassloggerService) { logger.info(this, '\u25b6\ufe0f TeamResponsibilitiesModule loaded'); //this.setupMenu(); this.extService.register('Dashboard-SmallTiles', { instance: TeamResponsibilityTileComponent }); } projects\\tsb\\src\\lib\\init.service.ts this.addRoutes(routes); //this.setupMenu(); //\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0422\u0417 \u043d\u0430 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 ITShop \u043e\u0442 18.09.2025 \u0421\u043a\u0440\u044b\u0442\u044c HyperView \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 projects\\qer\\src\\lib\\profile\\profile.component.html \\<mat-tab-group *ngIf=\"!mailToBeUnsubscribed; else unsubscribeDisplay\" [(selectedIndex)]=\"tabIndex\"> \\<!--\\<mat-tab label=\"{{ '#LDS#Heading Hyperview' | translate }}\"> \\<ng-template matTabContent> \\<mat-card class=\"no-grow\" *ngIf=\"canShowEntitlementsHyperview\"> \\<mat-card-content class=\"profile-hyperview\"> \\<mat-radio-group [(ngModel)]=\"isShowEntitlementsHyperview\"> \\<mat-radio-button [value]=\"false\"> \\<span translate>#LDS#Identity overview\\</span> \\</mat-radio-button> \\<mat-radio-button [value]=\"true\"> \\<span translate>#LDS#Assigned entitlements\\</span> \\</mat-radio-button> \\</mat-radio-group> \\</mat-card-content> \\</mat-card> \\<imx-object-hyperview [objectType]=\"'Person'\" [objectUid]=\"userUid\" [hyperviewName]=\"isShowEntitlementsHyperview ? 'VI_Person_Person_Entitlements_Overview' : ''\"> \\</imx-object-hyperview> \\</ng-template> \\</mat-tab> --> \\<mat-tab label=\"{{ '#LDS#Heading Main Data' | translate }}\" data-imx-identifier=\"profile-main-data\"> \u0421\u043a\u0440\u044b\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0442\u0447\u0435\u0442\u043e\u0432 (\u0432\u043a\u043b\u0430\u0434\u043a\u0443 \u0432 \u0446\u0435\u043b\u043e\u043c) \u0434\u043b\u044f \u0432\u0441\u0435\u0445, \u043a\u0440\u043e\u043c\u0435 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u0432 IDM \u0412 projects\\rps\\src\\lib\\reports\\edit-report.module.ts export class EditReportModule { constructor( private readonly menuService: MenuService, private readonly rpsPermissionService: RpsPermissionsService //\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0422\u0417 \u043d\u0430 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 ITShop \u043e\u0442 18.09.2025 ) { this.initializeMenu(); //\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0422\u0417 \u043d\u0430 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 ITShop \u043e\u0442 18.09.2025 } //\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0422\u0417 \u043d\u0430 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 ITShop \u043e\u0442 18.09.2025 private async initializeMenu(): Promise\\<void> { const isInGroup = false; const isRpsAdmin = await this.rpsPermissionService.isRpsAdmin(); //console.log('isRpsAdmin: ', isRpsAdmin); if (isRpsAdmin) { this.setupMenu(); } }","title":"Hide menu Items"},{"location":"7.15%20Visibilities%20pages/","text":"7.15 Visibilities pages 22 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 10:55 [Web portal] Set the visibility of a new page based on having an AERole - Forum - Identity Manager Community - One Identity Community","title":"7.15 Visibilities pages"},{"location":"7.16%20Customizing%20portal/","text":"7.16 Customizing portal 22 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 10:48 IdentityManager.Imx/imxweb/custom-theme at v93 \u00b7 OneIdentity/IdentityManager.Imx Web Portal - Font Family - Forum - Identity Manager Community - One Identity Community \u0424\u043e\u043d \u0448\u0430\u043f\u043a\u0438 projects\\qbm\\src\\lib\\mast-head\\mast-head.component.scss .eui-light-theme { :host { ::ng-deep .eui-masthead { background-color: #002F6C; } .mat-toolbar.mat-primary { // background-color: \\$color-blue-80; background-color: #002F6C; color: \\$color-gray-5; } } } \u0426\u0432\u0435\u0442 \u0444\u043e\u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 shared\\assets\\variables.scss \\$Imx_White-two: #F4F4F4; \u0424\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043b\u043e\u0433\u0438\u043d\u0430 projects\\qbm\\src\\lib\\login\\login.component.scss .imx-loginPage { display: flex; flex-direction: column; position: absolute; top: 0; bottom: 0; left: 0; right: 0; ** background-color: \\$iris-blue;** color: \\$white; align-items: center; } \u0422\u0435\u043c\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u041a\u043e\u043d\u0444\u0438\u0433 \u0430\u043f\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 API Server Default theme (ServerLevelConfig/DefaultHtmlTheme)","title":"7.16 Customizing portal"},{"location":"7.16%20Customizing%20portal/#_1","text":"projects\\qbm\\src\\lib\\mast-head\\mast-head.component.scss .eui-light-theme { :host { ::ng-deep .eui-masthead { background-color: #002F6C; } .mat-toolbar.mat-primary { // background-color: \\$color-blue-80; background-color: #002F6C; color: \\$color-gray-5; } } }","title":"\u0424\u043e\u043d \u0448\u0430\u043f\u043a\u0438"},{"location":"7.16%20Customizing%20portal/#_2","text":"shared\\assets\\variables.scss \\$Imx_White-two: #F4F4F4;","title":"\u0426\u0432\u0435\u0442 \u0444\u043e\u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446"},{"location":"7.16%20Customizing%20portal/#_3","text":"projects\\qbm\\src\\lib\\login\\login.component.scss .imx-loginPage { display: flex; flex-direction: column; position: absolute; top: 0; bottom: 0; left: 0; right: 0; ** background-color: \\$iris-blue;** color: \\$white; align-items: center; }","title":"\u0424\u043e\u043d \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043b\u043e\u0433\u0438\u043d\u0430"},{"location":"7.16%20Customizing%20portal/#_4","text":"\u041a\u043e\u043d\u0444\u0438\u0433 \u0430\u043f\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 API Server Default theme (ServerLevelConfig/DefaultHtmlTheme)","title":"\u0422\u0435\u043c\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"},{"location":"7.17%20XSRF%20token/","text":"7.17 XSRF token 26 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2025 \u0433. 16:21 Angular Development - API Server doesn't accept requests because of a missing XSRF Token - Forum - Identity Manager Community - One Identity Community I solved this problem by disabling CSRF protection in my development environment. API-Server-> Admin-Portal-> Configuration -> Category: IMX -> Globally disable CSRF protection tokens","title":"7.17 XSRF token"},{"location":"7.18%20%D0%9E%D1%88%D0%B8%D0%B1%D0%BA%D0%B0%20Cookies/","text":"7.18 \u041e\u0448\u0438\u0431\u043a\u0430 Cookies 26 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2025 \u0433. 16:20 I guess you have your environment.ts pointing right to the apiserver. I've been able to solve it with these two alternatives: You can either modify your environment.ts to point to a local imxclient running apiserver. You'll need to set the /baseurl paramenter and define a web server with the http://localhost:8182 url Or leave the environment.ts untouched, log to the apiserver->Administration Portal->log with an administrator->Configuration->APIServer->SameSite Cookie setting -> None (this can be modified with a newer config setting, you'll see the option there. From \\< https://www.oneidentity.com/community/identity-manager/f/forum/36620/idm-new-portal-v92/86489 >","title":"7.18 \u041e\u0448\u0438\u0431\u043a\u0430 Cookies"},{"location":"7.19%20%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D1%84%D0%B5%D0%B9%D1%81%D0%B0%20%D0%BD%D0%B0%20%D1%80%D1%83%D1%81%D1%81%D0%BA%D0%BE%D0%BC/","text":"7.19 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c 26 \u0430\u0432\u0433\u0443\u0441\u0442\u0430 2025 \u0433. 15:59 \u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0440\u0442\u0430\u043b \u0431\u0440\u0430\u043b \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0437 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0430 \u043d\u0443\u0436\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0442\u0440\u0438\u0431\u0443\u0442 Language \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u0438\u0439 \u0412 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 APIServer \u0434\u043b\u044f WebPortal -ServerConfig/PersonConfig/UseProfileCulture \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c true \u041f\u043e\u0440\u0442\u0430\u043b APIServer \u0431\u0435\u0440\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0437 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430","title":"7.19 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c"},{"location":"7.2%20%D0%9D%D0%B5%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82%20%D0%BF%D0%BE%D0%B8%D1%81%D0%BA/","text":"7.2 \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u043e\u0438\u0441\u043a 27 \u043d\u043e\u044f\u0431\u0440\u044f 2025 \u0433. 15:29 \u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 ApplicationServer \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u0440\u0442\u0430\u043b\u0430. \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043d\u0443\u0436\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 (\u043f\u043e\u0434 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c) \u0437\u0430\u0439\u0442\u0438 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\" \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0434\u043b\u044f \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u0440\u0442\u0430\u043b\u0430: .\\aspnet_regiis -pd \"connectionStrings\" -app \"/ApiServer08042024\" \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u0437\u0430\u0439\u0442\u0438 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u00abC:\\inetpub\\wwwroot\\ApiServer08042024\u00bb, \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0444\u0430\u0439\u043b web.config \u0438 \u0432 \u043d\u0435\u043c, \u0432 \u0431\u043b\u043e\u043a\u0435 \\<connectionStrings>, \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0443 \\<add name=\"AppServerConnection\" (\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 BM.AppServer.Client|url). \u0415\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 Application server - \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0435\u0433\u043e. \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e, \u043d\u0443\u0436\u043d\u043e \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b web.config \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439: .\\aspnet_regiis -pe \"connectionStrings\" -app \"/ApiServer08042024\" \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c IIS. ou can decrypt the web.config file running: .\\aspnet_regiis -pd \"connectionStrings\" -app \"/ApiServer\" you can find the utility in c:\\windows\\Microsoft.Net\\Framework\\V4.xxxx of the server running the IIS with the Apiserver. Make a backup before trying your settings. After modification remember to encrypt the values changing -pd by -pe From \\< https://www.oneidentity.com/community/identity-manager/f/forum/36482/api-server---change-app-server-url >","title":"7.2 \u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u043e\u0438\u0441\u043a"},{"location":"7.20%20CSS/","text":"7.20 CSS 22 \u043c\u0430\u044f 2023 \u0433. 17:32 https://css-tricks.com A Complete Guide to Flexbox | CSS-Tricks - CSS-Tricks","title":"7.20 CSS"},{"location":"7.3%20Debugging/","text":"7.3 Debugging 25 \u043d\u043e\u044f\u0431\u0440\u044f 2025 \u0433. 16:05 \u041d\u0430 \u043c\u0430\u0448\u0438\u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b 1IM \u0412 \u043f\u0430\u043f\u043a\u0435 C:\\Program Files\\One Identity\\One Identity Manager\\ \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u043c \u0444\u0430\u0439\u043b ImxClient.exe.config \u0420\u0430\u0441\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u0443\u0435\u043c \u0438 \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u043c \u0441\u0442\u0440\u043e\u043a\u0438 EXAMPLE MSSQL DB CONNECTION STRING \\<add name=\"conn\" connectionString=\"Data Source=SQL.FIRMA.COM;Initial Catalog=OneIM;User ID=[REDACTED_USER];Password=[REDACTED];Pooling=False\">\\</add> EXAMPLE SYSTEM USER AUTHENTICATION EXAMPLE key to configure the imxclient as a trusted application \u0417\u0430\u043f\u0443\u0441\u043a\u0430\u043c \u043f\u043e\u0434 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c cmd \u0438 \u0438\u0437 \u043f\u0430\u043f\u043a\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c .\\ImxClient.exe run-apiserver -B \u0417\u0430\u0445\u043e\u0434\u0438\u043c \u0432 VS Code \u0438 \u0432 \u043f\u0430\u043f\u043a\u0435 \\imxweb \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u043c npm run start qer-app-portal \u0412 VS Code \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c Debug QER App Portal (Chrome) Debugging Running and debugging HTML applications is possible with the Angular CLI toolchain's standard tools. For example, you can use the ng serve qer-app-portal command to debug the Web Portal HTML application. To debug an HTML application Host the API Server locally (see Hosting API Servers locally ). Start a command line program. Change to the Angular workspace directory. Run the following command: npm run start \\<HTML application> This starts a web server that is accessible by default under http://localhost:4200 and hosts the HTML application. Start debugging in an appropriate development environment (for example, Visual Studio Code). Hosting API Servers locally To debug and develop an HTML application you need an instance of an API Server for connecting HTML applications. To do this, you can host an API Server locally. NOTE: HTML applications connect with the API Server through the URL defined in the HTML application's environment.ts file. The default URL that runs under a locally hosted API Server, is http://localhost:8182 . To host an API Server locally Start a command line program. Change to the Angular workspace directory. Run the following command: imxclient.exe run-apiserver -B Debugging with plugins You can also debug with plugins. Debugging with plugins only works if the local API Server can find the plugin. To debug a static Angular library Host the API Server locally (see Hosting API Servers locally ). Start a command line program. Change to the Angular workspace directory. Run the following command: npm run build:watch \\<Angular library> Start another command line program. Change to the Angular workspace directory. Run the following command: npm run start \\<HTML application> This starts a web server that is accessible by default under http://localhost:4200 and hosts the HTML application. Start debugging in an appropriate development environment (for example, Visual Studio Code). To debug an Angular plugin library Host the API Server locally (see Hosting API Servers locally ). Start a command line program. Change to the Angular workspace directory. Run the following command: npm run build:watch:dynamic \\<Angular plugin library> Start another command line program. Change to the Angular workspace directory. Run the following command: npm run start \\<HTML application> This starts a web server that is accessible by default under http://localhost:4200 and hosts the HTML application. Start debugging in an appropriate development environment (for example, Visual Studio Code). Developing HTML applications with the Visual Studio Code extension In this section, you will find information on how to use with the One Identity Visual Studio Code extension. You can use the Visual Studio Code extension to launch the ImxClient command line program directly in Visual Studio Code without any in-depth knowledge of the syntax: Connect to the database Create the development folder Manage and use compilation branches Update HTML applications with the same setup Compile a HTML application Update the base libraries (API Client) Check for missing translations The Visual Studio Code extension also provides you with the following helpful information: Status of the current database connection Information about the ImxClient used Information about the API Client used Status of the development order Compilation branch display Information on the last translation check From \\< https://support.oneidentity.com/de-de/technical-documents/identity-manager/8.2.1/html5-development-guide/4#TOPIC-1801987 >","title":"7.3 Debugging"},{"location":"7.4%20If/","text":"7.4 If 24 \u043d\u043e\u044f\u0431\u0440\u044f 2025 \u0433. 11:54 \\<ng-container *ngIf=\"existTeamRole; else noTeamRole\">","title":"7.4 If"},{"location":"7.5%20Components/","text":"7.5 Components 24 \u043d\u043e\u044f\u0431\u0440\u044f 2025 \u0433. 10:35 # One Identity Manager Web portal This is the main application of the product. It contains features for managers, auditors, normal users and so on. It can be categorized into the following parts. For a more detailed description, please read the Web Portal Documentation. ## 1. IT-Shop The IT-Shop allows the user to request products. This requests will be decided through configurable workflows, that can be combinations of automated processes and user approvals. ## 2. Data Management The main part of data management is handled through the _Data Explorer_ and the _My Responsibilities_ view, which look quite similar. The _Data Explorer_ is used by administrators or auditors, the _My Responsibilities_ by managers. The objects that can be handled are determined by the dynamic One Identity Manager modules the company has installed. Under the menu item _Statistics_ managers and administrators can look into the statistics. ## 3. Attestation This concerns everything attestation related. Users can manage attestation policies, handle attestation runs and decide the attestation of objects. Attestation is a dynamic library, which needs the corresponding One Identity Manager module to be installed. ## 4. Setup Under the menu item _Setup_ users can manage shops, service items, service categories or reports. The following libraries are available. Which libraries will be used, depends on the configuration of the installation. |Library name | Description| |---|---| Library name Description qbm This is the base library. It contains all the base components, like the data table and the column dependent references. qer This is the Identity Management base library. It contains the basic components for identity management, like the Data Explorer. aob This is the applications library. It contains the components, that are needed to assign entitlements to application bundles. apc This is a library, that is linked into the Data Explorer. It is used to manage software, that is assigned to users. att This is the attestation library. It contains everything, that is attestation related, like attesting objects, manage attestation runs, etc. cpl This is the compliance library. It is used to handle compliance violations and manage compliance rules. hds This is the help desk library. It contains components to resolve help desk tickets or create new ones. olg This is the One Login library. It handles the one login multi factor authentication process. pol This is the policy library. It is used to handle policy violations and manage company policies. rmb This is the business role library. It is linked into the Data Explorer and is used to manage business roles. rms This is the system role library. It is linked into the Data Explorer and is used to manage system roles. rps This is the report library. It contains components to manage reports and assign them to other users. It handles report subscriptions as well. sac This is the SAP R/3 Compliance Add-on Module. It adds some SAP features to the request process. tsb This is the target system library. It is linked into the Data Explorer and is used to manage system entitlements and user accounts from different target systems.","title":"7.5 Components"},{"location":"7.6%20Custom%20theme/","text":"7.6 Custom theme 19 \u043d\u043e\u044f\u0431\u0440\u044f 2025 \u0433. 17:53 Hello Niels ! thank you very much for the detailed answer ! I can find such configuration encoded in Base64 in the DialogUserConfiguration table but only for users that have manually selected the custom theme in \"User Interface Settings\" in Portal (and it works), I'll try to describe my issue here: I install a custom yellow theme using software loader Configure that custom yellow theme in Administration Portal so it should be default to every user in WebPortal The custom yellow theme appears in the \"User Interface Settigns\" list in profile settings Users manually selecting the custom theme in \"User Interface Settigns\" get the correct yellow theme Users entering the Portal without selecting the custom theme in \"User Interface Settigns\" get the 1IM default blue theme From \\< https://www.oneidentity.com/community/identity-manager/f/forum/37036/v92-angular-portal-where-do-the-application-theme-preferences-get-stored/90707 >","title":"7.6 Custom theme"},{"location":"7.7%20Troubleshooting%20Angular%20portal/","text":"7.7 Troubleshooting Angular portal 16 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 10:53 The parameter value for isinactive is not allowed. An error occurred while processing your request: OnlyDirect=true&PageSize=10000&isinactive=0 \u00b7 Issue #98 \u00b7 OneIdentity/IdentityManager.Imx Inactive identities listed in \"My Direct Reports\" start page tile but not if you follow the \"VIEW\" link of that tile (4377213) API Request Error - Forum - Identity Manager Community - One Identity Community \u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u041b\u0438\u0431\u043e \u0437\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0442\u044c \u0432 projects\\qer\\src\\lib\\wport\\businessowner-chartsummary\\businessowner-chartsummary.component.ts Line 170: isinactive: '0' \u041b\u0438\u0431\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043d\u043e\u0432\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e (\u0432 9.2-298700 \u043d\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u0442\u0441\u044f) \u0412\u0441\u0442\u0440\u0435\u0447\u0430\u0435\u0442\u0441\u044f \u0432 226554","title":"7.7 Troubleshooting Angular portal"},{"location":"7.8%20Imxclient/","text":"7.8 Imxclient 10 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 18:13 Our database layer (VI.DB) automatically detects statetements that may be \"harmful\" or allow to access data bypassing security settings. Unfortunately some of the statements the API server uses fall under this category. One solution for this problem is to tell the database layer, that the statements come from a web application and that the web application takes care of preventing harmful access. To do so, the web application's entry in the database table QBMWebApplicationn stores a Trusted Source Key and the web application stores the same TrustedSourceKey in its web.config connectionStrings section. This source key is automatically added to the database and the web.config during the installation of the web application with the web installer and so you normally don't get bothered with that whole topic. When starting an API server locally using the ImxClient you can basically use the same mechanism but you have do configure it manually. This article tells you how to achieve that. Determine the TrustedSourceKey The easiest way is to install a web application and then copy the raw value from the deciphered web.config and the crypted value from the db table QBMWebApplication. Store the TrustedSourceKey in ImxClient.exe.config If not present, add this section definition for the connectionbehavior section to the configSections node. Here's an example of how this might look like: \\<configSections> \\<section name=\"connectionbehaviour\" type=\"System.Configuration.NameValueSectionHandler\" /> \\</configSections> If not present add a section named connectionbehaviour to your configuration. Within the connectionbehavior section add a value for the key TrustedSourceKey . Here's an example of how the connectionbehaviour section could look like: \\<connectionbehaviour> \\<add key=\"TrustedSourceKey\" value=\"ELLZ5Z6VZ5ERGHIC1SQSEHFHNSV5444S\" /> \\</connectionbehaviour > Store the TrustedSourceKey in the database In the database you want to connect to create an entry in the table QBMWebApplication with the following column values BaseURL: http://localhost:8182 TrustedSourceKey: \\<the crypted trusted source key> You could use the ObjectBrowser to create this data or the Designer.exe. If you use the Designer.exe go to Base data > Security settings > Web server configurations . Start the local API server When starting the local APIServer you have to make sure to give the paramater for baseurl: /baseurl Even if you just use the default base url http://localhost:8182 you have to pass /baseurl http://localhost:8182 to make this solution work. So your call looks something like this: ImxClient.exe run-apiserver -B /htmldir ixweb /baseurl http://localhost:8182 From \\< https://www.oneidentity.com/community/identity-manager/f/forum/36470/angular-development-and-potential-sql-injection-attack-imxclient-exe-config-settings-help/86223 > ImxClient.exe run-apiserver -B You need to provide a file named application.json in your binary directory where you start the imxclient.exe. { \"ConnectionStrings\": { \"TrustedSourceKey\": \"YOURTRUSTEDSOURCEKEY\" } } From \\< https://www.oneidentity.com/community/identity-manager/f/forum/37740/potentially-dangerous-behaviour-was-detected-the-request-will-be-ignored-810452/90951 >","title":"7.8 Imxclient"},{"location":"7.9%20%D0%9E%D1%82%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5%20%D0%BA%D0%BE%D0%BB%D0%BE%D0%BD%D0%BE%D0%BA%20%D0%BF%D1%80%D0%BE%D1%84%D0%B8%D0%BB%D1%8F%20%D0%B8%20%D0%BF%D1%80%D0%B0%D0%B2%D0%B0/","text":"7.9 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0438 \u043f\u0440\u0430\u0432\u0430 3 \u043e\u043a\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 17:35 projects\\qer\\src\\lib\\profile\\profile.component.ts \u0417\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0442\u044c //isReadOnly: () => !column.GetMetadata().CanEdit(), \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c isReadOnly: () => true, \u0412 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 API Portal \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 Web Portal \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0444 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 Identity data / Writable attributes (ServerConfig/PersonConfig/VI_PersonalData_Fields) Administration Portal > Configuration: Web Portal (click on: three dots icon) Create configuration key Select where to add the configuration key: API method configuration Name of the new configuration key: person_masterdata [Create] [search] person_masterdata API method configuration / person_masterdata / Read-only properties MiddleName [Add] [Apply] From \\< https://www.oneidentity.com/community/identity-manager/f/forum/37469/make-identity-s-field-not-editable-on-angular-web-portal/90103 >","title":"7.9 \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u0438 \u043f\u0440\u0430\u0432\u0430"},{"location":"8.%20Csharp%20Snippets/","text":"8. Csharp Snippets 21 \u043c\u0430\u0440\u0442\u0430 2023 \u0433. 16:10 string csvFilePathTmp = _Connection.GetConfigParm(\"Custom\\SED\\CsvDirTemp\") + \"\\\" + _Connection.GetConfigParm(\"Custom\\SED\\CsvFileName\"); using(var reader = new System.IO.StreamReader(csvFilePathTmp)) { System.Collections.Generic.List\\<string> ModuleSED = new System.Collections.Generic.List\\<string>(); System.Collections.Generic.List\\<string> ProductSED = new System.Collections.Generic.List\\<string>(); System.Collections.Generic.List\\<string> GroupAD = new System.Collections.Generic.List\\<string>(); System.Collections.Generic.List\\<string> dbKeySEDProduct = new System.Collections.Generic.List\\<string>(); //\u0414\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0435\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0438\u0437 \u0411\u0414 System.Collections.Generic.List\\<string> csvKeySEDProduct = new System.Collections.Generic.List\\<string>(); // \u0414\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0435\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0438\u0437 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0433\u043e CSV System.Collections.Generic.List\\<string> CsvDiffDb = new System.Collections.Generic.List\\<string>(); System.Collections.Generic.List\\<string> CsvErrors = new System.Collections.Generic.List\\<string>(); // \u0414\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u0444\u0430\u0439\u043b\u0430 CSV string strCsvKeySEDProduct; string csvModuleSED; string csvCategorySED; string csvProductSED; string csvRoleSED; string csvAdditionalParam; string csvGroupAD; string csvApprovalPerson; //\u041e\u0431\u044a\u044f\u0432\u0438\u043c DataTable \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 CSV /*var dtCSV = new System.Data.DataTable(); dtCSV.Columns.Add(\"Key\",typeof(string)); dtCSV.Columns.Add(\"ModuleSED\",typeof(string)); dtCSV.Columns.Add(\"CategorySED\",typeof(string)); dtCSV.Columns.Add(\"ProductSED\",typeof(string)); dtCSV.Columns.Add(\"RoleSED\",typeof(string)); dtCSV.Columns.Add(\"AdditionalParam\",typeof(string)); dtCSV.Columns.Add(\"GroupAD\",typeof(string)); dtCSV.Columns.Add(\"ApprovalPerson\",typeof(string)); */ //\u041e\u0431\u044a\u044f\u0432\u0438\u043c HashTables \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 CSV System.Collections.Hashtable htCSV_ModuleSED = new System.Collections.Hashtable(); System.Collections.Hashtable htCSV_CategorySED = new System.Collections.Hashtable(); System.Collections.Hashtable htCSV_ProductSED = new System.Collections.Hashtable(); System.Collections.Hashtable htCSV_RoleSED = new System.Collections.Hashtable(); System.Collections.Hashtable htCSV_AdditionalParam = new System.Collections.Hashtable(); System.Collections.Hashtable htCSV_GroupAD = new System.Collections.Hashtable(); System.Collections.Hashtable htCSV_ApprovalPerson = new System.Collections.Hashtable(); //\u041e\u0431\u044a\u044f\u0432\u0438\u043c HashTables \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 DB System.Collections.Hashtable htDB_ModuleSED = new System.Collections.Hashtable(); System.Collections.Hashtable htDB_CategorySED = new System.Collections.Hashtable(); System.Collections.Hashtable htDB_ProductSED = new System.Collections.Hashtable(); System.Collections.Hashtable htDB_RoleSED = new System.Collections.Hashtable(); System.Collections.Hashtable htDB_AdditionalParam = new System.Collections.Hashtable(); System.Collections.Hashtable htDB_GroupAD = new System.Collections.Hashtable(); System.Collections.Hashtable htDB_ApprovalPerson = new System.Collections.Hashtable(); //\u041f\u043e\u043b\u0443\u0447\u0438\u043c \u043b\u0438\u0441\u0442 \u0438\u0437 \u043a\u043b\u044e\u0447\u0435\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0432 \u0411\u0414 var CCC_KeySED = this.DataContext.CCCSEDProducts.GetColumn(\"CCC_Key\"); var CCC_ModuleSED = this.DataContext.CCCSEDProducts.GetColumn(\"CCC_ModuleSED\"); var CCC_CategorySED = this.DataContext.CCCSEDProducts.GetColumn(\"CCC_CategorySED\"); var CCC_ProductSED = this.DataContext.CCCSEDProducts.GetColumn(\"CCC_SEDProduct\"); var CCC_RoleSED = this.DataContext.CCCSEDProducts.GetColumn(\"CCC_SEDRole\"); var CCC_AdditionalParam = this.DataContext.CCCSEDProducts.GetColumn(\"CCC_AdditionalParam\"); var CCC_GroupAD = this.DataContext.CCCSEDProducts.GetColumn(\"CCC_AdGroupName\"); var CCC_ApprovalPerson = this.DataContext.CCCSEDProducts.GetColumn(\"CCC_ApprovalPerson\"); foreach (var row1 in this.DataContext.CCCSEDProducts) { dbKeySEDProduct.Add(CCC_KeySED.GetValue(row1).ToString()); htDB_ModuleSED.Add(CCC_KeySED.GetValue(row1).ToString(), CCC_ModuleSED.GetValue(row1).ToString()); htDB_CategorySED.Add(CCC_KeySED.GetValue(row1).ToString(), CCC_CategorySED.GetValue(row1).ToString()); htDB_ProductSED.Add(CCC_KeySED.GetValue(row1).ToString(), CCC_ProductSED.GetValue(row1).ToString()); htDB_RoleSED.Add(CCC_KeySED.GetValue(row1).ToString(), CCC_RoleSED.GetValue(row1).ToString()); htDB_AdditionalParam.Add(CCC_KeySED.GetValue(row1).ToString(), CCC_AdditionalParam.GetValue(row1).ToString()); htDB_GroupAD.Add(CCC_KeySED.GetValue(row1).ToString(), CCC_GroupAD.GetValue(row1).ToString()); htDB_ApprovalPerson.Add(CCC_KeySED.GetValue(row1).ToString(), CCC_ApprovalPerson.GetValue(row1).ToString()); } //\u041f\u0440\u043e\u0439\u0434\u0435\u043c\u0441\u044f \u043f\u043e \u0441\u0442\u0440\u043e\u043a\u0430\u043c \u0444\u0430\u0439\u043b\u0430 CSV while (!reader.EndOfStream) { var line = reader.ReadLine(); string sep = \"\\t\"; var values = line.Split(sep.ToCharArray()); csvModuleSED = values[0]; csvCategorySED = values[1]; csvProductSED = values[2]; csvRoleSED = values[3]; csvAdditionalParam = values[4]; csvGroupAD = values[7]; csvApprovalPerson = values[9]; //\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u043c Header CSV if (csvModuleSED == \"ModuleSED\" || csvModuleSED == \"\u041c\u043e\u0434\u0443\u043b\u044c \u0421\u042d\u0414\") { continue; } //\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c \u043a\u043b\u044e\u0447 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430 ModuleSED.Add(values[0]); ProductSED.Add(values[2]); if (csvAdditionalParam == \"\") { csvKeySEDProduct.Add(csvModuleSED + \" - \" + csvProductSED); strCsvKeySEDProduct = csvModuleSED + \" - \" + csvProductSED; } else { csvKeySEDProduct.Add(csvModuleSED + \" - \" + csvProductSED + \" - \" + csvAdditionalParam); strCsvKeySEDProduct = csvModuleSED + \" - \" + csvProductSED + \" - \" + csvAdditionalParam; } //\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u043c DataTable CSV //dtCSV.Rows.Add(strCsvKeySEDProduct,csvModuleSED,csvCategorySED,csvProductSED,csvRoleSED,csvAdditionalParam,csvGroupAD,csvApprovalPerson); //\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u043c HashTables CSV htCSV_ModuleSED.Add(strCsvKeySEDProduct, csvModuleSED); htCSV_CategorySED.Add(strCsvKeySEDProduct, csvCategorySED); htCSV_ProductSED.Add(strCsvKeySEDProduct, csvProductSED); htCSV_RoleSED.Add(strCsvKeySEDProduct, csvRoleSED); htCSV_AdditionalParam.Add(strCsvKeySEDProduct, csvAdditionalParam); htCSV_GroupAD.Add(strCsvKeySEDProduct, csvGroupAD); htCSV_ApprovalPerson.Add(strCsvKeySEDProduct, csvApprovalPerson); } //\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u043f\u0443\u0441\u0442\u043d\u044b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f int i = 0; foreach (string ModuleSED_ in ModuleSED) { i += 1; if (ModuleSED_ == \"\") { string str_i; str_i = i.ToString(); Call4.MessageType = \"Error\"; Call4.MessageText = \"\u041a\u043e\u043b\u043e\u043d\u043a\u0430 \u041c\u043e\u0434\u0443\u043b\u044c \u0421\u042d\u0414 \u043f\u0443\u0441\u0442\u0430\u044f \u0432 \" + str_i + \" \u0441\u0442\u0440\u043e\u043a\u0435\"; Call4.TableStore = this.TableStore.GetChildTableStore(_Module, (this.TableStore.Name + \"_Call4\")); Call4.GetAction(ct); CsvErrors.Add(\"Error\"); } } i = 0; foreach (string ProductSED_ in ProductSED) { i += 1; if (ProductSED_ == \"\") { string str_i; str_i = i.ToString(); Call4.MessageType = \"Error\"; Call4.MessageText = \"\u041a\u043e\u043b\u043e\u043d\u043a\u0430 \u041f\u0440\u043e\u0434\u0443\u043a\u0442 \u0421\u042d\u0414 \u043f\u0443\u0441\u0442\u0430\u044f \u0432 \" + str_i + \" \u0441\u0442\u0440\u043e\u043a\u0435\"; Call4.TableStore = this.TableStore.GetChildTableStore(_Module, (this.TableStore.Name + \"_Call4\")); Call4.GetAction(ct); CsvErrors.Add(\"Error\"); } } //\u0421\u0444\u043e\u0440\u043c\u0438\u0440\u0443\u0435\u043c Lists \u043e\u0442\u043b\u0438\u0447\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0437\u0430\u043f\u0438\u0441\u0435\u0439 csv \u0438 DB var CsvExceptDb = csvKeySEDProduct.Except(dbKeySEDProduct).ToList(); var DbExceptCsv = dbKeySEDProduct.Except(csvKeySEDProduct).ToList(); //\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u043c \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0432 \u0411\u0414 VI.WebRuntime.ColumnInsertValues _insertValues = new VI.WebRuntime.ColumnInsertValues(); VI.WebRuntime.IDataColumn _ModuleSED = this.DataContext.CCCSEDProductsDiff.GetColumn(\"ModuleSED\"); VI.WebRuntime.IDataColumn _CategorySED = this.DataContext.CCCSEDProductsDiff.GetColumn(\"CategorySED\"); VI.WebRuntime.IDataColumn _ProductSED = this.DataContext.CCCSEDProductsDiff.GetColumn(\"ProductSED\"); VI.WebRuntime.IDataColumn _RoleSED = this.DataContext.CCCSEDProductsDiff.GetColumn(\"RoleSED\"); VI.WebRuntime.IDataColumn _AdditionalParam = this.DataContext.CCCSEDProductsDiff.GetColumn(\"AdditionalParam\"); VI.WebRuntime.IDataColumn _GroupAD = this.DataContext.CCCSEDProductsDiff.GetColumn(\"ADGroup\"); VI.WebRuntime.IDataColumn _ApprovalPerson = this.DataContext.CCCSEDProductsDiff.GetColumn(\"ApprovalPerson\"); foreach (string keySEDProduct in CsvExceptDb) { _insertValues.DynamicInsertValues[_ModuleSED] = _row => { return htCSV_ModuleSED[keySEDProduct].ToString(); }; _insertValues.DynamicInsertValues[_CategorySED] = _row => { return htCSV_CategorySED[keySEDProduct].ToString(); }; _insertValues.DynamicInsertValues[_ProductSED] = _row => { return htCSV_ProductSED[keySEDProduct].ToString(); }; _insertValues.DynamicInsertValues[_RoleSED] = _row => { return htCSV_RoleSED[keySEDProduct].ToString(); }; _insertValues.DynamicInsertValues[_AdditionalParam] = _row => { return htCSV_AdditionalParam[keySEDProduct].ToString(); }; _insertValues.DynamicInsertValues[_GroupAD] = _row => { return htCSV_GroupAD[keySEDProduct].ToString(); }; _insertValues.DynamicInsertValues[_ApprovalPerson] = _row => { return htCSV_ApprovalPerson[keySEDProduct].ToString(); }; this.DataContext.CCCSEDProductsDiff.Insert(VI.WebRuntime.ResultSet.FromList(false, \"\"), 2147483647, _insertValues); } //\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u043c \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u044b \u0438\u0437 \u0411\u0414 VI.WebRuntime.ColumnInsertValues _insertValues1 = new VI.WebRuntime.ColumnInsertValues(); VI.WebRuntime.IDataColumn _ModuleSED1 = this.DataContext.CSVProductsDiff.GetColumn(\"ModuleSED\"); VI.WebRuntime.IDataColumn _CategorySED1 = this.DataContext.CSVProductsDiff.GetColumn(\"CategorySED\"); VI.WebRuntime.IDataColumn _ProductSED1 = this.DataContext.CSVProductsDiff.GetColumn(\"ProductSED\"); VI.WebRuntime.IDataColumn _RoleSED1 = this.DataContext.CSVProductsDiff.GetColumn(\"RoleSED\"); VI.WebRuntime.IDataColumn _AdditionalParam1 = this.DataContext.CSVProductsDiff.GetColumn(\"AdditionalParam\"); VI.WebRuntime.IDataColumn _GroupAD1 = this.DataContext.CSVProductsDiff.GetColumn(\"ADGroup\"); VI.WebRuntime.IDataColumn _ApprovalPerson1 = this.DataContext.CSVProductsDiff.GetColumn(\"ApprovalPerson\"); foreach (string keySEDProduct in DbExceptCsv) { _insertValues1.DynamicInsertValues[_ModuleSED1] = _row => { return htDB_ModuleSED[keySEDProduct].ToString(); }; _insertValues1.DynamicInsertValues[_CategorySED1] = _row => { return htDB_CategorySED[keySEDProduct].ToString(); }; _insertValues1.DynamicInsertValues[_ProductSED1] = _row => { return htDB_ProductSED[keySEDProduct].ToString(); }; _insertValues1.DynamicInsertValues[_RoleSED1] = _row => { return htDB_RoleSED[keySEDProduct].ToString(); }; _insertValues1.DynamicInsertValues[_AdditionalParam1] = _row => { return htDB_AdditionalParam[keySEDProduct].ToString(); }; _insertValues1.DynamicInsertValues[_GroupAD1] = _row => { return htDB_GroupAD[keySEDProduct].ToString(); }; _insertValues1.DynamicInsertValues[_ApprovalPerson1] = _row => { return htDB_ApprovalPerson[keySEDProduct].ToString(); }; this.DataContext.CSVProductsDiff.Insert(VI.WebRuntime.ResultSet.FromList(false, \"\"), 2147483647, _insertValues1); } //\u0421\u0440\u0430\u0432\u043d\u0438\u043c \u0434\u0432\u0435 Data Tables: dtCSV \u0438 CCCSEDProducts /*_Form.ShowMessage(\"Hello\"); _Form.ShowMessage(dtCSV.Rows.Count.ToString()); _Form.ShowMessage(dtCSV.Rows[5][7].ToString()); _Form.ShowMessage(this.DataContext.CCCSEDProducts.Rows[5][7].ToString()); */ //\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u043c \u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u043e\u0442\u043b\u0438\u0447\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 csv \u0438 \u0411\u0414 VI.WebRuntime.ColumnInsertValues _insertValues3 = new VI.WebRuntime.ColumnInsertValues(); VI.WebRuntime.IDataColumn _ModuleSED2 = this.DataContext.CCCSEDProductsDiff1.GetColumn(\"ModuleSED\"); VI.WebRuntime.IDataColumn _CategorySED2 = this.DataContext.CCCSEDProductsDiff1.GetColumn(\"CategorySED\"); VI.WebRuntime.IDataColumn _ProductSED2 = this.DataContext.CCCSEDProductsDiff1.GetColumn(\"ProductSED\"); VI.WebRuntime.IDataColumn _RoleSED2 = this.DataContext.CCCSEDProductsDiff1.GetColumn(\"RoleSED\"); VI.WebRuntime.IDataColumn _AdditionalParam2 = this.DataContext.CCCSEDProductsDiff1.GetColumn(\"AdditionalParam\"); VI.WebRuntime.IDataColumn _GroupAD2 = this.DataContext.CCCSEDProductsDiff1.GetColumn(\"ADGroup\"); VI.WebRuntime.IDataColumn _ApprovalPerson2 = this.DataContext.CCCSEDProductsDiff1.GetColumn(\"ApprovalPerson\"); foreach (string stri in dbKeySEDProduct) { try {string.Compare(htCSV_GroupAD[stri].ToString(),htDB_GroupAD[stri].ToString());} catch {continue;} if (string.Compare(htCSV_GroupAD[stri].ToString(),htDB_GroupAD[stri].ToString()) != 0 || string.Compare(htCSV_ApprovalPerson[stri].ToString(),htDB_ApprovalPerson[stri].ToString()) != 0) { //_Form.ShowMessage(\"\u041a\u043b\u044e\u0447: \" + stri + \" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0432 \u0444\u0430\u0439\u043b\u0435: \" + htCSV_GroupAD[stri].ToString() + \" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u0432 \u0411\u0414: \" + htDB_GroupAD[stri].ToString() + \" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0435\u0433\u043e \u0432 \u0444\u0430\u0439\u043b\u0435:\" + htCSV_ApprovalPerson[stri].ToString() + \" \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0435\u0433\u043e \u0432 \u0411\u0414: \" + htDB_ApprovalPerson[stri].ToString()); _insertValues3.DynamicInsertValues[_ModuleSED2] = _row => { return htDB_ModuleSED[stri].ToString(); }; _insertValues3.DynamicInsertValues[_CategorySED2] = _row => { return htDB_CategorySED[stri].ToString(); }; _insertValues3.DynamicInsertValues[_ProductSED2] = _row => { return htDB_ProductSED[stri].ToString(); }; _insertValues3.DynamicInsertValues[_RoleSED2] = _row => { return htDB_RoleSED[stri].ToString(); }; _insertValues3.DynamicInsertValues[_AdditionalParam2] = _row => { return htDB_AdditionalParam[stri].ToString(); }; _insertValues3.DynamicInsertValues[_GroupAD2] = _row => { if (string.Compare(htCSV_GroupAD[stri].ToString(),htDB_GroupAD[stri].ToString()) != 0 ) {return htDB_GroupAD[stri].ToString() + \" -> \" + htCSV_GroupAD[stri].ToString();} else {return htDB_GroupAD[stri].ToString();} }; _insertValues3.DynamicInsertValues[_ApprovalPerson2] = _row => { if ( string.Compare(htCSV_ApprovalPerson[stri].ToString(),htDB_ApprovalPerson[stri].ToString()) != 0) {return htDB_ApprovalPerson[stri].ToString() + \" -> \" + htCSV_ApprovalPerson[stri].ToString();} else {return htDB_ApprovalPerson[stri].ToString();} }; this.DataContext.CCCSEDProductsDiff1.Insert(VI.WebRuntime.ResultSet.FromList(false, \"\"), 2147483647, _insertValues3); } } //\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u043c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e CSVValidated \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0444\u043e\u0440\u043c\u044b \u0441 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438, \u0447\u0442\u043e \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0439\u0434\u0435\u043d\u0430 if (CsvErrors.Count == 0) { VI.WebRuntime.ColumnInsertValues _insertValues2 = new VI.WebRuntime.ColumnInsertValues(); VI.WebRuntime.IDataColumn _Valid = this.DataContext.CSVValidated.GetColumn(\"Valid\"); _insertValues2.DynamicInsertValues[_Valid] = _row => { return \"hh\"; }; this.DataContext.CSVValidated.Insert(VI.WebRuntime.ResultSet.FromList(false, \"\"), 2147483647, _insertValues2); } } //------------------------------------------------- //\u0423\u0434\u0430\u043b\u0438\u043c \u0432\u0441\u0435 \u0444\u0430\u0439\u043b\u044b \u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0421\u042d\u0414 System.IO.DirectoryInfo di = new System.IO.DirectoryInfo(_Connection.GetConfigParm(\"Custom\\SED\\CsvDirTemp\")); foreach (System.IO.FileInfo file in di.GetFiles()) { file.Delete(); } //------------- //\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u043c \u0444\u0430\u0439\u043b csv \u0438\u0437 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0440\u0435\u043a\u0442\u0440\u043e\u0440\u0438\u0438 \u0432 \u0440\u0430\u0431\u043e\u0447\u0443\u044e \u0434\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438. string CsvDirTemp = _Connection.GetConfigParm(\"Custom\\SED\\CsvDirTemp\"); string CsvDir = _Connection.GetConfigParm(\"Custom\\SED\\CsvDir\"); string CsvFileName = _Connection.GetConfigParm(\"Custom\\SED\\CsvFileName\"); string CsvFilePath = CsvDir + \"\\\" + CsvFileName; string CsvFilePathTemp = CsvDirTemp + \"\\\" + CsvFileName; if (System.IO.File.Exists(CsvFilePath)) { System.IO.File.Delete(CsvFilePath); } System.IO.File.Move(CsvFilePathTemp, CsvFilePath); IVI_Common_UserMessageAdd SaveFileInform = _UserSession.ApplicationInfo.CreateComponent\\<IVI_Common_UserMessageAdd>(); SaveFileInform.MessageType = \"Success\"; SaveFileInform.MessageText = \"\u0424\u0430\u0439\u043b \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d \u0432 \u0440\u0430\u0431\u043e\u0447\u0435\u0439 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0434\u043b\u044f \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0441 \u0410\u0421\u0423\u0414\"; SaveFileInform.TableStore = this.TableStore.GetChildTableStore(_Module, (this.TableStore.Name + \"_SaveFileInform\")); SaveFileInform.GetAction(ct); //------ //\u0423\u0434\u0430\u043b\u0438\u043c \u0432\u0441\u0435 \u0444\u0430\u0439\u043b\u044b \u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0421\u042d\u0414 System.IO.DirectoryInfo di = new System.IO.DirectoryInfo(_Connection.GetConfigParm(\"Custom\\SED\\CsvDirTemp\")); foreach (System.IO.FileInfo file in di.GetFiles()) { file.Delete(); }","title":"8. Csharp Snippets"},{"location":"8.1%20%D0%9F%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20URL/","text":"8.1 \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 URL 5 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 10:19 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c URL \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0438 \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u043c\u044f \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0430 CCC_ITShop_OrderHistory_New, \u0442\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u044d\u0442\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u043f\u043e\u043b\u0435 SingleRowCollection var request = System.Web.HttpContext.Current.Request; string result = \"\"; string referer = request.UrlReferrer != null ? request.UrlReferrer.AbsoluteUri : string.Empty; if (referer.Contains(\"ContextID=CCC_ITShop_OrderHistory_New\")) {result = \"CCC_ITShop_OrderHistory_New\";} VI.WebRuntime.IDataColumn _SourceComponent1 = this.Vars1.GetColumn(\"SourceComponent\"); System.Collections.Generic.IEnumerator\\<VI.WebRuntime.RowCursor> _enumerating7 = new VI.WebRuntime.RowCursorList(this.Vars1).GetEnumerator(); for (int _rowIndex7 = 0; _enumerating7.MoveNext(); _rowIndex7 = (_rowIndex7 + 1)) { VI.WebRuntime.RowCursor Update14_Current = _enumerating7.Current; await _SourceComponent1.SetValueAsync(Update14_Current.Row, result).ConfigureAwait(false); }","title":"8.1 \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 URL"},{"location":"8.2%20%D0%92%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5%20md5/","text":"8.2 \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 md5 12 \u0444\u0435\u0432\u0440\u0430\u043b\u044f 2024 \u0433. 15:57 using (var md5 = MD5.Create()) { using (var stream = File.OpenRead(@\"C:\\temp\\Kitchen.pdf\")) { var qq = md5.ComputeHash(stream); string s = System.Text.Encoding.UTF8.GetString(qq); string ww = BitConverter.ToString(qq).Replace(\"-\", \"\").ToLowerInvariant(); // Create the file. /* using (FileStream fs = File.Create(@\"C:\\temp\\qwe1.txt\")) { Byte[] info = new UTF8Encoding(true).GetBytes(s); // Add some information to the file. fs.Write(info, 0, info.Length); } */ _Form.ShowMessage(ww); } }","title":"8.2 \u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 md5"},{"location":"9.%20Notifications/","text":"9. Notifications 23 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 12:21","title":"9. Notifications"},{"location":"9.1%20%D0%9E%D1%82%D0%BF%D1%80%D0%B0%D0%B2%D0%BA%D0%B0%20%D1%83%D0%B2%D0%B5%D0%B4%D0%BE%D0%BC%D0%BB%D0%B5%D0%BD%D0%B8%D0%B9%20%D0%BD%D0%B0%20%D1%81%D0%BE%D0%B3%D0%BB%D0%B0%D1%81%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B2%D1%81%D0%B5%D0%BC%20%D0%BD%D0%B0%D0%B9%D0%B4%D0%B5%D0%BD%D0%BD%D1%8B%D0%BC%20%D1%81%D0%BE%D0%B3%D0%BB%D0%B0%D1%81%D1%83%D1%8E%D1%89%D0%B8%D0%BC/","text":"9.1 \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0441\u0435\u043c \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u043c \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u043c 23 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f 2025 \u0433. 12:21 \u0412 \u0448\u0430\u0433\u0435 Workflow \u0434\u043b\u044f Number of approvers \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c -1 \"If you want approval decisions to be made by all the employees found using the applicable approval procedure, for example all members of a role (default approval procedure OR), enter the value -1 .\" From \\< https://www.oneidentity.com/community/identity-manager/f/forum/31385/calculate-number-of-approvers-for-custom-decision-step >","title":"9.1 \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 \u043d\u0430 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u0441\u0435\u043c \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u043c \u0441\u043e\u0433\u043b\u0430\u0441\u0443\u044e\u0449\u0438\u043c"}]}